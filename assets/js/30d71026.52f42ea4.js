"use strict";(self.webpackChunkblogs=self.webpackChunkblogs||[]).push([[7942],{8453:(e,t,n)=>{n.d(t,{R:()=>a,x:()=>l});var o=n(6540);const s={},r=o.createContext(s);function a(e){const t=o.useContext(r);return o.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function l(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),o.createElement(r.Provider,{value:t},e.children)}},9694:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>a,default:()=>p,frontMatter:()=>r,metadata:()=>l,toc:()=>u});var o=n(4848),s=n(8453);const r={slug:"sketch-plugin-upload",title:"Sketch \u63d2\u4ef6\u5b9e\u73b0\u56fe\u5c42\u5bfc\u51fa\u56fe\u7247\u5e76\u4e0a\u4f20",authors:["sleepy"],tags:["webdev"]},a=void 0,l={permalink:"/blog/sketch-plugin-upload",source:"@site/blog/2024-04-07-sketch-plugin-upload.md",title:"Sketch \u63d2\u4ef6\u5b9e\u73b0\u56fe\u5c42\u5bfc\u51fa\u56fe\u7247\u5e76\u4e0a\u4f20",description:"\u56fe\u5c42\u5bfc\u51fa buffer\uff1a",date:"2024-04-07T00:00:00.000Z",formattedDate:"2024\u5e744\u67087\u65e5",tags:[{label:"webdev",permalink:"/blog/tags/webdev"}],readingTime:.365,hasTruncateMarker:!1,authors:[{name:"SleepyZone",title:"\u524d\u7aef\u5f00\u53d1 / \u5f00\u6e90\u7231\u597d\u8005",url:"https://github.com/sleepy-zone",imageURL:"https://avatars.githubusercontent.com/u/131369648?v=4",key:"sleepy"}],frontMatter:{slug:"sketch-plugin-upload",title:"Sketch \u63d2\u4ef6\u5b9e\u73b0\u56fe\u5c42\u5bfc\u51fa\u56fe\u7247\u5e76\u4e0a\u4f20",authors:["sleepy"],tags:["webdev"]},unlisted:!1,prevItem:{title:"Ant Design Meetup \u4e4b\u884c",permalink:"/blog/antd-meetup"},nextItem:{title:"\u56fd\u5185\u5916\u7ec4\u4ef6\u5e93\u7684\u4e00\u4e9b\u5dee\u5f02",permalink:"/blog/ui-diff-in-out"}},c={authorsImageUrls:[void 0]},u=[];function i(e){const t={code:"code",p:"p",pre:"pre",...(0,s.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(t.p,{children:"\u56fe\u5c42\u5bfc\u51fa buffer\uff1a"}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-js",children:"import SketchDom from 'sketch/dom';\nimport UI from 'sketch/ui';\n\nconst document = SketchDom.getSelectedDocument();\nconst { layers, length, isEmpty } = document.selectedLayers;\n\nconst layer = layers[0];\n\nconst options = { formats: 'png', output: false }\nconst buffer = SketchDom.export(layer, options);\n"})}),"\n",(0,o.jsx)(t.p,{children:"buffer \u4e0a\u4f20\uff1a"}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-js",children:"const formData = new FormData();\n\nformData.append('file', {\n  data: buffer,\n  fileName: `${Date.now()}.png`,\n  mimeType: 'image/png'\n}, `${Date.now()}_glaze_layer_img.png`);\n\nreturn fetch(url, { method: 'POST', body: formData })\n"})})]})}function p(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,o.jsx)(t,{...e,children:(0,o.jsx)(i,{...e})}):i(e)}}}]);
<!doctype html>
<html lang="zh-Hans" dir="ltr" class="blog-wrapper blog-post-page plugin-blog plugin-id-default" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.7.0">
<title data-rh="true">Cline æºç æµ…æ - MCP è°ƒç”¨ | ğŸ˜´ Sleepy Zone</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://sleepy-zone.github.io/blog/2025-06-10-cline-source-code-mcp.md"><meta data-rh="true" property="og:locale" content="zh_Hans"><meta data-rh="true" name="docusaurus_locale" content="zh-Hans"><meta data-rh="true" name="docusaurus_tag" content="default"><meta data-rh="true" name="docsearch:language" content="zh-Hans"><meta data-rh="true" name="docsearch:docusaurus_tag" content="default"><meta data-rh="true" property="og:title" content="Cline æºç æµ…æ - MCP è°ƒç”¨ | ğŸ˜´ Sleepy Zone"><meta data-rh="true" name="description" content="ä¸Šä¸€ç¯‡æ–‡ç« Cline æºç æµ…æ - ä»è¾“å…¥åˆ°è¾“å‡ºï¼Œä»æºç è§’åº¦æµè§ˆäº†ä¸€ä¸‹ Cline å¤„ç†ç”¨æˆ·è¾“å…¥åˆ°æœ€åè¾“å‡ºçš„è¿‡ç¨‹ï¼Œæœ¬æ–‡çœ‹ä¸€ä¸‹å…¶ä¸­å…³äº MCP çš„å¤„ç†ã€‚"><meta data-rh="true" property="og:description" content="ä¸Šä¸€ç¯‡æ–‡ç« Cline æºç æµ…æ - ä»è¾“å…¥åˆ°è¾“å‡ºï¼Œä»æºç è§’åº¦æµè§ˆäº†ä¸€ä¸‹ Cline å¤„ç†ç”¨æˆ·è¾“å…¥åˆ°æœ€åè¾“å‡ºçš„è¿‡ç¨‹ï¼Œæœ¬æ–‡çœ‹ä¸€ä¸‹å…¶ä¸­å…³äº MCP çš„å¤„ç†ã€‚"><meta data-rh="true" property="og:type" content="article"><meta data-rh="true" property="article:published_time" content="2025-06-10T00:00:00.000Z"><meta data-rh="true" property="article:author" content="https://github.com/sleepy-zone"><meta data-rh="true" property="article:tag" content="AI,Cline"><link data-rh="true" rel="icon" href="/img/logo.svg"><link data-rh="true" rel="canonical" href="https://sleepy-zone.github.io/blog/2025-06-10-cline-source-code-mcp.md"><link data-rh="true" rel="alternate" href="https://sleepy-zone.github.io/blog/2025-06-10-cline-source-code-mcp.md" hreflang="zh-Hans"><link data-rh="true" rel="alternate" href="https://sleepy-zone.github.io/blog/2025-06-10-cline-source-code-mcp.md" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","@id":"https://sleepy-zone.github.io/blog/2025-06-10-cline-source-code-mcp.md","mainEntityOfPage":"https://sleepy-zone.github.io/blog/2025-06-10-cline-source-code-mcp.md","url":"https://sleepy-zone.github.io/blog/2025-06-10-cline-source-code-mcp.md","headline":"Cline æºç æµ…æ - MCP è°ƒç”¨","name":"Cline æºç æµ…æ - MCP è°ƒç”¨","description":"ä¸Šä¸€ç¯‡æ–‡ç« Cline æºç æµ…æ - ä»è¾“å…¥åˆ°è¾“å‡ºï¼Œä»æºç è§’åº¦æµè§ˆäº†ä¸€ä¸‹ Cline å¤„ç†ç”¨æˆ·è¾“å…¥åˆ°æœ€åè¾“å‡ºçš„è¿‡ç¨‹ï¼Œæœ¬æ–‡çœ‹ä¸€ä¸‹å…¶ä¸­å…³äº MCP çš„å¤„ç†ã€‚","datePublished":"2025-06-10T00:00:00.000Z","author":{"@type":"Person","name":"SleepyZone","description":"å‰ç«¯å¼€å‘ / å¼€æºçˆ±å¥½è€…","url":"https://github.com/sleepy-zone","image":"https://avatars.githubusercontent.com/u/131369648?v=4"},"keywords":[],"isPartOf":{"@type":"Blog","@id":"https://sleepy-zone.github.io/blog","name":"Blog"}}</script><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="ğŸ˜´ Sleepy Zone RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="ğŸ˜´ Sleepy Zone Atom Feed">





<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&amp;display=swap">
<script>!function(t,e,n,a,c,r,s){t[n]=t[n]||function(){(t[n].q=t[n].q||[]).push(arguments)},(r=e.createElement(a)).async=1,r.src="https://www.clarity.ms/tag/r1wmvdsf4a",(s=e.getElementsByTagName(a)[0]).parentNode.insertBefore(r,s)}(window,document,"clarity","script")</script><link rel="stylesheet" href="/assets/css/styles.5d8c36ea.css">
<script src="/assets/js/runtime~main.9d903909.js" defer="defer"></script>
<script src="/assets/js/main.8b1b5f3b.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="è·³åˆ°ä¸»è¦å†…å®¹"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">è·³åˆ°ä¸»è¦å†…å®¹</a></div><nav aria-label="ä¸»å¯¼èˆª" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="åˆ‡æ¢å¯¼èˆªæ " aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="Sleepy Zone Site Logo" class="themedComponent__dKv themedComponent--light_rzkv"><img src="/img/logo.svg" alt="Sleepy Zone Site Logo" class="themedComponent__dKv themedComponent--dark_mMAk"></div><b class="navbar__title text--truncate">Sleepy Zone</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/blog">ğŸ”¥åšå®¢</a><a class="navbar__item navbar__link" href="/thoughts">ğŸ’¡æƒ³æ³•</a><a class="navbar__item navbar__link" href="/weekly/2025-04-23">ğŸ“šä¸å‘¨åˆŠ</a></div><div class="navbar__items navbar__items--right"><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_re4s thin-scrollbar" aria-label="æœ€è¿‘åšæ–‡å¯¼èˆª"><div class="sidebarItemTitle_pO2u margin-bottom--md">All posts</div><div role="group"><h3 class="yearGroupHeading_rMGB">2025</h3><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2025-06-26-context-engineering.md">ä¸Šä¸‹æ–‡å·¥ç¨‹ - Context Engineering</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2025-06-23-cline-source-code-3-engine.md">Cline æºç æµ…æ - é€’å½’æ‰§è¡Œå¼•æ“</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2025-06-20-why-human-intent-matters-more-as-ai-capabilities-grow.md">ä¸ºä»€ä¹ˆéšç€ AI èƒ½åŠ›çš„æå‡ï¼Œäººç±»æ„å›¾å˜å¾—æ›´åŠ é‡è¦</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2025-06-16-what-makes-a-coding-agent.md">ä»€ä¹ˆæ˜¯ Coding Agent?</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2025-06-13-cline-source-code-prompt.md">Cline æºç æµ…æ - Prompt è®¾è®¡</a></li><li class="sidebarItem__DBe"><a aria-current="page" class="sidebarItemLink_mo7H sidebarItemLinkActive_I1ZP" href="/blog/2025-06-10-cline-source-code-mcp.md">Cline æºç æµ…æ - MCP è°ƒç”¨</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2025-06-07-cline-source-code-1.md">Cline æºç æµ…æ - ä»è¾“å…¥åˆ°è¾“å‡º</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2025-05-30-cline-rule.md">ç°åœ¨å¼€å§‹ä½¿ç”¨ Cline Rules</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2025-04-30-ts-agent-mastra.md">Mastra  - TypeScript AI Agent æ¡†æ¶</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2025-04-30-deepwiki.md">DeepWiki - é˜…è¯»å¼€æºä»£ç çš„ç¥å™¨</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2025-04-24-google-promtps-2.md">è°·æ­Œæç¤ºè¯å·¥ç¨‹ - æœ€ä½³å®è·µ</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2025-04-23-google-promtps.md">è°·æ­Œæç¤ºè¯å·¥ç¨‹ - æ¨¡å‹åŸç†å’Œæç¤ºè¯æŠ€æœ¯</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2025-04-21-old-fe-1.md">ç›˜ç‚¹å‰ç«¯è¿˜åœ¨æ›´æ–°çš„è€é¡¹ç›®</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2025-04-14-github-no-vistit.md">ä» Github ä¸èƒ½è®¿é—®æƒ³åˆ°çš„</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2025-04-10-what-is-agent.md">ä»€ä¹ˆæ˜¯ Agent</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2025-04-07-deepsite.md">DeepSiteï¼šåŸºäº DeepSeek çš„ç”Ÿç åº”ç”¨</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2025-04-06-recent-ai-1.md">æœ€è¿‘å‡ ä»¶å…³äº AI çš„äº‹æƒ…</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2025-03-28-mcp.md">MCP - AI å’ŒçœŸå®ä¸–ç•Œçš„æ¡¥æ¢</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2025-03-26-dev-mcp-server.md">åŠ¨æ‰‹å¼€å‘ä¸€ä¸ª MCP Server</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2025-03-21-woocs">woocsï¼ŒåŸºäº doocs/md çš„å¾®ä¿¡ Markdown ç¼–è¾‘å™¨æ¡Œé¢åº”ç”¨</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2025-03-20-vibe-coding">èŠèŠ vibe coding</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2025-03-19-doocs-md">ã€å¼€æºæ¨èã€‘é«˜åº¦ç®€æ´çš„å¾®ä¿¡ Markdown ç¼–è¾‘å™¨</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2025-03-17-ai-fomo">AI æµªæ½®ä¸‹çš„ FOMO æƒ…ç»ª</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2025-03-10-D2">D2 ç»ˆç«¯æŠ€æœ¯å¤§ä¼šä¹‹æ—…</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2025-02-25-2025-ai-first">2025 å¹´æˆ–è®¸æ˜¯ä¸­å›½çš„ AI å…ƒå¹´</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2025-02-19-we-are-destroying-software">ã€å¥½æ–‡æ¨èã€‘æˆ‘ä»¬æ­£åœ¨æ‘§æ¯è½¯ä»¶</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/ai-replace-fe">AI å¯ä»¥å–ä»£å‰ç«¯å—</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/my-2024">è¿Ÿæ¥çš„ 2024 æ€»ç»“</a></li></ul></div><div role="group"><h3 class="yearGroupHeading_rMGB">2024</h3><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/antd-meetup">Ant Design Meetup ä¹‹è¡Œ</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/sketch-plugin-upload">Sketch æ’ä»¶å®ç°å›¾å±‚å¯¼å‡ºå›¾ç‰‡å¹¶ä¸Šä¼ </a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/ui-diff-in-out">å›½å†…å¤–ç»„ä»¶åº“çš„ä¸€äº›å·®å¼‚</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/thinking-recently">å¯¹è¿‘æœŸä¸€äº›äº‹æƒ…çš„çœ‹æ³•</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/shijing">æˆ‘è¯»äº†è¯»è¯—ç»</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/gradient-in-fe">èŠèŠå‰ç«¯é‡Œçš„æ¸å˜</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/fabritor-2024-1">fabritor @ 2024 çš„ä¸€äº›æ›´æ–°</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2023-summary">2023 æ€»ç»“</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/welcome">Welcome</a></li></ul></div></nav></aside><main class="col col--7"><article class=""><header><h1 class="title_f1Hy">Cline æºç æµ…æ - MCP è°ƒç”¨</h1><div class="container_mt6G margin-vert--md"><time datetime="2025-06-10T00:00:00.000Z">2025å¹´6æœˆ10æ—¥</time> Â· <!-- -->é˜…è¯»éœ€ 7 åˆ†é’Ÿ</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--12 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/sleepy-zone" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo authorImage_XqGP" src="https://avatars.githubusercontent.com/u/131369648?v=4" alt="SleepyZone"></a><div class="avatar__intro authorDetails_lV9A"><div class="avatar__name"><a href="https://github.com/sleepy-zone" target="_blank" rel="noopener noreferrer"><span class="authorName_yefp">SleepyZone</span></a></div><small class="authorTitle_nd0D" title="å‰ç«¯å¼€å‘ / å¼€æºçˆ±å¥½è€…">å‰ç«¯å¼€å‘ / å¼€æºçˆ±å¥½è€…</small><div class="authorSocials_rSDt"></div></div></div></div></div></header><div id="__blog-post-container" class="markdown"><p>ä¸Šä¸€ç¯‡æ–‡ç« <a href="https://mp.weixin.qq.com/s/9bJAeQ3U0_U85sDCcJSXxw" target="_blank" rel="noopener noreferrer">Cline æºç æµ…æ - ä»è¾“å…¥åˆ°è¾“å‡º</a>ï¼Œä»æºç è§’åº¦æµè§ˆäº†ä¸€ä¸‹ Cline å¤„ç†ç”¨æˆ·è¾“å…¥åˆ°æœ€åè¾“å‡ºçš„è¿‡ç¨‹ï¼Œæœ¬æ–‡çœ‹ä¸€ä¸‹å…¶ä¸­å…³äº MCP çš„å¤„ç†ã€‚</p>
<p><img decoding="async" loading="lazy" src="https://fastly.jsdelivr.net/gh/bucketio/img17@main/2025/06/06/1749176746221-f97aba25-6da5-461a-be21-369de1c44fff.png" alt="" class="img_ev3q"></p>
<blockquote>
<p>å…³äº MCPï¼Œå¯ä»¥æŸ¥çœ‹<a href="https://modelcontextprotocol.io/introduction" target="_blank" rel="noopener noreferrer">å®˜æ–¹æ–‡æ¡£</a></p>
</blockquote>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="cline-mcp">Cline MCP<a href="#cline-mcp" class="hash-link" aria-label="Cline MCPçš„ç›´æ¥é“¾æ¥" title="Cline MCPçš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="å¦‚ä½•é…ç½®-mcp-server">å¦‚ä½•é…ç½® MCP Server<a href="#å¦‚ä½•é…ç½®-mcp-server" class="hash-link" aria-label="å¦‚ä½•é…ç½® MCP Serverçš„ç›´æ¥é“¾æ¥" title="å¦‚ä½•é…ç½® MCP Serverçš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<p>æˆ‘ä»¬æ‰“å¼€ Cline çš„ MCP ç•Œé¢ï¼Œå¯ä»¥çœ‹åˆ° Cline æä¾›äº†å¤šç§é…ç½® MCP çš„æ–¹å¼ï¼š</p>
<p><img decoding="async" loading="lazy" src="https://fastly.jsdelivr.net/gh/bucketio/img14@main/2025/06/09/1749464726040-18f47f48-723f-41ee-9d7f-59d2f65144e5.png" alt="" class="img_ev3q"></p>
<p>æœ¬è´¨ä¸Šéƒ½æ˜¯å°† MCP é…ç½®å†™å…¥è®¾ç½®ç›®å½•ä¸‹çš„ <code>cline_mcp_settings.json</code> æ–‡ä»¶ï¼Œè¿™é‡Œæˆ‘ä»¬é…ç½®ä¸€ä¸ªæ ¹æ®å§“åæŸ¥è¯¢å·¥å·çš„ MCP Serverã€‚</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;mcpServers&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;name2empid&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;autoApprove&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;disabled&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">false</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;timeout&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">60</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;url&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;https://xxxx.com/xxx/sse&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;type&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;sse&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>å¦å¤– Cline è‡ªè¡Œç»´æŠ¤äº†ä¸€ä¸ª MCP å¸‚åœºï¼Œç”¨æˆ·å¯ä»¥ä»ä¸­é€‰æ‹©å®‰è£…ï¼ŒCline æä¾›äº†ä¸€ä¸ªæ¯”è¾ƒæœ‰æ„æ€çš„å®‰è£…æ–¹å¼ï¼Œå½“ä½ ç‚¹å‡» Install çš„æ—¶å€™ï¼Œä»–å¹¶ä¸æ˜¯ç®€å•çš„æŠŠé…ç½®å†™ å…¥é…ç½®æ–‡ä»¶ï¼Œè€Œæ˜¯é€šè¿‡å¤§æ¨¡å‹æ¥è¿›è¡Œå®‰è£…ï¼ˆä»è®¿é—®æ–‡æ¡£åˆ°å®‰è£…åˆ°éªŒè¯ï¼‰ï¼Œä»£ç ä½äº <code>src/core/controller/mcp/downloadMcp.ts</code>ï¼Œæç¤ºè¯å¦‚ä¸‹ï¼š</p>
<div class="language-ts codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ts codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// Create task with context from README and added guidelines for MCP server installation</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> task </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token template-string string" style="color:#e3116c">Set up the MCP server from </span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">${</span><span class="token template-string interpolation">mcpDetails</span><span class="token template-string interpolation punctuation" style="color:#393A34">.</span><span class="token template-string interpolation">githubUrl</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">}</span><span class="token template-string string" style="color:#e3116c"> while adhering to these MCP server installation rules:</span><br></span><span class="token-line" style="color:#393A34"><span class="token template-string string" style="color:#e3116c">- Start by loading the MCP documentation.</span><br></span><span class="token-line" style="color:#393A34"><span class="token template-string string" style="color:#e3116c">- Use &quot;</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">${</span><span class="token template-string interpolation">mcpDetails</span><span class="token template-string interpolation punctuation" style="color:#393A34">.</span><span class="token template-string interpolation">mcpId</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">}</span><span class="token template-string string" style="color:#e3116c">&quot; as the server name in cline_mcp_settings.json.</span><br></span><span class="token-line" style="color:#393A34"><span class="token template-string string" style="color:#e3116c">- Create the directory for the new MCP server before starting installation.</span><br></span><span class="token-line" style="color:#393A34"><span class="token template-string string" style="color:#e3116c">- Make sure you read the user&#x27;s existing cline_mcp_settings.json file before editing it with this new mcp, to not overwrite any existing servers.</span><br></span><span class="token-line" style="color:#393A34"><span class="token template-string string" style="color:#e3116c">- Use commands aligned with the user&#x27;s shell and operating system best practices.</span><br></span><span class="token-line" style="color:#393A34"><span class="token template-string string" style="color:#e3116c">- The following README may contain instructions that conflict with the user&#x27;s OS, in which case proceed thoughtfully.</span><br></span><span class="token-line" style="color:#393A34"><span class="token template-string string" style="color:#e3116c">- Once installed, demonstrate the server&#x27;s capabilities by using one of its tools.</span><br></span><span class="token-line" style="color:#393A34"><span class="token template-string string" style="color:#e3116c">Here is the project&#x27;s README to help you get started:\n\n</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">${</span><span class="token template-string interpolation">mcpDetails</span><span class="token template-string interpolation punctuation" style="color:#393A34">.</span><span class="token template-string interpolation">readmeContent</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">}</span><span class="token template-string string" style="color:#e3116c">\n</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">${</span><span class="token template-string interpolation">mcpDetails</span><span class="token template-string interpolation punctuation" style="color:#393A34">.</span><span class="token template-string interpolation">llmsInstallationContent</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">}</span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="æºç é˜…è¯»">æºç é˜…è¯»<a href="#æºç é˜…è¯»" class="hash-link" aria-label="æºç é˜…è¯»çš„ç›´æ¥é“¾æ¥" title="æºç é˜…è¯»çš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<p>MCP é…ç½®ç›¸å…³çš„ä»£ç ä½äºï¼š<code>src/services/mcp/McpHub.ts</code>ï¼Œè¿™é‡Œæœ¬è´¨å°±æ˜¯ä¸€ä¸ª MCP Client åˆå§‹  åŒ–çš„é€»è¾‘ï¼Œæ ¹æ®é…ç½®è¿æ¥ Server è·å– Toolã€‚</p>
<p>è¿æ¥çš„ Server çš„ä»£ç ä½äº <code>connectToServer</code>ï¼Œè°ƒç”¨ <code>@modelcontextprotocol/sdk/client</code> è¿™ä¸ªåŒ…åˆå§‹åŒ– Clientã€‚</p>
<div class="language-ts codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ts codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> client </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">Client</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    name</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Cline&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    version</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">clientVersion</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    capabilities</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// å¤„ç†ä¸åŒçš„ç±»å‹çš„ Server</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">transport </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">StdioClientTransport</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">transport </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">SSEClientTransport</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">transport </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">StreamableHTTPClientTransport</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">await</span><span class="token plain"> client</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">connect</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">transport</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>ç„¶åè·å– tool å’Œ resourceï¼š</p>
<div class="language-ts codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ts codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// Initial fetch of tools and resources</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">connection</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">server</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">tools </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">await</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">fetchToolsList</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">name</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">connection</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">server</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">resources </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">await</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">fetchResourcesList</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">name</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">connection</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">server</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">resourceTemplates </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">await</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">fetchResourceTemplatesList</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">name</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>MCP Client çš„å·¥ä½œåˆå§‹åŒ–å®Œæˆã€‚</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="mcp-çš„ä½¿ç”¨">MCP çš„ä½¿ç”¨<a href="#mcp-çš„ä½¿ç”¨" class="hash-link" aria-label="MCP çš„ä½¿ç”¨çš„ç›´æ¥é“¾æ¥" title="MCP çš„ä½¿ç”¨çš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<p>ä¸‹é¢çœ‹ä¸€ä¸‹æˆ‘ä»¬é…ç½®å¥½çš„ MCP Server æ˜¯å¦‚ä½•åœ¨æˆ‘ä»¬çš„ä»»åŠ¡ä¸­è¿ä½œçš„ã€‚</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="system-prompt">System Prompt<a href="#system-prompt" class="hash-link" aria-label="System Promptçš„ç›´æ¥é“¾æ¥" title="System Promptçš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<p><a href="https://mp.weixin.qq.com/s/9bJAeQ3U0_U85sDCcJSXxw" target="_blank" rel="noopener noreferrer">ä¸Šä¸€ç¯‡æ–‡ç« </a>æˆ‘ä»¬å¾—çŸ¥ï¼ŒSystem Prompt æ˜¯å®æ—¶æ‹¼æ¥çš„ï¼Œè¿™é‡ŒæŠŠ MCP Server ç›¸å…³çš„ Prompt è´´åœ¨è¿™é‡Œï¼š</p>
<div class="language-ts codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ts codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> systemPrompt </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token template-string string" style="color:#e3116c"></span><br></span><span class="token-line" style="color:#393A34"><span class="token template-string string" style="color:#e3116c">MCP SERVERS</span><br></span><span class="token-line" style="color:#393A34"><span class="token template-string string" style="display:inline-block;color:#e3116c"></span><br></span><span class="token-line" style="color:#393A34"><span class="token template-string string" style="color:#e3116c">The Model Context Protocol (MCP) enables communication between the system and locally running MCP servers that provide additional tools and resources to extend your capabilities.</span><br></span><span class="token-line" style="color:#393A34"><span class="token template-string string" style="display:inline-block;color:#e3116c"></span><br></span><span class="token-line" style="color:#393A34"><span class="token template-string string" style="color:#e3116c"># Connected MCP Servers</span><br></span><span class="token-line" style="color:#393A34"><span class="token template-string string" style="display:inline-block;color:#e3116c"></span><br></span><span class="token-line" style="color:#393A34"><span class="token template-string string" style="color:#e3116c">When a server is connected, you can use the server&#x27;s tools via the \`use_mcp_tool\` tool, and access the server&#x27;s resources via the \`access_mcp_resource\` tool.</span><br></span><span class="token-line" style="color:#393A34"><span class="token template-string string" style="display:inline-block;color:#e3116c"></span><br></span><span class="token-line" style="color:#393A34"><span class="token template-string string" style="color:#e3116c"></span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">${</span><span class="token template-string interpolation"></span><br></span><span class="token-line" style="color:#393A34"><span class="token template-string interpolation">	mcpHub</span><span class="token template-string interpolation punctuation" style="color:#393A34">.</span><span class="token template-string interpolation function" style="color:#d73a49">getServers</span><span class="token template-string interpolation punctuation" style="color:#393A34">(</span><span class="token template-string interpolation punctuation" style="color:#393A34">)</span><span class="token template-string interpolation punctuation" style="color:#393A34">.</span><span class="token template-string interpolation">length </span><span class="token template-string interpolation operator" style="color:#393A34">&gt;</span><span class="token template-string interpolation"> </span><span class="token template-string interpolation number" style="color:#36acaa">0</span><span class="token template-string interpolation"></span><br></span><span class="token-line" style="color:#393A34"><span class="token template-string interpolation">		</span><span class="token template-string interpolation operator" style="color:#393A34">?</span><span class="token template-string interpolation"> `$</span><span class="token template-string interpolation punctuation" style="color:#393A34">{</span><span class="token template-string interpolation">mcpHub</span><br></span><span class="token-line" style="color:#393A34"><span class="token template-string interpolation">				</span><span class="token template-string interpolation punctuation" style="color:#393A34">.</span><span class="token template-string interpolation function" style="color:#d73a49">getServers</span><span class="token template-string interpolation punctuation" style="color:#393A34">(</span><span class="token template-string interpolation punctuation" style="color:#393A34">)</span><span class="token template-string interpolation"></span><br></span><span class="token-line" style="color:#393A34"><span class="token template-string interpolation">				</span><span class="token template-string interpolation punctuation" style="color:#393A34">.</span><span class="token template-string interpolation function" style="color:#d73a49">filter</span><span class="token template-string interpolation punctuation" style="color:#393A34">(</span><span class="token template-string interpolation punctuation" style="color:#393A34">(</span><span class="token template-string interpolation">server</span><span class="token template-string interpolation punctuation" style="color:#393A34">)</span><span class="token template-string interpolation"> </span><span class="token template-string interpolation operator" style="color:#393A34">=&gt;</span><span class="token template-string interpolation"> server</span><span class="token template-string interpolation punctuation" style="color:#393A34">.</span><span class="token template-string interpolation">status </span><span class="token template-string interpolation operator" style="color:#393A34">===</span><span class="token template-string interpolation"> </span><span class="token template-string interpolation string" style="color:#e3116c">&quot;connected&quot;</span><span class="token template-string interpolation punctuation" style="color:#393A34">)</span><span class="token template-string interpolation"></span><br></span><span class="token-line" style="color:#393A34"><span class="token template-string interpolation">				</span><span class="token template-string interpolation punctuation" style="color:#393A34">.</span><span class="token template-string interpolation function" style="color:#d73a49">map</span><span class="token template-string interpolation punctuation" style="color:#393A34">(</span><span class="token template-string interpolation punctuation" style="color:#393A34">(</span><span class="token template-string interpolation">server</span><span class="token template-string interpolation punctuation" style="color:#393A34">)</span><span class="token template-string interpolation"> </span><span class="token template-string interpolation operator" style="color:#393A34">=&gt;</span><span class="token template-string interpolation"> </span><span class="token template-string interpolation punctuation" style="color:#393A34">{</span><span class="token template-string interpolation"></span><br></span><span class="token-line" style="color:#393A34"><span class="token template-string interpolation">					</span><span class="token template-string interpolation keyword" style="color:#00009f">const</span><span class="token template-string interpolation"> tools </span><span class="token template-string interpolation operator" style="color:#393A34">=</span><span class="token template-string interpolation"> server</span><span class="token template-string interpolation punctuation" style="color:#393A34">.</span><span class="token template-string interpolation">tools</span><br></span><span class="token-line" style="color:#393A34"><span class="token template-string interpolation">						</span><span class="token template-string interpolation operator" style="color:#393A34">?.</span><span class="token template-string interpolation function" style="color:#d73a49">map</span><span class="token template-string interpolation punctuation" style="color:#393A34">(</span><span class="token template-string interpolation punctuation" style="color:#393A34">(</span><span class="token template-string interpolation">tool</span><span class="token template-string interpolation punctuation" style="color:#393A34">)</span><span class="token template-string interpolation"> </span><span class="token template-string interpolation operator" style="color:#393A34">=&gt;</span><span class="token template-string interpolation"> </span><span class="token template-string interpolation punctuation" style="color:#393A34">{</span><span class="token template-string interpolation"></span><br></span><span class="token-line" style="color:#393A34"><span class="token template-string interpolation">							</span><span class="token template-string interpolation keyword" style="color:#00009f">const</span><span class="token template-string interpolation"> schemaStr </span><span class="token template-string interpolation operator" style="color:#393A34">=</span><span class="token template-string interpolation"> tool</span><span class="token template-string interpolation punctuation" style="color:#393A34">.</span><span class="token template-string interpolation">inputSchema</span><br></span><span class="token-line" style="color:#393A34"><span class="token template-string interpolation">								</span><span class="token template-string interpolation operator" style="color:#393A34">?</span><span class="token template-string interpolation"> </span><span class="token template-string interpolation template-string template-punctuation string" style="color:#e3116c">`</span><span class="token template-string interpolation template-string string" style="color:#e3116c">    Input Schema:</span><br></span><span class="token-line" style="color:#393A34"><span class="token template-string interpolation template-string string" style="color:#e3116c">    </span><span class="token template-string interpolation template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">${</span><span class="token template-string interpolation template-string interpolation constant" style="color:#36acaa">JSON</span><span class="token template-string interpolation template-string interpolation punctuation" style="color:#393A34">.</span><span class="token template-string interpolation template-string interpolation function" style="color:#d73a49">stringify</span><span class="token template-string interpolation template-string interpolation punctuation" style="color:#393A34">(</span><span class="token template-string interpolation template-string interpolation">tool</span><span class="token template-string interpolation template-string interpolation punctuation" style="color:#393A34">.</span><span class="token template-string interpolation template-string interpolation">inputSchema</span><span class="token template-string interpolation template-string interpolation punctuation" style="color:#393A34">,</span><span class="token template-string interpolation template-string interpolation"> </span><span class="token template-string interpolation template-string interpolation keyword" style="color:#00009f">null</span><span class="token template-string interpolation template-string interpolation punctuation" style="color:#393A34">,</span><span class="token template-string interpolation template-string interpolation"> </span><span class="token template-string interpolation template-string interpolation number" style="color:#36acaa">2</span><span class="token template-string interpolation template-string interpolation punctuation" style="color:#393A34">)</span><span class="token template-string interpolation template-string interpolation punctuation" style="color:#393A34">.</span><span class="token template-string interpolation template-string interpolation function" style="color:#d73a49">split</span><span class="token template-string interpolation template-string interpolation punctuation" style="color:#393A34">(</span><span class="token template-string interpolation template-string interpolation string" style="color:#e3116c">&quot;\n&quot;</span><span class="token template-string interpolation template-string interpolation punctuation" style="color:#393A34">)</span><span class="token template-string interpolation template-string interpolation punctuation" style="color:#393A34">.</span><span class="token template-string interpolation template-string interpolation function" style="color:#d73a49">join</span><span class="token template-string interpolation template-string interpolation punctuation" style="color:#393A34">(</span><span class="token template-string interpolation template-string interpolation string" style="color:#e3116c">&quot;\n    &quot;</span><span class="token template-string interpolation template-string interpolation punctuation" style="color:#393A34">)</span><span class="token template-string interpolation template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">}</span><span class="token template-string interpolation template-string template-punctuation string" style="color:#e3116c">`</span><span class="token template-string interpolation"></span><br></span><span class="token-line" style="color:#393A34"><span class="token template-string interpolation">								</span><span class="token template-string interpolation operator" style="color:#393A34">:</span><span class="token template-string interpolation"> </span><span class="token template-string interpolation string" style="color:#e3116c">&quot;&quot;</span><span class="token template-string interpolation"></span><br></span><span class="token-line" style="color:#393A34"><span class="token template-string interpolation" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token template-string interpolation">							</span><span class="token template-string interpolation keyword" style="color:#00009f">return</span><span class="token template-string interpolation"> </span><span class="token template-string interpolation template-string template-punctuation string" style="color:#e3116c">`</span><span class="token template-string interpolation template-string string" style="color:#e3116c">- </span><span class="token template-string interpolation template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">${</span><span class="token template-string interpolation template-string interpolation">tool</span><span class="token template-string interpolation template-string interpolation punctuation" style="color:#393A34">.</span><span class="token template-string interpolation template-string interpolation">name</span><span class="token template-string interpolation template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">}</span><span class="token template-string interpolation template-string string" style="color:#e3116c">: </span><span class="token template-string interpolation template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">${</span><span class="token template-string interpolation template-string interpolation">tool</span><span class="token template-string interpolation template-string interpolation punctuation" style="color:#393A34">.</span><span class="token template-string interpolation template-string interpolation">description</span><span class="token template-string interpolation template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">}</span><span class="token template-string interpolation template-string string" style="color:#e3116c">\n</span><span class="token template-string interpolation template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">${</span><span class="token template-string interpolation template-string interpolation">schemaStr</span><span class="token template-string interpolation template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">}</span><span class="token template-string interpolation template-string template-punctuation string" style="color:#e3116c">`</span><span class="token template-string interpolation"></span><br></span><span class="token-line" style="color:#393A34"><span class="token template-string interpolation">						</span><span class="token template-string interpolation punctuation" style="color:#393A34">}</span><span class="token template-string interpolation punctuation" style="color:#393A34">)</span><span class="token template-string interpolation"></span><br></span><span class="token-line" style="color:#393A34"><span class="token template-string interpolation">						</span><span class="token template-string interpolation punctuation" style="color:#393A34">.</span><span class="token template-string interpolation function" style="color:#d73a49">join</span><span class="token template-string interpolation punctuation" style="color:#393A34">(</span><span class="token template-string interpolation string" style="color:#e3116c">&quot;\n\n&quot;</span><span class="token template-string interpolation punctuation" style="color:#393A34">)</span><span class="token template-string interpolation"></span><br></span><span class="token-line" style="color:#393A34"><span class="token template-string interpolation" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token template-string interpolation">					</span><span class="token template-string interpolation keyword" style="color:#00009f">const</span><span class="token template-string interpolation"> templates </span><span class="token template-string interpolation operator" style="color:#393A34">=</span><span class="token template-string interpolation"> server</span><span class="token template-string interpolation punctuation" style="color:#393A34">.</span><span class="token template-string interpolation">resourceTemplates</span><br></span><span class="token-line" style="color:#393A34"><span class="token template-string interpolation">						</span><span class="token template-string interpolation operator" style="color:#393A34">?.</span><span class="token template-string interpolation function" style="color:#d73a49">map</span><span class="token template-string interpolation punctuation" style="color:#393A34">(</span><span class="token template-string interpolation punctuation" style="color:#393A34">(</span><span class="token template-string interpolation">template</span><span class="token template-string interpolation punctuation" style="color:#393A34">)</span><span class="token template-string interpolation"> </span><span class="token template-string interpolation operator" style="color:#393A34">=&gt;</span><span class="token template-string interpolation"> </span><span class="token template-string interpolation template-string template-punctuation string" style="color:#e3116c">`</span><span class="token template-string interpolation template-string string" style="color:#e3116c">- </span><span class="token template-string interpolation template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">${</span><span class="token template-string interpolation template-string interpolation">template</span><span class="token template-string interpolation template-string interpolation punctuation" style="color:#393A34">.</span><span class="token template-string interpolation template-string interpolation">uriTemplate</span><span class="token template-string interpolation template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">}</span><span class="token template-string interpolation template-string string" style="color:#e3116c"> (</span><span class="token template-string interpolation template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">${</span><span class="token template-string interpolation template-string interpolation">template</span><span class="token template-string interpolation template-string interpolation punctuation" style="color:#393A34">.</span><span class="token template-string interpolation template-string interpolation">name</span><span class="token template-string interpolation template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">}</span><span class="token template-string interpolation template-string string" style="color:#e3116c">): </span><span class="token template-string interpolation template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">${</span><span class="token template-string interpolation template-string interpolation">template</span><span class="token template-string interpolation template-string interpolation punctuation" style="color:#393A34">.</span><span class="token template-string interpolation template-string interpolation">description</span><span class="token template-string interpolation template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">}</span><span class="token template-string interpolation template-string template-punctuation string" style="color:#e3116c">`</span><span class="token template-string interpolation punctuation" style="color:#393A34">)</span><span class="token template-string interpolation"></span><br></span><span class="token-line" style="color:#393A34"><span class="token template-string interpolation">						</span><span class="token template-string interpolation punctuation" style="color:#393A34">.</span><span class="token template-string interpolation function" style="color:#d73a49">join</span><span class="token template-string interpolation punctuation" style="color:#393A34">(</span><span class="token template-string interpolation string" style="color:#e3116c">&quot;\n&quot;</span><span class="token template-string interpolation punctuation" style="color:#393A34">)</span><span class="token template-string interpolation"></span><br></span><span class="token-line" style="color:#393A34"><span class="token template-string interpolation" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token template-string interpolation">					</span><span class="token template-string interpolation keyword" style="color:#00009f">const</span><span class="token template-string interpolation"> resources </span><span class="token template-string interpolation operator" style="color:#393A34">=</span><span class="token template-string interpolation"> server</span><span class="token template-string interpolation punctuation" style="color:#393A34">.</span><span class="token template-string interpolation">resources</span><br></span><span class="token-line" style="color:#393A34"><span class="token template-string interpolation">						</span><span class="token template-string interpolation operator" style="color:#393A34">?.</span><span class="token template-string interpolation function" style="color:#d73a49">map</span><span class="token template-string interpolation punctuation" style="color:#393A34">(</span><span class="token template-string interpolation punctuation" style="color:#393A34">(</span><span class="token template-string interpolation">resource</span><span class="token template-string interpolation punctuation" style="color:#393A34">)</span><span class="token template-string interpolation"> </span><span class="token template-string interpolation operator" style="color:#393A34">=&gt;</span><span class="token template-string interpolation"> </span><span class="token template-string interpolation template-string template-punctuation string" style="color:#e3116c">`</span><span class="token template-string interpolation template-string string" style="color:#e3116c">- </span><span class="token template-string interpolation template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">${</span><span class="token template-string interpolation template-string interpolation">resource</span><span class="token template-string interpolation template-string interpolation punctuation" style="color:#393A34">.</span><span class="token template-string interpolation template-string interpolation">uri</span><span class="token template-string interpolation template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">}</span><span class="token template-string interpolation template-string string" style="color:#e3116c"> (</span><span class="token template-string interpolation template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">${</span><span class="token template-string interpolation template-string interpolation">resource</span><span class="token template-string interpolation template-string interpolation punctuation" style="color:#393A34">.</span><span class="token template-string interpolation template-string interpolation">name</span><span class="token template-string interpolation template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">}</span><span class="token template-string interpolation template-string string" style="color:#e3116c">): </span><span class="token template-string interpolation template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">${</span><span class="token template-string interpolation template-string interpolation">resource</span><span class="token template-string interpolation template-string interpolation punctuation" style="color:#393A34">.</span><span class="token template-string interpolation template-string interpolation">description</span><span class="token template-string interpolation template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">}</span><span class="token template-string interpolation template-string template-punctuation string" style="color:#e3116c">`</span><span class="token template-string interpolation punctuation" style="color:#393A34">)</span><span class="token template-string interpolation"></span><br></span><span class="token-line" style="color:#393A34"><span class="token template-string interpolation">						</span><span class="token template-string interpolation punctuation" style="color:#393A34">.</span><span class="token template-string interpolation function" style="color:#d73a49">join</span><span class="token template-string interpolation punctuation" style="color:#393A34">(</span><span class="token template-string interpolation string" style="color:#e3116c">&quot;\n&quot;</span><span class="token template-string interpolation punctuation" style="color:#393A34">)</span><span class="token template-string interpolation"></span><br></span><span class="token-line" style="color:#393A34"><span class="token template-string interpolation" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token template-string interpolation">					</span><span class="token template-string interpolation keyword" style="color:#00009f">const</span><span class="token template-string interpolation"> config </span><span class="token template-string interpolation operator" style="color:#393A34">=</span><span class="token template-string interpolation"> </span><span class="token template-string interpolation constant" style="color:#36acaa">JSON</span><span class="token template-string interpolation punctuation" style="color:#393A34">.</span><span class="token template-string interpolation function" style="color:#d73a49">parse</span><span class="token template-string interpolation punctuation" style="color:#393A34">(</span><span class="token template-string interpolation">server</span><span class="token template-string interpolation punctuation" style="color:#393A34">.</span><span class="token template-string interpolation">config</span><span class="token template-string interpolation punctuation" style="color:#393A34">)</span><span class="token template-string interpolation"></span><br></span><span class="token-line" style="color:#393A34"><span class="token template-string interpolation" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token template-string interpolation">					</span><span class="token template-string interpolation keyword" style="color:#00009f">return</span><span class="token template-string interpolation"> </span><span class="token template-string interpolation punctuation" style="color:#393A34">(</span><span class="token template-string interpolation"></span><br></span><span class="token-line" style="color:#393A34"><span class="token template-string interpolation">						</span><span class="token template-string interpolation template-string template-punctuation string" style="color:#e3116c">`</span><span class="token template-string interpolation template-string string" style="color:#e3116c">## </span><span class="token template-string interpolation template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">${</span><span class="token template-string interpolation template-string interpolation">server</span><span class="token template-string interpolation template-string interpolation punctuation" style="color:#393A34">.</span><span class="token template-string interpolation template-string interpolation">name</span><span class="token template-string interpolation template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">}</span><span class="token template-string interpolation template-string string" style="color:#e3116c"> (\`</span><span class="token template-string interpolation template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">${</span><span class="token template-string interpolation template-string interpolation">config</span><span class="token template-string interpolation template-string interpolation punctuation" style="color:#393A34">.</span><span class="token template-string interpolation template-string interpolation">command</span><span class="token template-string interpolation template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">}</span><span class="token template-string interpolation template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">${</span><span class="token template-string interpolation template-string interpolation">config</span><span class="token template-string interpolation template-string interpolation punctuation" style="color:#393A34">.</span><span class="token template-string interpolation template-string interpolation">args </span><span class="token template-string interpolation template-string interpolation operator" style="color:#393A34">&amp;&amp;</span><span class="token template-string interpolation template-string interpolation"> </span><span class="token template-string interpolation template-string interpolation builtin">Array</span><span class="token template-string interpolation template-string interpolation punctuation" style="color:#393A34">.</span><span class="token template-string interpolation template-string interpolation function" style="color:#d73a49">isArray</span><span class="token template-string interpolation template-string interpolation punctuation" style="color:#393A34">(</span><span class="token template-string interpolation template-string interpolation">config</span><span class="token template-string interpolation template-string interpolation punctuation" style="color:#393A34">.</span><span class="token template-string interpolation template-string interpolation">args</span><span class="token template-string interpolation template-string interpolation punctuation" style="color:#393A34">)</span><span class="token template-string interpolation template-string interpolation"> </span><span class="token template-string interpolation template-string interpolation operator" style="color:#393A34">?</span><span class="token template-string interpolation template-string interpolation"> </span><span class="token template-string interpolation template-string interpolation template-string template-punctuation string" style="color:#e3116c">`</span><span class="token template-string interpolation template-string interpolation template-string string" style="color:#e3116c"> </span><span class="token template-string interpolation template-string interpolation template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">${</span><span class="token template-string interpolation template-string interpolation template-string interpolation">config</span><span class="token template-string interpolation template-string interpolation template-string interpolation punctuation" style="color:#393A34">.</span><span class="token template-string interpolation template-string interpolation template-string interpolation">args</span><span class="token template-string interpolation template-string interpolation template-string interpolation punctuation" style="color:#393A34">.</span><span class="token template-string interpolation template-string interpolation template-string interpolation function" style="color:#d73a49">join</span><span class="token template-string interpolation template-string interpolation template-string interpolation punctuation" style="color:#393A34">(</span><span class="token template-string interpolation template-string interpolation template-string interpolation string" style="color:#e3116c">&quot; &quot;</span><span class="token template-string interpolation template-string interpolation template-string interpolation punctuation" style="color:#393A34">)</span><span class="token template-string interpolation template-string interpolation template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">}</span><span class="token template-string interpolation template-string interpolation template-string template-punctuation string" style="color:#e3116c">`</span><span class="token template-string interpolation template-string interpolation"> </span><span class="token template-string interpolation template-string interpolation operator" style="color:#393A34">:</span><span class="token template-string interpolation template-string interpolation"> </span><span class="token template-string interpolation template-string interpolation string" style="color:#e3116c">&quot;&quot;</span><span class="token template-string interpolation template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">}</span><span class="token template-string interpolation template-string string" style="color:#e3116c">\`)</span><span class="token template-string interpolation template-string template-punctuation string" style="color:#e3116c">`</span><span class="token template-string interpolation"> </span><span class="token template-string interpolation operator" style="color:#393A34">+</span><span class="token template-string interpolation"></span><br></span><span class="token-line" style="color:#393A34"><span class="token template-string interpolation">						</span><span class="token template-string interpolation punctuation" style="color:#393A34">(</span><span class="token template-string interpolation">tools </span><span class="token template-string interpolation operator" style="color:#393A34">?</span><span class="token template-string interpolation"> </span><span class="token template-string interpolation template-string template-punctuation string" style="color:#e3116c">`</span><span class="token template-string interpolation template-string string" style="color:#e3116c">\n\n### Available Tools\n</span><span class="token template-string interpolation template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">${</span><span class="token template-string interpolation template-string interpolation">tools</span><span class="token template-string interpolation template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">}</span><span class="token template-string interpolation template-string template-punctuation string" style="color:#e3116c">`</span><span class="token template-string interpolation"> </span><span class="token template-string interpolation operator" style="color:#393A34">:</span><span class="token template-string interpolation"> </span><span class="token template-string interpolation string" style="color:#e3116c">&quot;&quot;</span><span class="token template-string interpolation punctuation" style="color:#393A34">)</span><span class="token template-string interpolation"> </span><span class="token template-string interpolation operator" style="color:#393A34">+</span><span class="token template-string interpolation"></span><br></span><span class="token-line" style="color:#393A34"><span class="token template-string interpolation">						</span><span class="token template-string interpolation punctuation" style="color:#393A34">(</span><span class="token template-string interpolation">templates </span><span class="token template-string interpolation operator" style="color:#393A34">?</span><span class="token template-string interpolation"> </span><span class="token template-string interpolation template-string template-punctuation string" style="color:#e3116c">`</span><span class="token template-string interpolation template-string string" style="color:#e3116c">\n\n### Resource Templates\n</span><span class="token template-string interpolation template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">${</span><span class="token template-string interpolation template-string interpolation">templates</span><span class="token template-string interpolation template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">}</span><span class="token template-string interpolation template-string template-punctuation string" style="color:#e3116c">`</span><span class="token template-string interpolation"> </span><span class="token template-string interpolation operator" style="color:#393A34">:</span><span class="token template-string interpolation"> </span><span class="token template-string interpolation string" style="color:#e3116c">&quot;&quot;</span><span class="token template-string interpolation punctuation" style="color:#393A34">)</span><span class="token template-string interpolation"> </span><span class="token template-string interpolation operator" style="color:#393A34">+</span><span class="token template-string interpolation"></span><br></span><span class="token-line" style="color:#393A34"><span class="token template-string interpolation">						</span><span class="token template-string interpolation punctuation" style="color:#393A34">(</span><span class="token template-string interpolation">resources </span><span class="token template-string interpolation operator" style="color:#393A34">?</span><span class="token template-string interpolation"> </span><span class="token template-string interpolation template-string template-punctuation string" style="color:#e3116c">`</span><span class="token template-string interpolation template-string string" style="color:#e3116c">\n\n### Direct Resources\n</span><span class="token template-string interpolation template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">${</span><span class="token template-string interpolation template-string interpolation">resources</span><span class="token template-string interpolation template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">}</span><span class="token template-string interpolation template-string template-punctuation string" style="color:#e3116c">`</span><span class="token template-string interpolation"> </span><span class="token template-string interpolation operator" style="color:#393A34">:</span><span class="token template-string interpolation"> </span><span class="token template-string interpolation string" style="color:#e3116c">&quot;&quot;</span><span class="token template-string interpolation punctuation" style="color:#393A34">)</span><span class="token template-string interpolation"></span><br></span><span class="token-line" style="color:#393A34"><span class="token template-string interpolation">					</span><span class="token template-string interpolation punctuation" style="color:#393A34">)</span><span class="token template-string interpolation"></span><br></span><span class="token-line" style="color:#393A34"><span class="token template-string interpolation">				</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">}</span><span class="token template-string string" style="color:#e3116c">)</span><br></span><span class="token-line" style="color:#393A34"><span class="token template-string string" style="color:#e3116c">				.join(&quot;\n\n&quot;)}</span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">		</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;(No MCP servers currently connected)&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain">`</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>MCP Server çš„ç›¸å…³æç¤ºè¯åœ¨ System Prompt  Tool Use Guidelines éƒ¨åˆ†ï¼Œé€šè¿‡éå† McpHub å†…æ‰€æœ‰ serverï¼Œå°† server å†…çš„ tool æ ¼å¼åŒ–çš„æ‹¼æ¥åˆ° Prompt ä¸­ã€‚å¤§è‡´æ ¼å¼ä¸ºï¼š</p>
<div class="language-markdown codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-markdown codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token title important punctuation" style="color:#393A34">##</span><span class="token title important"> name2empid(node xxx.ts)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token title important punctuation" style="color:#393A34">###</span><span class="token title important"> Available Tools</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token list punctuation" style="color:#393A34">-</span><span class="token plain"> get_empid_by_name: æ ¹æ®å‘˜å·¥å§“åæŸ¥è¯¢å·¥å·</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    	Input Schema: {&quot;name&quot;: &quot;string&quot;}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>åŒæ—¶è¿˜æä¾›ç»™æ¨¡å‹ä¸€ä¸ªè°ƒç”¨ MCP Server Tool çš„ç¤ºä¾‹ï¼š</p>
<div class="language-markdown codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-markdown codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token title important punctuation" style="color:#393A34">##</span><span class="token title important"> Example 5: Requesting to use an MCP tool</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">use_mcp_tool</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">server_name</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">weather-server</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">server_name</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">tool_name</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">get_forecast</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">tool_name</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">arguments</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;city&quot;: &quot;San Francisco&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;days&quot;: 5</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">arguments</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">use_mcp_tool</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>æ¶‰åŠåˆ° MCP è°ƒç”¨ç»Ÿä¸€ä½¿ç”¨ <code>use_mcp_tool</code> å·¥å…·ï¼Œç„¶åå†æŒ‡å®šæ˜¯å“ªä¸ª MCP å·¥å…·ã€‚</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="æ¨¡å‹è°ƒç”¨">æ¨¡å‹è°ƒç”¨<a href="#æ¨¡å‹è°ƒç”¨" class="hash-link" aria-label="æ¨¡å‹è°ƒç”¨çš„ç›´æ¥é“¾æ¥" title="æ¨¡å‹è°ƒç”¨çš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<p>æ¯”å¦‚æˆ‘ä»¬é—®â€œæŸ¥è¯¢å¼ ä¸‰çš„å·¥å·â€ï¼Œæ¨¡å‹è¾“å‡ºç±»ä¼¼ä¸‹é¢è¿™æ ·ï¼š</p>
<div class="language-markdown codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-markdown codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">thinking</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">æˆ‘éœ€è¦æŸ¥è¯¢&quot;å¼ ä¸‰&quot;çš„å·¥å·ã€‚æ ¹æ®ä»»åŠ¡æè¿°ï¼Œæˆ‘éœ€è¦ä½¿ç”¨name2empid MCPæœåŠ¡å™¨æä¾›çš„å·¥å…·æ¥è·å–å‘˜å·¥çš„å·¥å·ã€‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">æˆ‘å¯ä»¥ä½¿ç”¨</span><span class="token code-snippet code keyword" style="color:#00009f">`use_mcp_tool`</span><span class="token plain">å·¥å…·æ¥è°ƒç”¨name2empidæœåŠ¡å™¨çš„</span><span class="token code-snippet code keyword" style="color:#00009f">`get_empid_by_name`</span><span class="token plain">å·¥å…·ï¼Œè¯¥å·¥å…·å¯ä»¥æ ¹æ®å‘˜å·¥å§“åè·å–å·¥å·ã€‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">éœ€è¦çš„å‚æ•°æ˜¯:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token list punctuation" style="color:#393A34">-</span><span class="token plain"> server_name: &quot;name2empid&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token list punctuation" style="color:#393A34">-</span><span class="token plain"> tool_name: &quot;get_empid_by_name&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token list punctuation" style="color:#393A34">-</span><span class="token plain"> arguments: åŒ…å«å‘˜å·¥å§“åçš„JSONå¯¹è±¡</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">æˆ‘å·²ç»æœ‰äº†æ‰€æœ‰å¿…è¦çš„ä¿¡æ¯ï¼Œå¯ä»¥ç›´æ¥è°ƒç”¨è¿™ä¸ªå·¥å…·ã€‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">thinking</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">use_mcp_tool</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">server_name</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">name2empid</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">server_name</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">tool_name</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">get_empid_by_name</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">tool_name</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">arguments</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;name&quot;: &quot;å¼ ä¸‰&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">arguments</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">use_mcp_tool</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>ç»è¿‡ <code>parseAssistantMessageV2</code> å’Œ <code>presentAssistantMessage</code>  ä¸¤ä¸ªæ–¹æ³•ï¼Œä¼šä»æ¨¡å‹è¾“å‡ºä¸­è§£æå‡ºä½¿ç”¨çš„ MCP Tool ä»¥åŠå‚æ•°ï¼Œå’Œå†…ç½®çš„ Tool é€»è¾‘åŸºæœ¬ç±»ä¼¼ã€‚</p>
<div class="language-ts codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ts codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">name </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;use_mcp_tool&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">params </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">server_name</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;name2empid&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> tool_name</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;get_empid_by_name&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> arguments</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;{\n  &quot;name&quot;: &quot;å¼ ä¸‰&quot;\n}&#x27;</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">arguments </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;{\n  &quot;name&quot;: &quot;å¼ ä¸‰&quot;\n}&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">server_name </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;name2empid&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">tool_name </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;get_empid_by_name&#x27;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>æ­¤æ—¶ï¼ŒCline ä¼šæ‰§è¡Œ McpHub å†…çš„ <code>callTool</code> æ–¹æ³•è·å–ç»“æœï¼Œåé¢å†å°†ç»“æœäº¤ç»™æ¨¡å‹ï¼Œå¾—åˆ°æœ€ç»ˆè¾“å‡ºï¼Œè‡ªæ­¤ä»»åŠ¡ç»“æŸã€‚</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="æ€»ç»“">æ€»ç»“<a href="#æ€»ç»“" class="hash-link" aria-label="æ€»ç»“çš„ç›´æ¥é“¾æ¥" title="æ€»ç»“çš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<p>å¦‚æœè§‰å¾— Cline æºç å¤ªå¤æ‚ï¼Œå¯ä»¥ç›´æ¥çœ‹ <a href="https://modelcontextprotocol.io/quickstart/client#node" target="_blank" rel="noopener noreferrer">MCP å®˜æ–¹çš„ Client DEMO</a>ï¼Œæ¯”è¾ƒæ¸…æ™°ã€‚</p>
<p>MCP å¤§å¤§æ‰©å±•äº†æ¨¡å‹èƒ½åŠ›ï¼Œå¯ä»¥åœ¨è®©æ¨¡å‹å‘æŒ¥æ›´å¥½çš„ä»·å€¼ã€‚Cline åœ¨ MCP çš„ç®¡ç†å’Œè°ƒç”¨ä¸Šè®¾è®¡çš„éƒ½å¾ˆå·§å¦™ï¼Œå°¤å…¶æ˜¯ System Promptï¼Œä¸‹ä¸€ç¯‡æ–‡ç« æˆ‘ä»¬å°†æ¢è®¨ä¸€ä¸‹ Cline çš„ Prompt è®¾è®¡ã€‚</p>
<hr>
<div align="center"><p>æ¬¢è¿å…³æ³¨æˆ‘çš„å…¬ä¼—å·ï¼šå‰ç«¯ç”Ÿå­˜æŒ‡å—ï¼Œä¸€èµ·èŠèŠå‰ç«¯ã€AI å’Œç”Ÿæ´»ã€‚</p><img src="https://cloud-minapp-47803.cloud.ifanrusercontent.com/1tvAM68Cvrx3bfLR.jpg" style="width:180px"></div></div><footer class="docusaurus-mt-lg"><div class="row margin-top--sm theme-blog-footer-edit-meta-row"><div class="col"><b>æ ‡ç­¾ï¼š</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/ai">AI</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/cline">Cline</a></li></ul></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="åšæ–‡åˆ†é¡µå¯¼èˆª"><a class="pagination-nav__link pagination-nav__link--prev" href="/blog/2025-06-13-cline-source-code-prompt.md"><div class="pagination-nav__sublabel">è¾ƒæ–°ä¸€ç¯‡</div><div class="pagination-nav__label">Cline æºç æµ…æ - Prompt è®¾è®¡</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/blog/2025-06-07-cline-source-code-1.md"><div class="pagination-nav__sublabel">è¾ƒæ—§ä¸€ç¯‡</div><div class="pagination-nav__label">Cline æºç æµ…æ - ä»è¾“å…¥åˆ°è¾“å‡º</div></a></nav></main><div class="col col--2"><div class="tableOfContents_bqdL thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#cline-mcp" class="table-of-contents__link toc-highlight">Cline MCP</a><ul><li><a href="#å¦‚ä½•é…ç½®-mcp-server" class="table-of-contents__link toc-highlight">å¦‚ä½•é…ç½® MCP Server</a></li><li><a href="#æºç é˜…è¯»" class="table-of-contents__link toc-highlight">æºç é˜…è¯»</a></li></ul></li><li><a href="#mcp-çš„ä½¿ç”¨" class="table-of-contents__link toc-highlight">MCP çš„ä½¿ç”¨</a><ul><li><a href="#system-prompt" class="table-of-contents__link toc-highlight">System Prompt</a></li><li><a href="#æ¨¡å‹è°ƒç”¨" class="table-of-contents__link toc-highlight">æ¨¡å‹è°ƒç”¨</a></li></ul></li><li><a href="#æ€»ç»“" class="table-of-contents__link toc-highlight">æ€»ç»“</a></li></ul></div></div></div></div></div></div>
</body>
</html>
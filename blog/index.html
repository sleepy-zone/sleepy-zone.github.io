<!doctype html>
<html lang="zh-Hans" dir="ltr" class="blog-wrapper blog-list-page plugin-blog plugin-id-default" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.7.0">
<title data-rh="true">Blog | ğŸ˜´ Sleepy Zone</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://sleepy-zone.github.io/blog"><meta data-rh="true" property="og:locale" content="zh_Hans"><meta data-rh="true" name="docusaurus_locale" content="zh-Hans"><meta data-rh="true" name="docsearch:language" content="zh-Hans"><meta data-rh="true" property="og:title" content="Blog | ğŸ˜´ Sleepy Zone"><meta data-rh="true" name="description" content="Blog"><meta data-rh="true" property="og:description" content="Blog"><meta data-rh="true" name="docusaurus_tag" content="blog_posts_list"><meta data-rh="true" name="docsearch:docusaurus_tag" content="blog_posts_list"><link data-rh="true" rel="icon" href="/img/logo.svg"><link data-rh="true" rel="canonical" href="https://sleepy-zone.github.io/blog"><link data-rh="true" rel="alternate" href="https://sleepy-zone.github.io/blog" hreflang="zh-Hans"><link data-rh="true" rel="alternate" href="https://sleepy-zone.github.io/blog" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"Blog","@id":"https://sleepy-zone.github.io/blog","mainEntityOfPage":"https://sleepy-zone.github.io/blog","headline":"Blog","description":"Blog","blogPost":[{"@type":"BlogPosting","@id":"https://sleepy-zone.github.io/blog/2025-06-13-cline-source-code-prompt.md","mainEntityOfPage":"https://sleepy-zone.github.io/blog/2025-06-13-cline-source-code-prompt.md","url":"https://sleepy-zone.github.io/blog/2025-06-13-cline-source-code-prompt.md","headline":"Cline æºç æµ…æ - Prompt è®¾è®¡","name":"Cline æºç æµ…æ - Prompt è®¾è®¡","description":"â€œAgent å°±æ˜¯å¦‚ä½•æ‹¼å‡ºæ›´å¥½ç”¨çš„ Promptâ€ï¼Œè™½ç„¶æœ‰ç‚¹ç©ç¬‘çš„æ„å‘³ï¼Œä½†ä¹Ÿèƒ½è¯´æ˜ä¸€å®šçš„é—®é¢˜ã€‚æœ¬ç¯‡æ–‡ç« æˆ‘ä»¬æ¢è®¨ä¸‹ Cline é‡Œçš„ Prompt è®¾è®¡ã€‚","datePublished":"2025-06-13T00:00:00.000Z","author":{"@type":"Person","name":"SleepyZone","description":"å‰ç«¯å¼€å‘ / å¼€æºçˆ±å¥½è€…","url":"https://github.com/sleepy-zone","image":"https://avatars.githubusercontent.com/u/131369648?v=4"},"keywords":[]},{"@type":"BlogPosting","@id":"https://sleepy-zone.github.io/blog/2025-06-10-cline-source-code-mcp.md","mainEntityOfPage":"https://sleepy-zone.github.io/blog/2025-06-10-cline-source-code-mcp.md","url":"https://sleepy-zone.github.io/blog/2025-06-10-cline-source-code-mcp.md","headline":"Cline æºç æµ…æ - MCP è°ƒç”¨","name":"Cline æºç æµ…æ - MCP è°ƒç”¨","description":"ä¸Šä¸€ç¯‡æ–‡ç« Cline æºç æµ…æ - ä»è¾“å…¥åˆ°è¾“å‡ºï¼Œä»æºç è§’åº¦æµè§ˆäº†ä¸€ä¸‹ Cline å¤„ç†ç”¨æˆ·è¾“å…¥åˆ°æœ€åè¾“å‡ºçš„è¿‡ç¨‹ï¼Œæœ¬æ–‡çœ‹ä¸€ä¸‹å…¶ä¸­å…³äº MCP çš„å¤„ç†ã€‚","datePublished":"2025-06-10T00:00:00.000Z","author":{"@type":"Person","name":"SleepyZone","description":"å‰ç«¯å¼€å‘ / å¼€æºçˆ±å¥½è€…","url":"https://github.com/sleepy-zone","image":"https://avatars.githubusercontent.com/u/131369648?v=4"},"keywords":[]},{"@type":"BlogPosting","@id":"https://sleepy-zone.github.io/blog/2025-06-07-cline-source-code-1.md","mainEntityOfPage":"https://sleepy-zone.github.io/blog/2025-06-07-cline-source-code-1.md","url":"https://sleepy-zone.github.io/blog/2025-06-07-cline-source-code-1.md","headline":"Cline æºç æµ…æ - ä»è¾“å…¥åˆ°è¾“å‡º","name":"Cline æºç æµ…æ - ä»è¾“å…¥åˆ°è¾“å‡º","description":"æˆ‘ä»¬åœ¨ä¸Šä¸€ç¯‡æ–‡ç« ï¼šç°åœ¨å¼€å§‹ä½¿ç”¨ Cline Rules é‡Œç®€å•ä»‹ç»è¿‡ Clineï¼Œæœ¬ç¯‡æ–‡ç« ä»æºç è§’åº¦æ¥çœ‹ä¸€ä¸‹ä»æˆ‘ä»¬è¾“å…¥æŒ‡ä»¤åˆ° Cline è¾“å‡ºçš„è¿‡ç¨‹åˆ°åº•æ˜¯æ€æ ·çš„ï¼Œè¿™æ ·å¯¹æˆ‘ä»¬åç»­ä½¿ç”¨ Cline ä¼šæœ‰æ›´å¥½çš„å¸®åŠ©ã€‚","datePublished":"2025-06-07T00:00:00.000Z","author":{"@type":"Person","name":"SleepyZone","description":"å‰ç«¯å¼€å‘ / å¼€æºçˆ±å¥½è€…","url":"https://github.com/sleepy-zone","image":"https://avatars.githubusercontent.com/u/131369648?v=4"},"keywords":[]},{"@type":"BlogPosting","@id":"https://sleepy-zone.github.io/blog/2025-05-30-cline-rule.md","mainEntityOfPage":"https://sleepy-zone.github.io/blog/2025-05-30-cline-rule.md","url":"https://sleepy-zone.github.io/blog/2025-05-30-cline-rule.md","headline":"ç°åœ¨å¼€å§‹ä½¿ç”¨ Cline Rules","name":"ç°åœ¨å¼€å§‹ä½¿ç”¨ Cline Rules","description":"å†™åœ¨å‰é¢","datePublished":"2025-05-30T00:00:00.000Z","author":{"@type":"Person","name":"SleepyZone","description":"å‰ç«¯å¼€å‘ / å¼€æºçˆ±å¥½è€…","url":"https://github.com/sleepy-zone","image":"https://avatars.githubusercontent.com/u/131369648?v=4"},"keywords":[]},{"@type":"BlogPosting","@id":"https://sleepy-zone.github.io/blog/2025-04-30-ts-agent-mastra.md","mainEntityOfPage":"https://sleepy-zone.github.io/blog/2025-04-30-ts-agent-mastra.md","url":"https://sleepy-zone.github.io/blog/2025-04-30-ts-agent-mastra.md","headline":"Mastra  - TypeScript AI Agent æ¡†æ¶","name":"Mastra  - TypeScript AI Agent æ¡†æ¶","description":"ç®€ä»‹","datePublished":"2025-05-21T00:00:00.000Z","author":{"@type":"Person","name":"SleepyZone","description":"å‰ç«¯å¼€å‘ / å¼€æºçˆ±å¥½è€…","url":"https://github.com/sleepy-zone","image":"https://avatars.githubusercontent.com/u/131369648?v=4"},"keywords":[]},{"@type":"BlogPosting","@id":"https://sleepy-zone.github.io/blog/2025-04-30-deepwiki.md","mainEntityOfPage":"https://sleepy-zone.github.io/blog/2025-04-30-deepwiki.md","url":"https://sleepy-zone.github.io/blog/2025-04-30-deepwiki.md","headline":"DeepWiki - é˜…è¯»å¼€æºä»£ç çš„ç¥å™¨","name":"DeepWiki - é˜…è¯»å¼€æºä»£ç çš„ç¥å™¨","description":"ä»¥åæ¨èå¼€æºé¡¹ç›®ï¼š","datePublished":"2025-04-30T00:00:00.000Z","author":{"@type":"Person","name":"SleepyZone","description":"å‰ç«¯å¼€å‘ / å¼€æºçˆ±å¥½è€…","url":"https://github.com/sleepy-zone","image":"https://avatars.githubusercontent.com/u/131369648?v=4"},"keywords":[]},{"@type":"BlogPosting","@id":"https://sleepy-zone.github.io/blog/2025-04-24-google-promtps-2.md","mainEntityOfPage":"https://sleepy-zone.github.io/blog/2025-04-24-google-promtps-2.md","url":"https://sleepy-zone.github.io/blog/2025-04-24-google-promtps-2.md","headline":"è°·æ­Œæç¤ºè¯å·¥ç¨‹ - æœ€ä½³å®è·µ","name":"è°·æ­Œæç¤ºè¯å·¥ç¨‹ - æœ€ä½³å®è·µ","description":"æ¥ä¸Šæ–‡è°·æ­Œæç¤ºè¯å·¥ç¨‹ - æ¨¡å‹åŸç†å’Œæç¤ºè¯æŠ€æœ¯ï¼Œè®¨è®ºæç¤ºè¯çš„æœ€ä½³å®è·µã€‚","datePublished":"2025-04-24T00:00:00.000Z","author":{"@type":"Person","name":"SleepyZone","description":"å‰ç«¯å¼€å‘ / å¼€æºçˆ±å¥½è€…","url":"https://github.com/sleepy-zone","image":"https://avatars.githubusercontent.com/u/131369648?v=4"},"keywords":[]},{"@type":"BlogPosting","@id":"https://sleepy-zone.github.io/blog/2025-04-23-google-promtps.md","mainEntityOfPage":"https://sleepy-zone.github.io/blog/2025-04-23-google-promtps.md","url":"https://sleepy-zone.github.io/blog/2025-04-23-google-promtps.md","headline":"è°·æ­Œæç¤ºè¯å·¥ç¨‹ - æ¨¡å‹åŸç†å’Œæç¤ºè¯æŠ€æœ¯","name":"è°·æ­Œæç¤ºè¯å·¥ç¨‹ - æ¨¡å‹åŸç†å’Œæç¤ºè¯æŠ€æœ¯","description":"è°·æ­Œå‰æ®µæ—¶é—´å‘å¸ƒäº†æç¤ºè¯å·¥ç¨‹ç™½çš®ä¹¦ï¼Œå·²ç»æœ‰å¾ˆå¤šåšä¸»æ¨èäº†ï¼Œæœ€è¿‘ç»ˆäºæœ‰æ—¶é—´é˜…è¯»ä¸€ä¸‹ã€‚ä»¥ä¸‹æ˜¯ç¬”è®°è®°å½•ã€‚","datePublished":"2025-04-23T00:00:00.000Z","author":{"@type":"Person","name":"SleepyZone","description":"å‰ç«¯å¼€å‘ / å¼€æºçˆ±å¥½è€…","url":"https://github.com/sleepy-zone","image":"https://avatars.githubusercontent.com/u/131369648?v=4"},"keywords":[]},{"@type":"BlogPosting","@id":"https://sleepy-zone.github.io/blog/2025-04-21-old-fe-1.md","mainEntityOfPage":"https://sleepy-zone.github.io/blog/2025-04-21-old-fe-1.md","url":"https://sleepy-zone.github.io/blog/2025-04-21-old-fe-1.md","headline":"ç›˜ç‚¹å‰ç«¯è¿˜åœ¨æ›´æ–°çš„è€é¡¹ç›®","name":"ç›˜ç‚¹å‰ç«¯è¿˜åœ¨æ›´æ–°çš„è€é¡¹ç›®","description":"ä»Šå¤©ä¸èŠ AIï¼ŒèŠç‚¹å‰ç«¯ã€‚å†’ç€æš´éœ²å¹´é¾„çš„é£é™©èŠç‚¹å‰ç«¯é‡Œè¿˜åœ¨æ›´æ–°çš„è€é¡¹ç›®ã€‚","datePublished":"2025-04-21T00:00:00.000Z","author":{"@type":"Person","name":"SleepyZone","description":"å‰ç«¯å¼€å‘ / å¼€æºçˆ±å¥½è€…","url":"https://github.com/sleepy-zone","image":"https://avatars.githubusercontent.com/u/131369648?v=4"},"keywords":[]},{"@type":"BlogPosting","@id":"https://sleepy-zone.github.io/blog/2025-04-14-github-no-vistit.md","mainEntityOfPage":"https://sleepy-zone.github.io/blog/2025-04-14-github-no-vistit.md","url":"https://sleepy-zone.github.io/blog/2025-04-14-github-no-vistit.md","headline":"ä» Github ä¸èƒ½è®¿é—®æƒ³åˆ°çš„","name":"ä» Github ä¸èƒ½è®¿é—®æƒ³åˆ°çš„","description":"ä¸Šå‘¨æœ«ä¸­å›½æœªç™»å½•ç”¨æˆ·æ— æ³•è®¿é—® Githubï¼Œç¬é—´åœ¨ç¤¾äº¤åª’ä½“å¼•èµ·è½©ç„¶å¤§æ³¢ã€‚","datePublished":"2025-04-14T00:00:00.000Z","author":{"@type":"Person","name":"SleepyZone","description":"å‰ç«¯å¼€å‘ / å¼€æºçˆ±å¥½è€…","url":"https://github.com/sleepy-zone","image":"https://avatars.githubusercontent.com/u/131369648?v=4"},"keywords":[]}]}</script><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="ğŸ˜´ Sleepy Zone RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="ğŸ˜´ Sleepy Zone Atom Feed">





<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&amp;display=swap">
<script>!function(t,e,n,a,c,r,s){t[n]=t[n]||function(){(t[n].q=t[n].q||[]).push(arguments)},(r=e.createElement(a)).async=1,r.src="https://www.clarity.ms/tag/r1wmvdsf4a",(s=e.getElementsByTagName(a)[0]).parentNode.insertBefore(r,s)}(window,document,"clarity","script")</script><link rel="stylesheet" href="/assets/css/styles.5d8c36ea.css">
<script src="/assets/js/runtime~main.42b02de1.js" defer="defer"></script>
<script src="/assets/js/main.27ecf4cf.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="è·³åˆ°ä¸»è¦å†…å®¹"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">è·³åˆ°ä¸»è¦å†…å®¹</a></div><nav aria-label="ä¸»å¯¼èˆª" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="åˆ‡æ¢å¯¼èˆªæ " aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="Sleepy Zone Site Logo" class="themedComponent__dKv themedComponent--light_rzkv"><img src="/img/logo.svg" alt="Sleepy Zone Site Logo" class="themedComponent__dKv themedComponent--dark_mMAk"></div><b class="navbar__title text--truncate">Sleepy Zone</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/blog">ğŸ”¥åšå®¢</a><a class="navbar__item navbar__link" href="/thoughts">ğŸ’¡æƒ³æ³•</a><a class="navbar__item navbar__link" href="/weekly/2025-04-23">ğŸ“šä¸å‘¨åˆŠ</a></div><div class="navbar__items navbar__items--right"><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_re4s thin-scrollbar" aria-label="æœ€è¿‘åšæ–‡å¯¼èˆª"><div class="sidebarItemTitle_pO2u margin-bottom--md">All posts</div><div role="group"><h3 class="yearGroupHeading_rMGB">2025</h3><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2025-06-13-cline-source-code-prompt.md">Cline æºç æµ…æ - Prompt è®¾è®¡</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2025-06-10-cline-source-code-mcp.md">Cline  æºç æµ…æ - MCP è°ƒç”¨</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2025-06-07-cline-source-code-1.md">Cline æºç æµ…æ - ä»è¾“å…¥åˆ°è¾“å‡º</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2025-05-30-cline-rule.md">ç°åœ¨å¼€å§‹ä½¿ç”¨ Cline Rules</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2025-04-30-ts-agent-mastra.md">Mastra  - TypeScript AI Agent æ¡†æ¶</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2025-04-30-deepwiki.md">DeepWiki - é˜…è¯»å¼€æºä»£ç çš„ç¥å™¨</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2025-04-24-google-promtps-2.md">è°·æ­Œæç¤ºè¯å·¥ç¨‹ - æœ€ä½³å®è·µ</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2025-04-23-google-promtps.md">è°·æ­Œæç¤ºè¯å·¥ç¨‹ - æ¨¡å‹åŸç†å’Œæç¤ºè¯æŠ€æœ¯</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2025-04-21-old-fe-1.md">ç›˜ç‚¹å‰ç«¯è¿˜åœ¨æ›´æ–°çš„è€é¡¹ç›®</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2025-04-14-github-no-vistit.md">ä» Github ä¸èƒ½è®¿é—®æƒ³åˆ°çš„</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2025-04-10-what-is-agent.md">ä»€ä¹ˆæ˜¯ Agent</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2025-04-07-deepsite.md">DeepSiteï¼šåŸºäº DeepSeek çš„ç”Ÿç åº”ç”¨</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2025-04-06-recent-ai-1.md">æœ€è¿‘å‡ ä»¶å…³äº AI çš„äº‹æƒ…</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2025-03-28-mcp.md">MCP - AI å’ŒçœŸå®ä¸–ç•Œçš„æ¡¥æ¢</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2025-03-26-dev-mcp-server.md">åŠ¨æ‰‹å¼€å‘ä¸€ä¸ª MCP Server</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2025-03-21-woocs">woocsï¼ŒåŸºäº doocs/md çš„å¾®ä¿¡ Markdown ç¼–è¾‘å™¨æ¡Œé¢åº”ç”¨</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2025-03-20-vibe-coding">èŠèŠ vibe coding</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2025-03-19-doocs-md">ã€å¼€æºæ¨èã€‘é«˜åº¦ç®€æ´çš„å¾®ä¿¡ Markdown ç¼–è¾‘å™¨</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2025-03-17-ai-fomo">AI æµªæ½®ä¸‹çš„ FOMO æƒ…ç»ª</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2025-03-10-D2">D2 ç»ˆç«¯æŠ€æœ¯å¤§ä¼šä¹‹æ—…</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2025-02-25-2025-ai-first">2025 å¹´æˆ–è®¸æ˜¯ä¸­å›½çš„ AI å…ƒå¹´</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2025-02-19-we-are-destroying-software">ã€å¥½æ–‡æ¨èã€‘æˆ‘ä»¬æ­£åœ¨æ‘§æ¯è½¯ä»¶</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/ai-replace-fe">AI å¯ä»¥å–ä»£å‰ç«¯å—</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/my-2024">è¿Ÿæ¥çš„ 2024 æ€»ç»“</a></li></ul></div><div role="group"><h3 class="yearGroupHeading_rMGB">2024</h3><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/antd-meetup">Ant Design Meetup ä¹‹è¡Œ</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/sketch-plugin-upload">Sketch æ’ä»¶å®ç°å›¾å±‚å¯¼å‡ºå›¾ç‰‡å¹¶ä¸Šä¼ </a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/ui-diff-in-out">å›½å†…å¤–ç»„ä»¶åº“çš„ä¸€äº›å·®å¼‚</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/thinking-recently">å¯¹è¿‘æœŸä¸€äº›äº‹æƒ…çš„çœ‹æ³•</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/shijing">æˆ‘è¯»äº†è¯»è¯—ç»</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/gradient-in-fe">èŠèŠå‰ç«¯é‡Œçš„æ¸å˜</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/fabritor-2024-1">fabritor @ 2024 çš„ä¸€äº›æ›´æ–°</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2023-summary">2023 æ€»ç»“</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/welcome">Welcome</a></li></ul></div></nav></aside><main class="col col--7"><article class="margin-bottom--xl"><header><h2 class="title_f1Hy"><a href="/blog/2025-06-13-cline-source-code-prompt.md">Cline æºç æµ…æ - Prompt è®¾è®¡</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2025-06-13T00:00:00.000Z">2025å¹´6æœˆ13æ—¥</time> Â· <!-- -->é˜…è¯»éœ€ 17 åˆ†é’Ÿ</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--12 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/sleepy-zone" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo authorImage_XqGP" src="https://avatars.githubusercontent.com/u/131369648?v=4" alt="SleepyZone"></a><div class="avatar__intro authorDetails_lV9A"><div class="avatar__name"><a href="https://github.com/sleepy-zone" target="_blank" rel="noopener noreferrer"><span class="authorName_yefp">SleepyZone</span></a></div><small class="authorTitle_nd0D" title="å‰ç«¯å¼€å‘ / å¼€æºçˆ±å¥½è€…">å‰ç«¯å¼€å‘ / å¼€æºçˆ±å¥½è€…</small><div class="authorSocials_rSDt"></div></div></div></div></div></header><div class="markdown"><p><img decoding="async" loading="lazy" src="https://fastly.jsdelivr.net/gh/bucketio/img17@main/2025/06/06/1749176746221-f97aba25-6da5-461a-be21-369de1c44fff.png" alt="" class="img_ev3q"></p>
<p>â€œAgent å°±æ˜¯å¦‚ä½•æ‹¼å‡ºæ›´å¥½ç”¨çš„ Promptâ€ï¼Œè™½ç„¶æœ‰ç‚¹ç©ç¬‘çš„æ„å‘³ï¼Œä½†ä¹Ÿèƒ½è¯´æ˜ä¸€å®šçš„é—®é¢˜ã€‚æœ¬ç¯‡æ–‡ç« æˆ‘ä»¬æ¢è®¨ä¸‹ Cline é‡Œçš„ Prompt è®¾è®¡ã€‚</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="system-prompt">System Prompt<a href="#system-prompt" class="hash-link" aria-label="System Promptçš„ç›´æ¥é“¾æ¥" title="System Promptçš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<p>ä¼—æ‰€å‘¨çŸ¥ï¼ŒSystem Prompt æ˜¯ Agent çš„æ ¸  å¿ƒèµ„äº§ğŸ˜‚ï¼ŒGithub ä¸Š <a href="https://github.com/x1xhlol/system-prompts-and-models-of-ai-tools" target="_blank" rel="noopener noreferrer">system-prompts-and-models-of-ai-tools</a> è¿™ä¸ªä»“åº“æ”¶é›†äº†å„ç±» AI åº”ç”¨çš„ System Promptï¼Œå·²ç»æœ‰ 56.6K çš„ Star äº†ï¼Œå¯è§ä¸€æ–‘ã€‚</p>
<p>Cline çš„ System Prompt ä½äº <code>src/core/prompts/system.ts</code>ï¼Œæ ¹æ®ä¸Šä¸‹æ–‡ä¿¡æ¯ã€å·¥å…·ä»¥åŠæ¨¡å‹ä¿¡æ¯åŠ¨æ€ç”Ÿæˆã€‚</p>
<blockquote>
<p>You are Cline, a highly skilled software engineer with extensive knowledge in many programming languages, frameworks, design patterns, and best practices.</p>
</blockquote>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="å·¥å…·-tool-use">å·¥å…· TOOL USE<a href="#å·¥å…·-tool-use" class="hash-link" aria-label="å·¥å…· TOOL USEçš„ç›´æ¥é“¾æ¥" title="å·¥å…· TOOL USEçš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<blockquote>
<p>You have access to a set of tools that are executed upon the user&#x27;s approval. You can use one tool per message, and will receive the result of that tool use in the user&#x27;s response. You use tools step-by-step to accomplish a given task, with each tool use informed by the result of the previous tool use.</p>
</blockquote>
<p>æˆ‘ä»¬è‡ªä¸Šè€Œä¸‹çš„è¯»ä¸€é System Promptã€‚</p>
<ol>
<li>å·¥å…·è°ƒç”¨æ ¼å¼</li>
</ol>
<p>é¦–å…ˆå‘Šè¯‰æ¨¡å‹ä½¿ç”¨ XML è¯­æ³•è¾“å‡ºå·¥å…·è°ƒç”¨ç›¸å…³çš„å†…å®¹ã€‚</p>
<div class="language-xml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-xml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">tool_name</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">parameter1_name</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">value1</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">parameter1_name</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">parameter2_name</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">value2</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">parameter2_name</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">tool_name</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ol start="2">
<li>å·¥å…·åˆ—è¡¨</li>
</ol>
<p>åˆ—ä¸¾äº† Cline å†…ç½®çš„å·¥å…·ï¼Œä¸»è¦åŒ…æ‹¬æè¿°ã€å‚æ•°ä»¥åŠä½¿ç”¨ DEMOï¼Œæ¯”å¦‚ <code>write_to_file</code>ï¼š</p>
<div class="language-markdown codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-markdown codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token title important punctuation" style="color:#393A34">##</span><span class="token title important"> write_to_file</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Description: Request to write content to a file at the specified path. If the file exists, it will be overwritten with the provided content. If the file doesn&#x27;t exist, it will be created. This tool will automatically create any directories needed to write the file.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Parameters:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token list punctuation" style="color:#393A34">-</span><span class="token plain"> path: (required) The path of the file to write to (relative to the current working directory ${cwd.toPosix()})</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token list punctuation" style="color:#393A34">-</span><span class="token plain"> content: (required) The content to write to the file. ALWAYS provide the COMPLETE intended content of the file, without any truncation or omissions. You MUST include ALL parts of the file, even if they haven&#x27;t been modified.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Usage:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">write_to_file</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">path</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">File path here</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">path</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">content</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Your file content here</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">content</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">write_to_file</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Cline å†…ç½®äº†åå¤šä¸ªå·¥å…·ï¼Œè¦†ç›–äº†å‘½ä»¤è¡Œã€æ–‡ä»¶æ“ä½œã€æµè§ˆå™¨ã€MCP ç­‰ï¼Œè¿™äº›å·¥å…·æå¤§çš„ä¸°å¯Œäº†æ¨¡å‹çš„èƒ½åŠ›ã€‚</p>
<ol start="3">
<li>å·¥å…·è°ƒç”¨ Example</li>
</ol>
<p>å±•ç¤ºäº†å¤šä¸ªå·¥å…·è°ƒç”¨çš„æ ·ä¾‹ç»™æ¨¡å‹å‚è€ƒï¼š</p>
<div class="language-markdown codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-markdown codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token title important punctuation" style="color:#393A34">#</span><span class="token title important"> Tool Use Examples</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token title important punctuation" style="color:#393A34">##</span><span class="token title important"> Example 1: Requesting to execute a command</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">execute_command</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">command</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">npm run dev</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">command</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">requires_approval</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">false</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">requires_approval</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">execute_command</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ol start="4">
<li>å·¥å…·ä½¿ç”¨æŒ‡å¼•</li>
</ol>
<p>è¿™é‡Œç›¸å½“äºæ‰‹æŠŠæ‰‹æ•™æ¨¡å‹é€æ­¥æ€è€ƒå¦‚ä½•ä½¿ç”¨å·¥å…·ï¼ˆç±»ä¼¼äºæ€ç»´é“¾ï¼ˆCoTï¼‰ï¼‰ï¼Œç®€å•ç¿»è¯‘å¦‚ä¸‹ï¼š
1ï¼‰é¦–å…ˆï¼Œæ¨¡å‹éœ€è¦è¯„ä¼°å·²ç»æŒæ¡çš„ä¿¡æ¯ï¼Œä½¿ç”¨ <code>&lt;thinking&gt;</code> æ ‡ç­¾åŒ…è£¹ã€‚
2ï¼‰æ ¹æ®ä»»åŠ¡å’Œæä¾›çš„å·¥å…·æè¿°ï¼Œé€‰æ‹©æœ€åˆé€‚çš„å·¥å…·ã€‚
3ï¼‰å¦‚æœéœ€è¦æ‰§è¡Œå¤šä¸ªæ“ä½œï¼Œè¯·ä¸€æ¬¡åªä½¿ç”¨ä¸€ä¸ªå·¥å…·ï¼Œæ¯ä¸€æ­¥éƒ½å¿…é¡»ä»¥å‰ä¸€æ­¥çš„ç»“æœä¸ºä¾æ®ã€‚
4ï¼‰ä½¿ç”¨æŒ‡å®šçš„ XML æ ¼å¼æ¥æ„å»ºä½ çš„å·¥å…·è°ƒç”¨ã€‚
5ï¼‰æ¯æ¬¡ä½¿ç”¨å·¥å…·åï¼Œç”¨æˆ·å°†å›å¤è¯¥å·¥å…·çš„æ‰§è¡Œç»“æœã€‚è¿™ä¸ªç»“æœä¼šä¸ºä½ æä¾›ç»§ç»­ä»»åŠ¡æˆ–åšå‡ºè¿›ä¸€æ­¥å†³ç­–æ‰€éœ€çš„ä¿¡æ¯ã€‚
6ï¼‰æ¯æ¬¡ä½¿ç”¨å·¥å…·åï¼Œä¸€å®šè¦ç­‰å¾…ç”¨æˆ·çš„ç¡®è®¤åå†ç»§ç»­ã€‚</p>
<p>ä»¥ä¸Šçš„æ“ä½œï¼Œå¯ä»¥ç¡®ä¿æ¨¡å‹æŒ‰æ­¥éª¤æ‹†è§£ä»»åŠ¡ï¼Œç¡®è®¤æ¯æ­¥çš„æˆåŠŸä¸å¦ï¼Œæ ¹æ®ç”¨æˆ·çš„åé¦ˆå®æ—¶è¿›è¡Œè°ƒæ•´ï¼Œä¿è¯å·¥å…·ä½¿ç”¨å’Œæœ€ç»ˆä»»åŠ¡çš„æ­£ç¡®æ€§ã€‚</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="mcp-server">MCP Server<a href="#mcp-server" class="hash-link" aria-label="MCP Serverçš„ç›´æ¥é“¾æ¥" title="MCP Serverçš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<p>è¿™éƒ¨åˆ†æˆ‘ä»¬åœ¨ <a href="https://mp.weixin.qq.com/s?__biz=MzAxMDA0MTE5Mw==&amp;mid=2247483942&amp;idx=1&amp;sn=70ad8830317f688b79d800c39b80a62d&amp;chksm=9b572020ac20a936dcd5606ed29690f3c2d4856b39a0e9193c52f64896d47e4bd064e9e4fc7d&amp;scene=178&amp;cur_album_id=4021745110793502724&amp;search_click_id=#rd" target="_blank" rel="noopener noreferrer">Cline æºç æµ…æ - MCP è°ƒç”¨</a>èŠè¿‡ï¼Œè¿™é‡Œä¸å†å±•å¼€ã€‚</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="æ–‡ä»¶ç¼–è¾‘-editing-files">æ–‡ä»¶ç¼–è¾‘ EDITING FILES<a href="#æ–‡ä»¶ç¼–è¾‘-editing-files" class="hash-link" aria-label="æ–‡ä»¶ç¼–è¾‘ EDITING FILESçš„ç›´æ¥é“¾æ¥" title="æ–‡ä»¶ç¼–è¾‘ EDITING FILESçš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<p>å¯¹äº Code Agent æ–‡ä»¶ç¼–è¾‘æ˜¯éå¸¸é‡è¦çš„éƒ¨åˆ†ï¼Œè¿™é‡Œå†æ¬¡å¼ºè°ƒäº† <code>write_to_file</code> å’Œ <code>replace_in_file</code> ä¸¤ä¸ªå·¥å…·çš„ä½¿ç”¨ï¼šè¯¦ç»†çš„ä½¿ç”¨æ—¶æœºä»¥åŠé‡è¦æç¤ºã€‚</p>
<p>å†æ¬¡ä»¥ workflow çš„æ–¹å¼å‘Šè¯‰æ¨¡å‹ä½¿ç”¨æ–‡ä»¶ç¼–è¾‘å·¥å…·çš„æœ€ä½³å®è·µï¼š</p>
<div class="language-markdown codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-markdown codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token list punctuation" style="color:#393A34">1.</span><span class="token plain"> åœ¨è¿›è¡Œç¼–è¾‘ä¹‹å‰ï¼Œè¯„ä¼°ä½ æ›´æ”¹çš„èŒƒå›´ï¼Œå¹¶å†³å®šä½¿ç”¨å“ªä¸ªå·¥å…·ã€‚  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token list punctuation" style="color:#393A34">2.</span><span class="token plain"> å¯¹äºæœ‰é’ˆå¯¹æ€§çš„ä¿®æ”¹ï¼Œè¯·ä½¿ç”¨ </span><span class="token code-snippet code keyword" style="color:#00009f">`replace_in_file`</span><span class="token plain"> å·¥å…·ï¼Œå¹¶ç²¾å¿ƒç¼–å†™ SEARCH/REPLACE å—ã€‚å¦‚æœä½ éœ€è¦è¿›è¡Œå¤šé¡¹æ›´æ”¹ï¼Œå¯ä»¥åœ¨ä¸€ä¸ª </span><span class="token code-snippet code keyword" style="color:#00009f">`replace_in_file`</span><span class="token plain"> è°ƒç”¨ä¸­å †å å¤šä¸ª SEARCH/REPLACE å—ã€‚  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token list punctuation" style="color:#393A34">3.</span><span class="token plain"> å¯¹äºå¤§è§„æ¨¡é‡æ„æˆ–åˆå§‹æ–‡ä»¶åˆ›å»ºï¼Œè¯·ä¾èµ– </span><span class="token code-snippet code keyword" style="color:#00009f">`write_to_file`</span><span class="token plain"> å·¥å…·ã€‚  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token list punctuation" style="color:#393A34">4.</span><span class="token plain"> ä¸€æ—¦æ–‡ ä»¶é€šè¿‡ </span><span class="token code-snippet code keyword" style="color:#00009f">`write_to_file`</span><span class="token plain"> æˆ– </span><span class="token code-snippet code keyword" style="color:#00009f">`replace_in_file`</span><span class="token plain"> è¢«ç¼–è¾‘ï¼Œç³»ç»Ÿå°†å‘ä½ æä¾›ä¿®æ”¹åæ–‡ä»¶çš„æœ€ç»ˆçŠ¶æ€ã€‚è¯·å°†æ­¤æ›´æ–°åçš„å†…å®¹ä½œä¸ºåç»­æ‰€æœ‰ SEARCH/REPLACE æ“ä½œçš„å‚è€ƒç‚¹ï¼Œå› ä¸ºå®ƒåæ˜ äº†ä»»ä½•è‡ªåŠ¨æ ¼å¼åŒ–æˆ–ç”¨æˆ·æ‰‹åŠ¨åº”ç”¨çš„æ›´æ”¹ã€‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">é€šè¿‡åœ¨ </span><span class="token code-snippet code keyword" style="color:#00009f">`write_to_file`</span><span class="token plain"> å’Œ </span><span class="token code-snippet code keyword" style="color:#00009f">`replace_in_file`</span><span class="token plain"> ä¹‹é—´åšå‡ºæ·±æ€ç†Ÿè™‘çš„é€‰æ‹©ï¼Œä½ å¯ä»¥ä½¿æ–‡ä»¶ç¼–è¾‘è¿‡ç¨‹æ›´åŠ é¡ºç•…ã€å®‰å…¨å’Œé«˜æ•ˆã€‚</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="act-mode-å’Œ-plan-mode">Act Mode å’Œ Plan Mode<a href="#act-mode-å’Œ-plan-mode" class="hash-link" aria-label="Act Mode å’Œ Plan Modeçš„ç›´æ¥é“¾æ¥" title="Act Mode å’Œ Plan Modeçš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<p><img decoding="async" loading="lazy" src="https://fastly.jsdelivr.net/gh/bucketio/img17@main/2025/06/11/1749631375428-9af1e1b3-f2d1-44bd-991e-c15f14b7cf96.png" alt="" class="img_ev3q"></p>
<p>Cline æä¾›äº†ä¸¤ç§æ¨¡å¼ï¼šPlan å’Œ Actã€‚å¯¹äºå¤æ‚ä»»åŠ¡ï¼ŒCline æ¨èä» Plan æ¨¡å¼å¼€å§‹ï¼Œè®©æ¨¡å‹å…ˆè¡Œè§„åˆ’ç­–ç•¥ï¼Œç„¶ååˆ‡æ¢åˆ° Act æ¨¡å¼ï¼ŒæŒ‰ç…§è§„åˆ’é€æ­¥å®æ–½ï¼Œä»¥æé«˜ä»£ç è¾“å‡ºè´¨é‡ã€‚å¯¹è¯è¿‡ç¨‹ä¸­ï¼Œå¯ä»¥åœ¨ä¸¤ä¸ªæ¨¡å¼ä¸­åˆ‡æ¢ï¼Œå°±åƒäººä¸€æ ·ï¼Œå†™ä»£ç è¿‡ç¨‹ä¸­ï¼Œé‡åˆ°é—®é¢˜ï¼Œåœä¸‹æ¥æ€è€ƒã€‚</p>
<p>System Prompt é‡Œè¯¦ç»†æè¿°äº†ä¸¤ç§æ¨¡å¼çš„å·®å¼‚ï¼Œé‡ç‚¹æè¿°äº†ä¸€ä¸‹ Plan æ¨¡å¼çš„è§„åˆ™ï¼Œæ¯”å¦‚ä½¿ç”¨ <code>read_file</code> <code>search_files</code> ç­‰å·¥å…·äº†è§£ä¿¡æ¯ï¼Œç‰¹åˆ«æ¨èä½¿ç”¨å›¾è¡¨ç›´è§‚å±•ç¤ºä¿¡æ¯ï¼Œå¹¶å¼ºè°ƒ Plan æ¨¡å¼ä¸‹ä¼šä½¿ç”¨ <code>plan_mode_respond</code> å·¥å…·å›å¤ä¿¡æ¯ã€‚</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="åŠŸèƒ½-capabilities">åŠŸèƒ½ CAPABILITIES<a href="#åŠŸèƒ½-capabilities" class="hash-link" aria-label="åŠŸèƒ½ CAPABILITIESçš„ç›´æ¥é“¾æ¥" title="åŠŸèƒ½ CAPABILITIESçš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<p>è¿™ä¸€å¤§æ®µç›¸å½“äºæŠŠä¸Šé¢çš„å·¥å…·é›†è¿›è¡Œäº†ä¸€æ¬¡æ€»ç»“ï¼Œå‘Šè¯‰æ¨¡å‹æœ‰ç”¨å“ªäº›èƒ½åŠ›ï¼Œå¯ä»¥ä½¿ç”¨å“ªäº›ç‰¹å®šå·¥å…·æ¥å®Œæˆç‰¹å®šçš„åŠŸèƒ½ï¼Œæ¯”å¦‚å‘½ä»¤è¡Œï¼š</p>
<div class="language-markdown codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-markdown codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">You can use the execute_command tool to run commands on the user&#x27;s computer whenever you feel it can help accomplish the user&#x27;s task. When you need to execute a CLI command, you must provide a clear explanation of what the command does. ......</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="è§„åˆ™-rules">è§„åˆ™ RULES<a href="#è§„åˆ™-rules" class="hash-link" aria-label="è§„åˆ™ RULESçš„ç›´æ¥é“¾æ¥" title="è§„åˆ™ RULESçš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<p>è§„åˆ™éƒ¨åˆ†ä¸»è¦å¼ºè°ƒäº†ä»€ä¹ˆå¯ä»¥åšï¼Œä»€ä¹ˆä¸èƒ½åšã€‚æ¯”å¦‚ä¸å¯ä»¥ä½¿ç”¨ ~ æˆ– $HOME æ¥è¡¨ç¤ºç”¨æˆ·çš„ä¸»ç›®å½•ï¼Œä¸å¯ä»¥ä½¿ç”¨ cd å‘½ä»¤ï¼Œä¸èƒ½å£è¯­åŒ–ï¼Œå¿…é¡»ç­‰å¾…ç”¨æˆ·ç¡®è®¤ã€‚è¿™é‡Œä½¿ç”¨äº†å¤§é‡çš„<code>** **</code> åŠ ç²—çš„æ ‡è®°æé†’æ¨¡å‹ã€‚</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="ç³»ç»Ÿä¿¡æ¯">ç³»ç»Ÿä¿¡æ¯<a href="#ç³»ç»Ÿä¿¡æ¯" class="hash-link" aria-label="ç³»ç»Ÿä¿¡æ¯çš„ç›´æ¥é“¾æ¥" title="ç³»ç»Ÿä¿¡æ¯çš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<p>è·å–ç³»ç»Ÿä¿¡æ¯ï¼Œè¿™äº›å¯ä»¥å¸®åŠ©å‘½ä»¤è¡Œå·¥å…·ã€æ–‡æœ¬è¯»å†™å·¥å…·çš„æ‰§è¡Œã€‚</p>
<div class="language-ts codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ts codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Operating System</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> $</span><span class="token punctuation" style="color:#393A34">{</span><span class="token function" style="color:#d73a49">osName</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Default Shell</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> $</span><span class="token punctuation" style="color:#393A34">{</span><span class="token function" style="color:#d73a49">getShell</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Home Directory</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> $</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">os</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">homedir</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">toPosix</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Current Working Directory</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> $</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">cwd</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">toPosix</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="ç›®æ ‡">ç›®æ ‡<a href="#ç›®æ ‡" class="hash-link" aria-label="ç›®æ ‡çš„ç›´æ¥é“¾æ¥" title="ç›®æ ‡çš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<p>è¿™é‡Œå¥ å®šäº† Cline å¤„ç†é—®é¢˜çš„åŸºè°ƒï¼Œæˆ‘å®Œæ•´çš„è´´åœ¨è¿™é‡Œï¼š</p>
<div class="language-markdown codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-markdown codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">ä½ é€šè¿‡è¿­ä»£çš„æ–¹å¼å®Œæˆç»™å®šçš„ä»»åŠ¡ï¼Œå°†å…¶åˆ†è§£ä¸ºæ¸…æ™°çš„æ­¥éª¤ï¼Œå¹¶æœ‰æ¡ä¸ç´Šåœ°é€ä¸€æ‰§è¡Œã€‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token list punctuation" style="color:#393A34">1.</span><span class="token plain"> </span><span class="token bold punctuation" style="color:#393A34">**</span><span class="token bold content">åˆ†æç”¨æˆ·çš„ä»»åŠ¡</span><span class="token bold punctuation" style="color:#393A34">**</span><span class="token plain">ï¼Œè®¾å®šæ˜ç¡®ä¸”å¯å®ç°çš„ç›®æ ‡ä»¥å®Œæˆå®ƒã€‚æŒ‰é€»è¾‘é¡ºåºå¯¹è¿™äº›ç›®æ ‡è¿›è¡Œä¼˜å…ˆçº§æ’åºã€‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token list punctuation" style="color:#393A34">2.</span><span class="token plain"> ä¾æ¬¡å¤„ç†è¿™äº›ç›®æ ‡ï¼Œåœ¨å¿…è¦æ—¶ä¸€æ¬¡ä½¿ç”¨ä¸€ä¸ªå¯ç”¨å·¥å…·ã€‚æ¯ä¸ªç›®æ ‡åº”å¯¹åº”ä½ è§£å†³é—®é¢˜è¿‡ç¨‹ä¸­çš„ä¸€ä¸ªå…·ä½“æ­¥éª¤ã€‚åœ¨æ•´ä¸ªè¿‡ç¨‹ä¸­ï¼Œä½ ä¼šè¢«å‘ŠçŸ¥å·²å®Œæˆçš„å·¥ä½œå’Œå‰©ä½™çš„ä»»åŠ¡ã€‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token list punctuation" style="color:#393A34">3.</span><span class="token plain"> è¯·è®°ä½ï¼Œä½ æ‹¥æœ‰å¹¿æ³›çš„å·¥å…·èƒ½åŠ›ï¼Œå¯ä»¥çµæ´»ã€å·§å¦™åœ°è¿ç”¨è¿™äº›å·¥å…·æ¥å®Œæˆæ¯ä¸€ä¸ªç›®æ ‡ã€‚åœ¨è°ƒç”¨ä»»ä½•å·¥å…·ä¹‹å‰ï¼Œè¯·åœ¨ </span><span class="token code-snippet code keyword" style="color:#00009f">`&lt;thinking&gt;&lt;/thinking&gt;`</span><span class="token plain"> æ ‡ç­¾ä¸­è¿›è¡Œåˆ†æï¼š</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token list punctuation" style="color:#393A34">-</span><span class="token plain"> é¦–å…ˆï¼Œåˆ†æ </span><span class="token code-snippet code keyword" style="color:#00009f">`environment_details`</span><span class="token plain"> ä¸­æä¾›çš„æ–‡ä»¶ç»“æ„ï¼Œä»¥è·å–ä¸Šä¸‹æ–‡å’Œæ´å¯Ÿï¼Œä»è€Œæœ‰æ•ˆåœ°æ¨è¿›ä»»åŠ¡ã€‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token list punctuation" style="color:#393A34">-</span><span class="token plain"> ç„¶åï¼Œæ€è€ƒå“ªä¸ªå¯ç”¨å·¥å…·æœ€ç›¸å…³ï¼Œèƒ½å¤Ÿå¸®åŠ©ä½ å®Œæˆç”¨æˆ·ä»»åŠ¡ã€‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token list punctuation" style="color:#393A34">-</span><span class="token plain"> æ¥ç€ï¼Œé€ä¸ªæ£€æŸ¥è¯¥å·¥å…·æ‰€éœ€çš„å‚æ•°ï¼Œå¹¶åˆ¤æ–­ç”¨æˆ·æ˜¯å¦å·²ç›´æ¥æä¾›æˆ–æä¾›äº†è¶³å¤Ÿçš„ä¿¡æ¯ç”¨äºæ¨æ–­å‚æ•°å€¼ã€‚åœ¨å†³å®šèƒ½å¦æ¨æ–­æŸä¸ªå‚æ•°å€¼æ—¶ï¼Œè¯· ä»”ç»†è€ƒè™‘æ‰€æœ‰ä¸Šä¸‹æ–‡ï¼Œçœ‹æ˜¯å¦æ”¯æŒç‰¹å®šçš„å–å€¼ã€‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token list punctuation" style="color:#393A34">-</span><span class="token plain"> å¦‚æœæ‰€æœ‰å¿…éœ€çš„å‚æ•°éƒ½å·²å­˜åœ¨æˆ–å¯ä»¥åˆç†æ¨æ–­ï¼Œåˆ™å…³é—­ </span><span class="token code-snippet code keyword" style="color:#00009f">`&lt;thinking&gt;`</span><span class="token plain"> æ ‡ç­¾å¹¶ç»§ç»­æ‰§è¡Œå·¥å…·æ“ä½œã€‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token list punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token bold punctuation" style="color:#393A34">**</span><span class="token bold content">ä½†å¦‚æœæœ‰ä¸€ä¸ªå¿…éœ€å‚æ•°çš„å€¼ç¼ºå¤±</span><span class="token bold punctuation" style="color:#393A34">**</span><span class="token plain">ï¼Œ</span><span class="token bold punctuation" style="color:#393A34">**</span><span class="token bold content">ä¸è¦è°ƒç”¨è¯¥å·¥å…·</span><span class="token bold punctuation" style="color:#393A34">**</span><span class="token plain">ï¼ˆå³ä½¿å¡«å…¥å ä½ç¬¦ä¹Ÿä¸è¡Œï¼‰ï¼Œè€Œæ˜¯ä½¿ç”¨ </span><span class="token code-snippet code keyword" style="color:#00009f">`ask_followup_question`</span><span class="token plain"> å·¥å…·å‘ç”¨æˆ·è¯·æ±‚ç¼ºå¤±çš„å‚æ•°ã€‚å¦‚æœæœªæä¾›çš„æ˜¯</span><span class="token bold punctuation" style="color:#393A34">**</span><span class="token bold content">å¯é€‰å‚æ•°</span><span class="token bold punctuation" style="color:#393A34">**</span><span class="token plain">ï¼Œåˆ™</span><span class="token bold punctuation" style="color:#393A34">**</span><span class="token bold content">ä¸è¦ä¸»åŠ¨è¯¢é—®</span><span class="token bold punctuation" style="color:#393A34">**</span><span class="token plain">ã€‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token list punctuation" style="color:#393A34">4.</span><span class="token plain"> å®Œæˆç”¨æˆ·çš„ä»»åŠ¡åï¼Œä½ å¿…é¡»ä½¿ç”¨ </span><span class="token code-snippet code keyword" style="color:#00009f">`attempt_completion`</span><span class="token plain"> å·¥å…·å°†ç»“æœæäº¤ç»™ç”¨æˆ·ã€‚ä½ ä¹Ÿå¯ä»¥æä¾›ä¸€æ¡ CLI å‘½ä»¤æ¥å±•ç¤ºä»»åŠ¡çš„ç»“æœï¼›è¿™å¯¹äº Web å¼€å‘ä»»åŠ¡å°¤å…¶æœ‰ç”¨ï¼Œä¾‹å¦‚ä½ å¯ä»¥è¿è¡Œ </span><span class="token code-snippet code keyword" style="color:#00009f">`open index.html`</span><span class="token plain"> æ¥å±•ç¤ºä½ æ„å»ºçš„ç½‘ç«™ã€‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token list punctuation" style="color:#393A34">5.</span><span class="token plain"> ç”¨æˆ·å¯èƒ½ä¼šæä¾›åé¦ˆï¼Œä½ å¯ä»¥æ ¹æ®åé¦ˆè¿›è¡Œæ”¹è¿›å¹¶é‡æ–°å°è¯•ã€‚ä½†</span><span class="token bold punctuation" style="color:#393A34">**</span><span class="token bold content">ä¸è¦é™·å…¥æ— æ„ä¹‰çš„æ¥å›å¯¹è¯ä¸­</span><span class="token bold punctuation" style="color:#393A34">**</span><span class="token plain">ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œ</span><span class="token bold punctuation" style="color:#393A34">**</span><span class="token bold content">ä¸è¦ä»¥é—®é¢˜æˆ–æä¾›è¿›ä¸€æ­¥å¸®åŠ©çš„æè®®ç»“æŸä½ çš„å›å¤</span><span class="token bold punctuation" style="color:#393A34">**</span><span class="token plain">ã€‚</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="è‡ªå®šä¹‰-system-prompt">è‡ªå®šä¹‰ System Prompt<a href="#è‡ªå®šä¹‰-system-prompt" class="hash-link" aria-label="è‡ªå®šä¹‰ System Promptçš„ç›´æ¥é“¾æ¥" title="è‡ªå®šä¹‰ System Promptçš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<p>åœ¨ <code>addUserInstructions</code> æ–¹æ³•ä¸­ï¼Œè¿½åŠ ç”¨æˆ·è‡ªå®šä¹‰çš„æŒ‡ä»¤ï¼Œè¿™é‡ŒåŒ…æ‹¬äº† <a href="https://docs.cline.bot/features/cline-rules" target="_blank" rel="noopener noreferrer">Cline Rules</a>ã€‚æˆ‘ä»¬å¯ä»¥åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹æ–°å»º <code>.clinerules/</code> å­˜æ”¾ Cline Ruleï¼ŒCline ä½œä¸º System Prompt æœ€æœ‰æ•ˆçš„è¡¥å……ï¼Œå¯ä»¥é’ˆå¯¹ä¸åŒçš„é¡¹ç›®åšä¸åŒçš„å®šåˆ¶ã€‚</p>
<p>ç”šè‡³è¿½åŠ äº† Cursor æˆ–è€… Windsurf çš„ Ruleã€‚ğŸ˜‚</p>
<div class="language-ts codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ts codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">localCursorRulesFileInstructions</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  customInstructions </span><span class="token operator" style="color:#393A34">+=</span><span class="token plain"> localCursorRulesFileInstructions </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;\n\n&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">localCursorRulesDirInstructions</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  customInstructions </span><span class="token operator" style="color:#393A34">+=</span><span class="token plain"> localCursorRulesDirInstructions </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;\n\n&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">localWindsurfRulesFileInstructions</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  customInstructions </span><span class="token operator" style="color:#393A34">+=</span><span class="token plain"> localWindsurfRulesFileInstructions </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;\n\n&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="claude4-æ”¯æŒ">Claude4 æ”¯æŒ<a href="#claude4-æ”¯æŒ" class="hash-link" aria-label="Claude4 æ”¯æŒçš„ç›´æ¥é“¾æ¥" title="Claude4 æ”¯æŒçš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<p>Cline 3.17.9 ç‰ˆæœ¬å¯¹ Claude4 åšäº†ç‰¹æ®Šæ”¯æŒ <code>src/core/prompts/model_prompts/claude4.ts</code> ä»¥åŠ <code>src/core/prompts/model_prompts/claude4-experimental.ts</code>ã€‚æ®å®˜æ–¹åšå®¢æè¿°ï¼Œåœ¨ä½¿ç”¨æ–°çš„ Claude4 æ¨¡å‹æ—¶ï¼Œä¼šé‡åˆ°ä¸€äº›ç¼–è¾‘é”™è¯¯ã€‚</p>
<blockquote>
<p>è¿™æ¬¡ç‰ˆæœ¬æ›´æ–°ä¸»è¦å…³æ³¨ Cline ä¸ Claude 4 ä¹‹é—´çš„äº¤äº’ï¼Œå°¤å…¶æ˜¯åœ¨æœç´¢å’Œæ›¿æ¢æ“ä½œä¸Šã€‚æˆ‘ä»¬è°ƒæ•´äº†åˆ†éš”ç¬¦æ–¹æ³•ï¼Œå°† &lt; å’Œ &gt; æ›¿æ¢ä¸º - å’Œ + ï¼Œè¿™åœ¨æˆ‘ä»¬çš„å†…éƒ¨æµ‹è¯•ä¸­æ˜¾ç¤ºå‡ºäº†ç§¯æçš„æ•ˆæœï¼Œå‡å°‘äº†ç¼–è¾‘å¤±è´¥ï¼Œæé«˜äº†ä»£ç ä¿®æ”¹çš„æˆåŠŸç‡ã€‚</p>
</blockquote>
<p>è¿™ä¹Ÿç»™æˆ‘ä»¬å¸¦æ¥äº†ä¸€äº›æç¤ºï¼šåœ¨æ¨¡å‹åˆ‡æ¢æ—¶ï¼Œéœ€è¦åŠæ—¶çš„æµ‹è¯•å’Œè°ƒæ•´ Promptï¼Œä»¥æ›´å¥½çš„é€‚åº”æ›´æ–°æ›´å¼ºå¤§çš„æ¨¡å‹ã€‚</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="command-å’Œ-workflow">Command å’Œ Workflow<a href="#command-å’Œ-workflow" class="hash-link" aria-label="Command å’Œ Workflowçš„ç›´æ¥é“¾æ¥" title="Command å’Œ Workflowçš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<p>é™¤äº† Cline Rulesï¼ŒCline è¿˜æä¾›äº†å…¶ä»–æ–¹å¼æ¥è®©ç”¨æˆ·å®šåˆ¶ Promptã€‚</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="slash-command">Slash Command<a href="#slash-command" class="hash-link" aria-label="Slash Commandçš„ç›´æ¥é“¾æ¥" title="Slash Commandçš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<p>Cline æä¾›äº† Slash Command çš„æ¦‚å¿µï¼Œé€šè¿‡ <code>/</code> è§¦å‘ã€‚</p>
<p><img decoding="async" loading="lazy" src="https://fastly.jsdelivr.net/gh/bucketio/img19@main/2025/06/11/1749635423130-0b111dc0-9024-4a6f-bdab-9ece17bf3e45.png" alt="" class="img_ev3q"></p>
<p>ä¸åƒ Cline Rule ä¼šé’ˆå¯¹æ¯ä¸ªä»»åŠ¡ç”Ÿæ•ˆï¼ŒCommand åœ¨å®ç°ç‰¹å®šç±»å‹ä»»åŠ¡çš„æ—¶å€™å¾ˆæœ‰ç”¨ã€‚æ¯”å¦‚æˆ‘ä»¬è¦åé¦ˆ Bugï¼Œå°±å¯ä»¥ä½¿ç”¨å†…ç½®çš„ <code>/reportBug</code> è§¦å‘ä»»åŠ¡ã€‚è€Œæ¯”å¦‚åœ¨æ‰§è¡Œå…¶ä»–ä»»åŠ¡ï¼Œæ¯”å¦‚å†™ä»£ç æ—¶ï¼Œä¸å¸¦ä¸Šè¿™ä¸ªå‘½ä»¤ï¼Œä¹Ÿå°±ä¸ä¼šå‘é€ç›¸åº”çš„æç¤ºè¯ç»™æ¨¡å‹ã€‚</p>
<p>Command ç›¸åº”çš„æç¤ºè¯ä½äº <code>src/core/prompts/commands.ts</code>ï¼Œæç¤ºè¯ç»„è£…è¿‡ç¨‹ä¸­ï¼Œä¼šè°ƒç”¨ <code>src/core/slash-commands/index.ts</code> æ–‡ä»¶çš„ <code>parseSlashCommands</code>  æ–¹æ³•ï¼Œå°† <code>/</code> å‘½ä»¤æ›¿æ¢ä¸ºæŒ‡å®šçš„æç¤ºè¯ã€‚</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="workflow">Workflow<a href="#workflow" class="hash-link" aria-label="Workflowçš„ç›´æ¥é“¾æ¥" title="Workflowçš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<p>å¦‚æœè¦è‡ªå®šä¹‰ Commandï¼Œé™¤äº†æºç å±‚é¢å®šåˆ¶ï¼ŒCline ä¹Ÿæ”¯æŒç”¨æˆ·æ‰‹åŠ¨é…ç½®ï¼ŒCline ç§°å…¶ä¸º Workflowï¼ŒWorkflow å…è®¸ç”¨æˆ·è‡ªå®šä¹‰æ­¥éª¤æ¥å¤„ç†ç‰¹å®šçš„ä»»åŠ¡ã€‚åœ¨ <code>.clinerules</code> ç›®å½•ä¸‹æ–°å»º <code>workflows</code> ç›®å½•ï¼Œç›®å½•ä¸‹æ–°å»º markdown æ–‡ä»¶ï¼Œæ–‡ä»¶å†…å®¹æˆ‘å¤„ç†ç‰¹å®šä»»åŠ¡çš„æ­¥éª¤ã€‚è¿™æ—¶å€™èŠå¤©æ¡†ä¸­è¾“å…¥ <code>/</code>ï¼Œå°±ä¼šå‘ç°å‘½ä»¤åˆ—è¡¨å¤šäº†æˆ‘ä»¬å®šåˆ¶çš„ <code>/[workflow-name.md]</code>ã€‚</p>
<p>è¿™éƒ¨åˆ†é€»è¾‘ä¾ç„¶åœ¨ <code>parseSlashCommands</code> æ–¹æ³•å†…ï¼ŒCommand å’Œ Workflow éƒ½ä¼šå¤„ç†æˆ <code>/</code> å‘½ä»¤ã€‚</p>
<p>å¯ä»¥å‚ç…§ Cline ä»“åº“çš„ <code>.clinerules/workflows/pr-review.md</code> ç¼–å†™è‡ªå·±çš„ Workflowã€‚</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="mention-">Mention @<a href="#mention-" class="hash-link" aria-label="Mention @çš„ç›´æ¥é“¾æ¥" title="Mention @çš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<p>@ åœ¨ Cline ä¸­æ˜¯ä½œä¸ºå¼•ç”¨å¤–éƒ¨èµ„æºæ‰©å±•ä¸Šä¸‹æ–‡å­˜åœ¨çš„ã€‚</p>
<p><img decoding="async" loading="lazy" src="https://fastly.jsdelivr.net/gh/bucketio/img11@main/2025/06/11/1749649934154-2a274dec-1ff4-4c14-8e42-4e1a84366bc3.png" alt="" class="img_ev3q"></p>
<p>æ¯”å¦‚ä½ å¯ä»¥ @ ä¸€ä¸ªæ–‡ä»¶è·¯å¾„ï¼Œé‚£è¿™ä¸ªæ–‡ä»¶çš„å†…å®¹å°±ä¼šä½œä¸º Prompt å¸¦ç»™å¤§æ¨¡å‹ã€‚æ ¼å¼å¦‚ä¸‹ï¼š</p>
<div class="language-xml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-xml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">file_content</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">path</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">path/to/file</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[Complete file content]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">file_content</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>é™¤äº†æ–‡ä»¶ï¼Œè¿˜å¯ä»¥ @ é—®é¢˜ã€å‘½ä»¤è¡Œç”šè‡³æ˜¯ä¸€ä¸ª urlï¼Œä¸å¿…è¾“å…¥å¤§æ®µæ–‡å­—å³å¯æä¾›ç»™æ¨¡å‹æ›´ä¸°å¯Œçš„ä¸Šä¸‹æ–‡ä¿¡æ¯ã€‚</p>
<p>mention ç›¸å…³å¤„ç†ä½äº <code>src/core/mentions/index.ts</code>ï¼Œå¤„ç†äº†å„ç§ @ ä¿¡æ¯ã€‚å®è·µä¸­ï¼Œæˆ‘ä»¬å¯ä»¥æ‰©å±• @èƒ½åŠ›ï¼Œæ¯”å¦‚ @æˆ‘ä»¬å†…éƒ¨çš„çŸ¥è¯†åº“æ¥è®© Cline æ›´å¥½çš„äº†è§£å›¢é˜Ÿå†…éƒ¨çŸ¥è¯†ã€‚</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="memery-bank">Memery Bank<a href="#memery-bank" class="hash-link" aria-label="Memery Bankçš„ç›´æ¥é“¾æ¥" title="Memery Bankçš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<p>Memery Bank æ˜¯ Cline Agent è®°å¿†ç³»ç»Ÿçš„ä¸€ä¸ªè§£å†³æ–¹æ¡ˆï¼Œ[Cline Blog] å°† Memery Bank æ¯”å–»ä¸ºç¬”è®°æœ¬ï¼Œéšç€é¡¹ç›®çš„æ›´æ–°æŒç»­çš„æ›´æ–°ç¬”è®°ï¼Œè¿™æ ·åœ¨å¼€å§‹æ–°ä»»åŠ¡ä¸¢å¤±å†å²è®°å½•å’Œä¸Šä¸‹æ–‡çš„æƒ…å†µä¸‹ï¼ŒCline ä¾æ—§å¯ä»¥é€šè¿‡ç¬”è®°æœ¬é‡Œçš„å†…å®¹äº†è§£é¡¹ç›®å…¨è²Œã€æŠ€æœ¯æ¶æ„ä»¥åŠå½“å‰è¿›åº¦ç­‰ä¿¡æ¯ã€‚</p>
<p>æˆ‘ä»¬å¯ä»¥åœ¨ <code>.clinerules</code> ç›®å½•ä¸‹æ–°å»º <code>memory-bank.md</code>ï¼Œå†…å®¹å¯ä»¥å‚ç…§å®˜æ–¹æ–‡æ¡£ç»™å‡ºçš„<a href="https://docs.cline.bot/prompting/cline-memory-bank" target="_blank" rel="noopener noreferrer">ç¤ºä¾‹</a>ã€‚</p>
<p>è¿™ä»½ç¤ºä¾‹è¦æ±‚æ¨¡å‹ä»¥å¦‚ä¸‹çš„æ–‡æ¡£å…³ç³»æ•´ç†ç¬”è®°æœ¬ï¼š</p>
<p><img decoding="async" loading="lazy" src="https://fastly.jsdelivr.net/gh/bucketio/img19@main/2025/06/12/1749734819909-17e56603-1947-4c2c-acac-4ec4a589f638.png" alt="" class="img_ev3q"></p>
<p>è¿™å…­ä¸ªæ–‡ä»¶åˆ†åˆ«ä½œç”¨ä¸ºï¼š</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">projectbrief.md: é¡¹ç›®ç®€ä»‹ï¼Œå¥ å®šä¸€åˆ‡çš„åŸºç¡€æ–‡æ¡£</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">productContext.md: äº§å“ä¸Šä¸‹æ–‡ï¼Œå•†ä¸šå’Œç”¨æˆ·è§†è§’</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">systemPatterns.md: æŠ€æœ¯æ¶æ„ä¸å†³ç­–</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">techContext.md: å¼€å‘ç¯å¢ƒå’ŒæŠ€æœ¯æ ˆ</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">activeContext.md: å½“å‰å¼€å‘çŠ¶æ€</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">progress.md: é¡¹ç›®è¿›åº¦ä¸è·Ÿè¸ª</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>å®é™…å·¥ä½œä¸­ï¼Œå·¥ä½œå‰éœ€è¦ç¡®è®¤ Memory Bank æ–‡ä»¶ï¼Œè·å–å¿…è¦çš„ä¸Šä¸‹æ–‡çŸ¥è¯†ï¼Œå¦‚æœé¡¹ç›®æœ‰é‡å¤§æ›´æ–°ï¼Œåˆ™æ›´æ–°ç›¸å…³æ–‡æ¡£ï¼Œä»¥åº”å¯¹ä¸Šä¸‹æ–‡ä¸¢å¤±çš„æƒ…å†µã€‚</p>
<p><img decoding="async" loading="lazy" src="https://fastly.jsdelivr.net/gh/bucketio/img15@main/2025/06/12/1749735115693-dbaf9940-685d-4e0f-8842-0a56c94c845e.png" alt="" class="img_ev3q"></p>
<p>åœ¨ Memory Bank ä¸­ï¼ŒCline æå€¡ä»¥ Mermaid å›¾è¡¨ä½œä¸º Promptï¼ŒCline å›¢é˜Ÿè®¤ä¸ºï¼š</p>
<blockquote>
<p>ä¸ AI äº¤æµçš„æœ€ä½³æ–¹å¼å¹¶éè‡ªç„¶è¯­è¨€â€”â€”è€Œæ˜¯å·¥ä½œæµçš„ç»“æ„åŒ–è¯­è¨€ã€‚</p>
</blockquote>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="æ€»ç»“">æ€»ç»“<a href="#æ€»ç»“" class="hash-link" aria-label="æ€»ç»“çš„ç›´æ¥é“¾æ¥" title="æ€»ç»“çš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<p>Cline çš„ Prompt éå¸¸æœ‰<strong>æ¨¡å—åŒ–</strong>çš„è®¾è®¡æ€æƒ³ã€‚Cline å°† Prompt åˆ’åˆ†ä¸º System Promptã€Commandã€Workflowã€Mentionã€Memery ç­‰æ¨¡å—ï¼ŒSystem Prompt åˆ™åˆ’åˆ†ä¸ºå·¥å…·ã€MCPã€ç›®æ ‡ã€Mode ç­‰æ¨¡å—ï¼Œé’ˆå¯¹å…¨å±€ã€ç‰¹å®šæˆ–è€…å…¨æ–°çš„ä»»åŠ¡ä½¿ç”¨ä¸åŒçš„ Prompt æ¥è§£å†³ã€‚</p>
<p>åŒæ—¶æˆ‘ä»¬ä¹Ÿå‘ç° Cline äº‹æ— å·¨ç»†ï¼Œéå¸¸â€œå•°å—¦â€ï¼Œæ¯”å¦‚ System Prompt å…³äºå·¥å…·è°ƒç”¨æ ¼å¼å°±å‡ºç°äº†å¥½å‡ æ¬¡ï¼›å°½å¯èƒ½å¤šçš„æä¾›ä¸Šä¸‹æ–‡ï¼Œè¿™è®© Cline éå¸¸çš„æ¶ˆè€— Tokenã€‚</p>
<p><img decoding="async" loading="lazy" src="https://fastly.jsdelivr.net/gh/bucketio/img17@main/2025/05/30/1748572666434-e20a0717-a388-47c9-8332-832423e6b337.png" alt="openrouter ç½‘ç«™çš„ç»Ÿè®¡ï¼ŒCline é¥é¥é¢†å…ˆ" class="img_ev3q"></p>
<p>å¦‚ä½•å†™å‡ºå¥½ç”¨çš„ Promptï¼Œä¸ªäººæ„Ÿè§‰ä¸»è¦æ˜¯ä¸¤ç‚¹ï¼š</p>
<ol>
<li>è¶³å¤Ÿçš„ä¸Šä¸‹æ–‡å’Œç¤ºä¾‹ï¼ˆèº«ä»½ã€ç›®æ ‡ã€å·¥å…·ã€ç¤ºä¾‹ç­‰ç­‰ï¼‰</li>
<li>è¶³å¤Ÿè¯¦ç»†å’Œæ˜ç¡®çš„æ‰§è¡Œæ­¥éª¤ï¼ˆWorkflowï¼‰</li>
</ol>
<p>æœ€åï¼Œå¯ä»¥æŸ¥çœ‹å®˜æ–¹æ–‡æ¡£<a href="https://docs.cline.bot/prompting/prompt-engineering-guide" target="_blank" rel="noopener noreferrer">æç¤ºè¯å·¥ç¨‹æŒ‡å—</a>è¿›ä¸€æ­¥äº†è§£å¦‚ä½•ä¸º Cline å†™å‡ºæ›´å¥½ç”¨çš„ Promptã€‚</p>
<hr>
<div align="center"><p>æ¬¢è¿å…³æ³¨æˆ‘çš„å…¬ä¼—å·ï¼šå‰ç«¯ç”Ÿå­˜æŒ‡å—ï¼Œä¸€èµ·èŠèŠå‰ç«¯ã€AI å’Œç”Ÿæ´»ã€‚</p><img src="https://cloud-minapp-47803.cloud.ifanrusercontent.com/1tvAM68Cvrx3bfLR.jpg" style="width:180px"></div></div><footer class="row docusaurus-mt-lg"><div class="col"><b>æ ‡ç­¾ï¼š</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/ai">AI</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/cline">Cline</a></li></ul></div></footer></article><article class="margin-bottom--xl"><header><h2 class="title_f1Hy"><a href="/blog/2025-06-10-cline-source-code-mcp.md">Cline æºç æµ…æ - MCP è°ƒç”¨</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2025-06-10T00:00:00.000Z">2025å¹´6æœˆ10æ—¥</time> Â· <!-- -->é˜…è¯»éœ€ 7 åˆ†é’Ÿ</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--12 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/sleepy-zone" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo authorImage_XqGP" src="https://avatars.githubusercontent.com/u/131369648?v=4" alt="SleepyZone"></a><div class="avatar__intro authorDetails_lV9A"><div class="avatar__name"><a href="https://github.com/sleepy-zone" target="_blank" rel="noopener noreferrer"><span class="authorName_yefp">SleepyZone</span></a></div><small class="authorTitle_nd0D" title="å‰ç«¯å¼€å‘ / å¼€æºçˆ±å¥½è€…">å‰ç«¯å¼€å‘ / å¼€æºçˆ±å¥½è€…</small><div class="authorSocials_rSDt"></div></div></div></div></div></header><div class="markdown"><p>ä¸Šä¸€ç¯‡æ–‡ç« <a href="https://mp.weixin.qq.com/s/9bJAeQ3U0_U85sDCcJSXxw" target="_blank" rel="noopener noreferrer">Cline æºç æµ…æ - ä»è¾“å…¥åˆ°è¾“å‡º</a>ï¼Œä»æºç è§’åº¦æµè§ˆäº†ä¸€ä¸‹ Cline å¤„ç†ç”¨æˆ·è¾“å…¥åˆ°æœ€åè¾“å‡ºçš„è¿‡ç¨‹ï¼Œæœ¬æ–‡çœ‹ä¸€ä¸‹å…¶ä¸­å…³äº MCP çš„å¤„ç†ã€‚</p>
<p><img decoding="async" loading="lazy" src="https://fastly.jsdelivr.net/gh/bucketio/img17@main/2025/06/06/1749176746221-f97aba25-6da5-461a-be21-369de1c44fff.png" alt="" class="img_ev3q"></p>
<blockquote>
<p>å…³äº MCPï¼Œå¯ä»¥æŸ¥çœ‹<a href="https://modelcontextprotocol.io/introduction" target="_blank" rel="noopener noreferrer">å®˜æ–¹æ–‡æ¡£</a></p>
</blockquote>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="cline-mcp">Cline MCP<a href="#cline-mcp" class="hash-link" aria-label="Cline MCPçš„ç›´æ¥é“¾æ¥" title="Cline MCPçš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="å¦‚ä½•é…ç½®-mcp-server">å¦‚ä½•é…ç½® MCP Server<a href="#å¦‚ä½•é…ç½®-mcp-server" class="hash-link" aria-label="å¦‚ä½•é…ç½® MCP Serverçš„ç›´æ¥é“¾æ¥" title="å¦‚ä½•é…ç½® MCP Serverçš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<p>æˆ‘ä»¬æ‰“å¼€ Cline çš„ MCP ç•Œé¢ï¼Œå¯ä»¥çœ‹åˆ° Cline æä¾›äº†å¤šç§é…ç½® MCP çš„æ–¹å¼ï¼š</p>
<p><img decoding="async" loading="lazy" src="https://fastly.jsdelivr.net/gh/bucketio/img14@main/2025/06/09/1749464726040-18f47f48-723f-41ee-9d7f-59d2f65144e5.png" alt="" class="img_ev3q"></p>
<p>æœ¬è´¨ä¸Šéƒ½æ˜¯å°† MCP é…ç½®å†™å…¥è®¾ç½®ç›®å½•ä¸‹çš„ <code>cline_mcp_settings.json</code> æ–‡ä»¶ï¼Œè¿™é‡Œæˆ‘ä»¬é…ç½®ä¸€ä¸ªæ ¹æ®å§“åæŸ¥è¯¢å·¥å·çš„ MCP Serverã€‚</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;mcpServers&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;name2empid&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;autoApprove&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;disabled&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">false</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;timeout&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">60</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;url&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;https://xxxx.com/xxx/sse&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;type&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;sse&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>å¦å¤– Cline è‡ªè¡Œç»´æŠ¤äº†ä¸€ä¸ª MCP å¸‚åœºï¼Œç”¨æˆ·å¯ä»¥ä»ä¸­é€‰æ‹©å®‰è£…ï¼ŒCline æä¾›äº†ä¸€ä¸ªæ¯”è¾ƒæœ‰æ„æ€çš„å®‰è£…æ–¹å¼ï¼Œå½“ä½ ç‚¹å‡» Install çš„æ—¶å€™ï¼Œä»–å¹¶ä¸æ˜¯ç®€å•çš„æŠŠé…ç½®å†™å…¥é…ç½®æ–‡ä»¶ï¼Œè€Œæ˜¯é€šè¿‡å¤§æ¨¡å‹æ¥è¿›è¡Œå®‰è£…ï¼ˆä»è®¿é—®æ–‡æ¡£åˆ°å®‰è£…åˆ°éªŒè¯ï¼‰ï¼Œä»£ç ä½äº <code>src/core/controller/mcp/downloadMcp.ts</code>ï¼Œæç¤ºè¯å¦‚ä¸‹ï¼š</p>
<div class="language-ts codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ts codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// Create task with context from README and added guidelines for MCP server installation</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> task </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token template-string string" style="color:#e3116c">Set up the MCP server from </span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">${</span><span class="token template-string interpolation">mcpDetails</span><span class="token template-string interpolation punctuation" style="color:#393A34">.</span><span class="token template-string interpolation">githubUrl</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">}</span><span class="token template-string string" style="color:#e3116c"> while adhering to these MCP server installation rules:</span><br></span><span class="token-line" style="color:#393A34"><span class="token template-string string" style="color:#e3116c">- Start by loading the MCP documentation.</span><br></span><span class="token-line" style="color:#393A34"><span class="token template-string string" style="color:#e3116c">- Use &quot;</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">${</span><span class="token template-string interpolation">mcpDetails</span><span class="token template-string interpolation punctuation" style="color:#393A34">.</span><span class="token template-string interpolation">mcpId</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">}</span><span class="token template-string string" style="color:#e3116c">&quot; as the server name in cline_mcp_settings.json.</span><br></span><span class="token-line" style="color:#393A34"><span class="token template-string string" style="color:#e3116c">- Create the directory for the new MCP server before starting installation.</span><br></span><span class="token-line" style="color:#393A34"><span class="token template-string string" style="color:#e3116c">- Make sure you read the user&#x27;s existing cline_mcp_settings.json file before editing it with this new mcp, to not overwrite any existing servers.</span><br></span><span class="token-line" style="color:#393A34"><span class="token template-string string" style="color:#e3116c">- Use commands aligned with the user&#x27;s shell and operating system best practices.</span><br></span><span class="token-line" style="color:#393A34"><span class="token template-string string" style="color:#e3116c">- The following README may contain instructions that conflict with the user&#x27;s OS, in which case proceed thoughtfully.</span><br></span><span class="token-line" style="color:#393A34"><span class="token template-string string" style="color:#e3116c">- Once installed, demonstrate the server&#x27;s capabilities by using one of its tools.</span><br></span><span class="token-line" style="color:#393A34"><span class="token template-string string" style="color:#e3116c">Here is the project&#x27;s README to help you get started:\n\n</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">${</span><span class="token template-string interpolation">mcpDetails</span><span class="token template-string interpolation punctuation" style="color:#393A34">.</span><span class="token template-string interpolation">readmeContent</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">}</span><span class="token template-string string" style="color:#e3116c">\n</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">${</span><span class="token template-string interpolation">mcpDetails</span><span class="token template-string interpolation punctuation" style="color:#393A34">.</span><span class="token template-string interpolation">llmsInstallationContent</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">}</span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="æºç é˜…è¯»">æºç é˜…è¯»<a href="#æºç é˜…è¯»" class="hash-link" aria-label="æºç é˜…è¯»çš„ç›´æ¥é“¾æ¥" title="æºç é˜…è¯»çš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<p>MCP é…ç½®ç›¸å…³çš„ä»£ç ä½äºï¼š<code>src/services/mcp/McpHub.ts</code>ï¼Œè¿™é‡Œæœ¬è´¨å°±æ˜¯ä¸€ä¸ª MCP Client åˆå§‹åŒ–çš„é€»è¾‘ï¼Œæ ¹æ®é…ç½®è¿æ¥ Server è·å– Toolã€‚</p>
<p>è¿æ¥çš„ Server çš„ä»£ç ä½äº <code>connectToServer</code>ï¼Œè°ƒç”¨ <code>@modelcontextprotocol/sdk/client</code> è¿™ä¸ªåŒ…åˆå§‹åŒ– Clientã€‚</p>
<div class="language-ts codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ts codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> client </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">Client</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    name</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Cline&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    version</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">clientVersion</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    capabilities</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// å¤„ç†ä¸åŒçš„ç±»å‹çš„ Server</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">transport </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">StdioClientTransport</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">transport </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">SSEClientTransport</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">transport </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">StreamableHTTPClientTransport</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">await</span><span class="token plain"> client</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">connect</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">transport</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>ç„¶åè·å– tool å’Œ resourceï¼š</p>
<div class="language-ts codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ts codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// Initial fetch of tools and resources</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">connection</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">server</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">tools </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">await</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">fetchToolsList</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">name</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">connection</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">server</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">resources </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">await</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">fetchResourcesList</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">name</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">connection</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">server</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">resourceTemplates </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">await</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">fetchResourceTemplatesList</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">name</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>MCP Client çš„å·¥ä½œåˆå§‹åŒ–å®Œæˆã€‚</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="mcp-çš„ä½¿ç”¨">MCP çš„ä½¿ç”¨<a href="#mcp-çš„ä½¿ç”¨" class="hash-link" aria-label="MCP çš„ä½¿ç”¨çš„ç›´æ¥é“¾æ¥" title="MCP çš„ä½¿ç”¨çš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<p>ä¸‹é¢çœ‹ä¸€ä¸‹æˆ‘ä»¬é…ç½®å¥½çš„ MCP Server æ˜¯å¦‚ä½•åœ¨æˆ‘ä»¬çš„ä»»åŠ¡ä¸­è¿ä½œçš„ã€‚</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="system-prompt">System Prompt<a href="#system-prompt" class="hash-link" aria-label="System Promptçš„ç›´æ¥é“¾æ¥" title="System Promptçš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<p><a href="https://mp.weixin.qq.com/s/9bJAeQ3U0_U85sDCcJSXxw" target="_blank" rel="noopener noreferrer">ä¸Šä¸€ç¯‡æ–‡ç« </a>æˆ‘ä»¬å¾—çŸ¥ï¼ŒSystem Prompt æ˜¯å®æ—¶æ‹¼æ¥çš„ï¼Œè¿™é‡ŒæŠŠ MCP Server ç›¸å…³çš„ Prompt è´´åœ¨è¿™é‡Œï¼š</p>
<div class="language-ts codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ts codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> systemPrompt </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token template-string string" style="color:#e3116c"></span><br></span><span class="token-line" style="color:#393A34"><span class="token template-string string" style="color:#e3116c">MCP SERVERS</span><br></span><span class="token-line" style="color:#393A34"><span class="token template-string string" style="display:inline-block;color:#e3116c"></span><br></span><span class="token-line" style="color:#393A34"><span class="token template-string string" style="color:#e3116c">The Model Context Protocol (MCP) enables communication between the system and locally running MCP servers that provide additional tools and resources to extend your capabilities.</span><br></span><span class="token-line" style="color:#393A34"><span class="token template-string string" style="display:inline-block;color:#e3116c"></span><br></span><span class="token-line" style="color:#393A34"><span class="token template-string string" style="color:#e3116c"># Connected MCP Servers</span><br></span><span class="token-line" style="color:#393A34"><span class="token template-string string" style="display:inline-block;color:#e3116c"></span><br></span><span class="token-line" style="color:#393A34"><span class="token template-string string" style="color:#e3116c">When a server is connected, you can use the server&#x27;s tools via the \`use_mcp_tool\` tool, and access the server&#x27;s resources via the \`access_mcp_resource\` tool.</span><br></span><span class="token-line" style="color:#393A34"><span class="token template-string string" style="display:inline-block;color:#e3116c"></span><br></span><span class="token-line" style="color:#393A34"><span class="token template-string string" style="color:#e3116c"></span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">${</span><span class="token template-string interpolation"></span><br></span><span class="token-line" style="color:#393A34"><span class="token template-string interpolation">	mcpHub</span><span class="token template-string interpolation punctuation" style="color:#393A34">.</span><span class="token template-string interpolation function" style="color:#d73a49">getServers</span><span class="token template-string interpolation punctuation" style="color:#393A34">(</span><span class="token template-string interpolation punctuation" style="color:#393A34">)</span><span class="token template-string interpolation punctuation" style="color:#393A34">.</span><span class="token template-string interpolation">length </span><span class="token template-string interpolation operator" style="color:#393A34">&gt;</span><span class="token template-string interpolation"> </span><span class="token template-string interpolation number" style="color:#36acaa">0</span><span class="token template-string interpolation"></span><br></span><span class="token-line" style="color:#393A34"><span class="token template-string interpolation">		</span><span class="token template-string interpolation operator" style="color:#393A34">?</span><span class="token template-string interpolation"> `$</span><span class="token template-string interpolation punctuation" style="color:#393A34">{</span><span class="token template-string interpolation">mcpHub</span><br></span><span class="token-line" style="color:#393A34"><span class="token template-string interpolation">				</span><span class="token template-string interpolation punctuation" style="color:#393A34">.</span><span class="token template-string interpolation function" style="color:#d73a49">getServers</span><span class="token template-string interpolation punctuation" style="color:#393A34">(</span><span class="token template-string interpolation punctuation" style="color:#393A34">)</span><span class="token template-string interpolation"></span><br></span><span class="token-line" style="color:#393A34"><span class="token template-string interpolation">				</span><span class="token template-string interpolation punctuation" style="color:#393A34">.</span><span class="token template-string interpolation function" style="color:#d73a49">filter</span><span class="token template-string interpolation punctuation" style="color:#393A34">(</span><span class="token template-string interpolation punctuation" style="color:#393A34">(</span><span class="token template-string interpolation">server</span><span class="token template-string interpolation punctuation" style="color:#393A34">)</span><span class="token template-string interpolation"> </span><span class="token template-string interpolation operator" style="color:#393A34">=&gt;</span><span class="token template-string interpolation"> server</span><span class="token template-string interpolation punctuation" style="color:#393A34">.</span><span class="token template-string interpolation">status </span><span class="token template-string interpolation operator" style="color:#393A34">===</span><span class="token template-string interpolation"> </span><span class="token template-string interpolation string" style="color:#e3116c">&quot;connected&quot;</span><span class="token template-string interpolation punctuation" style="color:#393A34">)</span><span class="token template-string interpolation"></span><br></span><span class="token-line" style="color:#393A34"><span class="token template-string interpolation">				</span><span class="token template-string interpolation punctuation" style="color:#393A34">.</span><span class="token template-string interpolation function" style="color:#d73a49">map</span><span class="token template-string interpolation punctuation" style="color:#393A34">(</span><span class="token template-string interpolation punctuation" style="color:#393A34">(</span><span class="token template-string interpolation">server</span><span class="token template-string interpolation punctuation" style="color:#393A34">)</span><span class="token template-string interpolation"> </span><span class="token template-string interpolation operator" style="color:#393A34">=&gt;</span><span class="token template-string interpolation"> </span><span class="token template-string interpolation punctuation" style="color:#393A34">{</span><span class="token template-string interpolation"></span><br></span><span class="token-line" style="color:#393A34"><span class="token template-string interpolation">					</span><span class="token template-string interpolation keyword" style="color:#00009f">const</span><span class="token template-string interpolation"> tools </span><span class="token template-string interpolation operator" style="color:#393A34">=</span><span class="token template-string interpolation"> server</span><span class="token template-string interpolation punctuation" style="color:#393A34">.</span><span class="token template-string interpolation">tools</span><br></span><span class="token-line" style="color:#393A34"><span class="token template-string interpolation">						</span><span class="token template-string interpolation operator" style="color:#393A34">?.</span><span class="token template-string interpolation function" style="color:#d73a49">map</span><span class="token template-string interpolation punctuation" style="color:#393A34">(</span><span class="token template-string interpolation punctuation" style="color:#393A34">(</span><span class="token template-string interpolation">tool</span><span class="token template-string interpolation punctuation" style="color:#393A34">)</span><span class="token template-string interpolation"> </span><span class="token template-string interpolation operator" style="color:#393A34">=&gt;</span><span class="token template-string interpolation"> </span><span class="token template-string interpolation punctuation" style="color:#393A34">{</span><span class="token template-string interpolation"></span><br></span><span class="token-line" style="color:#393A34"><span class="token template-string interpolation">							</span><span class="token template-string interpolation keyword" style="color:#00009f">const</span><span class="token template-string interpolation"> schemaStr </span><span class="token template-string interpolation operator" style="color:#393A34">=</span><span class="token template-string interpolation"> tool</span><span class="token template-string interpolation punctuation" style="color:#393A34">.</span><span class="token template-string interpolation">inputSchema</span><br></span><span class="token-line" style="color:#393A34"><span class="token template-string interpolation">								</span><span class="token template-string interpolation operator" style="color:#393A34">?</span><span class="token template-string interpolation"> </span><span class="token template-string interpolation template-string template-punctuation string" style="color:#e3116c">`</span><span class="token template-string interpolation template-string string" style="color:#e3116c">    Input Schema:</span><br></span><span class="token-line" style="color:#393A34"><span class="token template-string interpolation template-string string" style="color:#e3116c">    </span><span class="token template-string interpolation template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">${</span><span class="token template-string interpolation template-string interpolation constant" style="color:#36acaa">JSON</span><span class="token template-string interpolation template-string interpolation punctuation" style="color:#393A34">.</span><span class="token template-string interpolation template-string interpolation function" style="color:#d73a49">stringify</span><span class="token template-string interpolation template-string interpolation punctuation" style="color:#393A34">(</span><span class="token template-string interpolation template-string interpolation">tool</span><span class="token template-string interpolation template-string interpolation punctuation" style="color:#393A34">.</span><span class="token template-string interpolation template-string interpolation">inputSchema</span><span class="token template-string interpolation template-string interpolation punctuation" style="color:#393A34">,</span><span class="token template-string interpolation template-string interpolation"> </span><span class="token template-string interpolation template-string interpolation keyword" style="color:#00009f">null</span><span class="token template-string interpolation template-string interpolation punctuation" style="color:#393A34">,</span><span class="token template-string interpolation template-string interpolation"> </span><span class="token template-string interpolation template-string interpolation number" style="color:#36acaa">2</span><span class="token template-string interpolation template-string interpolation punctuation" style="color:#393A34">)</span><span class="token template-string interpolation template-string interpolation punctuation" style="color:#393A34">.</span><span class="token template-string interpolation template-string interpolation function" style="color:#d73a49">split</span><span class="token template-string interpolation template-string interpolation punctuation" style="color:#393A34">(</span><span class="token template-string interpolation template-string interpolation string" style="color:#e3116c">&quot;\n&quot;</span><span class="token template-string interpolation template-string interpolation punctuation" style="color:#393A34">)</span><span class="token template-string interpolation template-string interpolation punctuation" style="color:#393A34">.</span><span class="token template-string interpolation template-string interpolation function" style="color:#d73a49">join</span><span class="token template-string interpolation template-string interpolation punctuation" style="color:#393A34">(</span><span class="token template-string interpolation template-string interpolation string" style="color:#e3116c">&quot;\n    &quot;</span><span class="token template-string interpolation template-string interpolation punctuation" style="color:#393A34">)</span><span class="token template-string interpolation template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">}</span><span class="token template-string interpolation template-string template-punctuation string" style="color:#e3116c">`</span><span class="token template-string interpolation"></span><br></span><span class="token-line" style="color:#393A34"><span class="token template-string interpolation">								</span><span class="token template-string interpolation operator" style="color:#393A34">:</span><span class="token template-string interpolation"> </span><span class="token template-string interpolation string" style="color:#e3116c">&quot;&quot;</span><span class="token template-string interpolation"></span><br></span><span class="token-line" style="color:#393A34"><span class="token template-string interpolation" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token template-string interpolation">							</span><span class="token template-string interpolation keyword" style="color:#00009f">return</span><span class="token template-string interpolation"> </span><span class="token template-string interpolation template-string template-punctuation string" style="color:#e3116c">`</span><span class="token template-string interpolation template-string string" style="color:#e3116c">- </span><span class="token template-string interpolation template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">${</span><span class="token template-string interpolation template-string interpolation">tool</span><span class="token template-string interpolation template-string interpolation punctuation" style="color:#393A34">.</span><span class="token template-string interpolation template-string interpolation">name</span><span class="token template-string interpolation template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">}</span><span class="token template-string interpolation template-string string" style="color:#e3116c">: </span><span class="token template-string interpolation template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">${</span><span class="token template-string interpolation template-string interpolation">tool</span><span class="token template-string interpolation template-string interpolation punctuation" style="color:#393A34">.</span><span class="token template-string interpolation template-string interpolation">description</span><span class="token template-string interpolation template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">}</span><span class="token template-string interpolation template-string string" style="color:#e3116c">\n</span><span class="token template-string interpolation template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">${</span><span class="token template-string interpolation template-string interpolation">schemaStr</span><span class="token template-string interpolation template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">}</span><span class="token template-string interpolation template-string template-punctuation string" style="color:#e3116c">`</span><span class="token template-string interpolation"></span><br></span><span class="token-line" style="color:#393A34"><span class="token template-string interpolation">						</span><span class="token template-string interpolation punctuation" style="color:#393A34">}</span><span class="token template-string interpolation punctuation" style="color:#393A34">)</span><span class="token template-string interpolation"></span><br></span><span class="token-line" style="color:#393A34"><span class="token template-string interpolation">						</span><span class="token template-string interpolation punctuation" style="color:#393A34">.</span><span class="token template-string interpolation function" style="color:#d73a49">join</span><span class="token template-string interpolation punctuation" style="color:#393A34">(</span><span class="token template-string interpolation string" style="color:#e3116c">&quot;\n\n&quot;</span><span class="token template-string interpolation punctuation" style="color:#393A34">)</span><span class="token template-string interpolation"></span><br></span><span class="token-line" style="color:#393A34"><span class="token template-string interpolation" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token template-string interpolation">					</span><span class="token template-string interpolation keyword" style="color:#00009f">const</span><span class="token template-string interpolation"> templates </span><span class="token template-string interpolation operator" style="color:#393A34">=</span><span class="token template-string interpolation"> server</span><span class="token template-string interpolation punctuation" style="color:#393A34">.</span><span class="token template-string interpolation">resourceTemplates</span><br></span><span class="token-line" style="color:#393A34"><span class="token template-string interpolation">						</span><span class="token template-string interpolation operator" style="color:#393A34">?.</span><span class="token template-string interpolation function" style="color:#d73a49">map</span><span class="token template-string interpolation punctuation" style="color:#393A34">(</span><span class="token template-string interpolation punctuation" style="color:#393A34">(</span><span class="token template-string interpolation">template</span><span class="token template-string interpolation punctuation" style="color:#393A34">)</span><span class="token template-string interpolation"> </span><span class="token template-string interpolation operator" style="color:#393A34">=&gt;</span><span class="token template-string interpolation"> </span><span class="token template-string interpolation template-string template-punctuation string" style="color:#e3116c">`</span><span class="token template-string interpolation template-string string" style="color:#e3116c">- </span><span class="token template-string interpolation template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">${</span><span class="token template-string interpolation template-string interpolation">template</span><span class="token template-string interpolation template-string interpolation punctuation" style="color:#393A34">.</span><span class="token template-string interpolation template-string interpolation">uriTemplate</span><span class="token template-string interpolation template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">}</span><span class="token template-string interpolation template-string string" style="color:#e3116c"> (</span><span class="token template-string interpolation template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">${</span><span class="token template-string interpolation template-string interpolation">template</span><span class="token template-string interpolation template-string interpolation punctuation" style="color:#393A34">.</span><span class="token template-string interpolation template-string interpolation">name</span><span class="token template-string interpolation template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">}</span><span class="token template-string interpolation template-string string" style="color:#e3116c">): </span><span class="token template-string interpolation template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">${</span><span class="token template-string interpolation template-string interpolation">template</span><span class="token template-string interpolation template-string interpolation punctuation" style="color:#393A34">.</span><span class="token template-string interpolation template-string interpolation">description</span><span class="token template-string interpolation template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">}</span><span class="token template-string interpolation template-string template-punctuation string" style="color:#e3116c">`</span><span class="token template-string interpolation punctuation" style="color:#393A34">)</span><span class="token template-string interpolation"></span><br></span><span class="token-line" style="color:#393A34"><span class="token template-string interpolation">						</span><span class="token template-string interpolation punctuation" style="color:#393A34">.</span><span class="token template-string interpolation function" style="color:#d73a49">join</span><span class="token template-string interpolation punctuation" style="color:#393A34">(</span><span class="token template-string interpolation string" style="color:#e3116c">&quot;\n&quot;</span><span class="token template-string interpolation punctuation" style="color:#393A34">)</span><span class="token template-string interpolation"></span><br></span><span class="token-line" style="color:#393A34"><span class="token template-string interpolation" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token template-string interpolation">					</span><span class="token template-string interpolation keyword" style="color:#00009f">const</span><span class="token template-string interpolation"> resources </span><span class="token template-string interpolation operator" style="color:#393A34">=</span><span class="token template-string interpolation"> server</span><span class="token template-string interpolation punctuation" style="color:#393A34">.</span><span class="token template-string interpolation">resources</span><br></span><span class="token-line" style="color:#393A34"><span class="token template-string interpolation">						</span><span class="token template-string interpolation operator" style="color:#393A34">?.</span><span class="token template-string interpolation function" style="color:#d73a49">map</span><span class="token template-string interpolation punctuation" style="color:#393A34">(</span><span class="token template-string interpolation punctuation" style="color:#393A34">(</span><span class="token template-string interpolation">resource</span><span class="token template-string interpolation punctuation" style="color:#393A34">)</span><span class="token template-string interpolation"> </span><span class="token template-string interpolation operator" style="color:#393A34">=&gt;</span><span class="token template-string interpolation"> </span><span class="token template-string interpolation template-string template-punctuation string" style="color:#e3116c">`</span><span class="token template-string interpolation template-string string" style="color:#e3116c">- </span><span class="token template-string interpolation template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">${</span><span class="token template-string interpolation template-string interpolation">resource</span><span class="token template-string interpolation template-string interpolation punctuation" style="color:#393A34">.</span><span class="token template-string interpolation template-string interpolation">uri</span><span class="token template-string interpolation template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">}</span><span class="token template-string interpolation template-string string" style="color:#e3116c"> (</span><span class="token template-string interpolation template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">${</span><span class="token template-string interpolation template-string interpolation">resource</span><span class="token template-string interpolation template-string interpolation punctuation" style="color:#393A34">.</span><span class="token template-string interpolation template-string interpolation">name</span><span class="token template-string interpolation template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">}</span><span class="token template-string interpolation template-string string" style="color:#e3116c">): </span><span class="token template-string interpolation template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">${</span><span class="token template-string interpolation template-string interpolation">resource</span><span class="token template-string interpolation template-string interpolation punctuation" style="color:#393A34">.</span><span class="token template-string interpolation template-string interpolation">description</span><span class="token template-string interpolation template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">}</span><span class="token template-string interpolation template-string template-punctuation string" style="color:#e3116c">`</span><span class="token template-string interpolation punctuation" style="color:#393A34">)</span><span class="token template-string interpolation"></span><br></span><span class="token-line" style="color:#393A34"><span class="token template-string interpolation">						</span><span class="token template-string interpolation punctuation" style="color:#393A34">.</span><span class="token template-string interpolation function" style="color:#d73a49">join</span><span class="token template-string interpolation punctuation" style="color:#393A34">(</span><span class="token template-string interpolation string" style="color:#e3116c">&quot;\n&quot;</span><span class="token template-string interpolation punctuation" style="color:#393A34">)</span><span class="token template-string interpolation"></span><br></span><span class="token-line" style="color:#393A34"><span class="token template-string interpolation" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token template-string interpolation">					</span><span class="token template-string interpolation keyword" style="color:#00009f">const</span><span class="token template-string interpolation"> config </span><span class="token template-string interpolation operator" style="color:#393A34">=</span><span class="token template-string interpolation"> </span><span class="token template-string interpolation constant" style="color:#36acaa">JSON</span><span class="token template-string interpolation punctuation" style="color:#393A34">.</span><span class="token template-string interpolation function" style="color:#d73a49">parse</span><span class="token template-string interpolation punctuation" style="color:#393A34">(</span><span class="token template-string interpolation">server</span><span class="token template-string interpolation punctuation" style="color:#393A34">.</span><span class="token template-string interpolation">config</span><span class="token template-string interpolation punctuation" style="color:#393A34">)</span><span class="token template-string interpolation"></span><br></span><span class="token-line" style="color:#393A34"><span class="token template-string interpolation" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token template-string interpolation">					</span><span class="token template-string interpolation keyword" style="color:#00009f">return</span><span class="token template-string interpolation"> </span><span class="token template-string interpolation punctuation" style="color:#393A34">(</span><span class="token template-string interpolation"></span><br></span><span class="token-line" style="color:#393A34"><span class="token template-string interpolation">						</span><span class="token template-string interpolation template-string template-punctuation string" style="color:#e3116c">`</span><span class="token template-string interpolation template-string string" style="color:#e3116c">## </span><span class="token template-string interpolation template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">${</span><span class="token template-string interpolation template-string interpolation">server</span><span class="token template-string interpolation template-string interpolation punctuation" style="color:#393A34">.</span><span class="token template-string interpolation template-string interpolation">name</span><span class="token template-string interpolation template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">}</span><span class="token template-string interpolation template-string string" style="color:#e3116c"> (\`</span><span class="token template-string interpolation template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">${</span><span class="token template-string interpolation template-string interpolation">config</span><span class="token template-string interpolation template-string interpolation punctuation" style="color:#393A34">.</span><span class="token template-string interpolation template-string interpolation">command</span><span class="token template-string interpolation template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">}</span><span class="token template-string interpolation template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">${</span><span class="token template-string interpolation template-string interpolation">config</span><span class="token template-string interpolation template-string interpolation punctuation" style="color:#393A34">.</span><span class="token template-string interpolation template-string interpolation">args </span><span class="token template-string interpolation template-string interpolation operator" style="color:#393A34">&amp;&amp;</span><span class="token template-string interpolation template-string interpolation"> </span><span class="token template-string interpolation template-string interpolation builtin">Array</span><span class="token template-string interpolation template-string interpolation punctuation" style="color:#393A34">.</span><span class="token template-string interpolation template-string interpolation function" style="color:#d73a49">isArray</span><span class="token template-string interpolation template-string interpolation punctuation" style="color:#393A34">(</span><span class="token template-string interpolation template-string interpolation">config</span><span class="token template-string interpolation template-string interpolation punctuation" style="color:#393A34">.</span><span class="token template-string interpolation template-string interpolation">args</span><span class="token template-string interpolation template-string interpolation punctuation" style="color:#393A34">)</span><span class="token template-string interpolation template-string interpolation"> </span><span class="token template-string interpolation template-string interpolation operator" style="color:#393A34">?</span><span class="token template-string interpolation template-string interpolation"> </span><span class="token template-string interpolation template-string interpolation template-string template-punctuation string" style="color:#e3116c">`</span><span class="token template-string interpolation template-string interpolation template-string string" style="color:#e3116c"> </span><span class="token template-string interpolation template-string interpolation template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">${</span><span class="token template-string interpolation template-string interpolation template-string interpolation">config</span><span class="token template-string interpolation template-string interpolation template-string interpolation punctuation" style="color:#393A34">.</span><span class="token template-string interpolation template-string interpolation template-string interpolation">args</span><span class="token template-string interpolation template-string interpolation template-string interpolation punctuation" style="color:#393A34">.</span><span class="token template-string interpolation template-string interpolation template-string interpolation function" style="color:#d73a49">join</span><span class="token template-string interpolation template-string interpolation template-string interpolation punctuation" style="color:#393A34">(</span><span class="token template-string interpolation template-string interpolation template-string interpolation string" style="color:#e3116c">&quot; &quot;</span><span class="token template-string interpolation template-string interpolation template-string interpolation punctuation" style="color:#393A34">)</span><span class="token template-string interpolation template-string interpolation template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">}</span><span class="token template-string interpolation template-string interpolation template-string template-punctuation string" style="color:#e3116c">`</span><span class="token template-string interpolation template-string interpolation"> </span><span class="token template-string interpolation template-string interpolation operator" style="color:#393A34">:</span><span class="token template-string interpolation template-string interpolation"> </span><span class="token template-string interpolation template-string interpolation string" style="color:#e3116c">&quot;&quot;</span><span class="token template-string interpolation template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">}</span><span class="token template-string interpolation template-string string" style="color:#e3116c">\`)</span><span class="token template-string interpolation template-string template-punctuation string" style="color:#e3116c">`</span><span class="token template-string interpolation"> </span><span class="token template-string interpolation operator" style="color:#393A34">+</span><span class="token template-string interpolation"></span><br></span><span class="token-line" style="color:#393A34"><span class="token template-string interpolation">						</span><span class="token template-string interpolation punctuation" style="color:#393A34">(</span><span class="token template-string interpolation">tools </span><span class="token template-string interpolation operator" style="color:#393A34">?</span><span class="token template-string interpolation"> </span><span class="token template-string interpolation template-string template-punctuation string" style="color:#e3116c">`</span><span class="token template-string interpolation template-string string" style="color:#e3116c">\n\n### Available Tools\n</span><span class="token template-string interpolation template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">${</span><span class="token template-string interpolation template-string interpolation">tools</span><span class="token template-string interpolation template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">}</span><span class="token template-string interpolation template-string template-punctuation string" style="color:#e3116c">`</span><span class="token template-string interpolation"> </span><span class="token template-string interpolation operator" style="color:#393A34">:</span><span class="token template-string interpolation"> </span><span class="token template-string interpolation string" style="color:#e3116c">&quot;&quot;</span><span class="token template-string interpolation punctuation" style="color:#393A34">)</span><span class="token template-string interpolation"> </span><span class="token template-string interpolation operator" style="color:#393A34">+</span><span class="token template-string interpolation"></span><br></span><span class="token-line" style="color:#393A34"><span class="token template-string interpolation">						</span><span class="token template-string interpolation punctuation" style="color:#393A34">(</span><span class="token template-string interpolation">templates </span><span class="token template-string interpolation operator" style="color:#393A34">?</span><span class="token template-string interpolation"> </span><span class="token template-string interpolation template-string template-punctuation string" style="color:#e3116c">`</span><span class="token template-string interpolation template-string string" style="color:#e3116c">\n\n### Resource Templates\n</span><span class="token template-string interpolation template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">${</span><span class="token template-string interpolation template-string interpolation">templates</span><span class="token template-string interpolation template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">}</span><span class="token template-string interpolation template-string template-punctuation string" style="color:#e3116c">`</span><span class="token template-string interpolation"> </span><span class="token template-string interpolation operator" style="color:#393A34">:</span><span class="token template-string interpolation"> </span><span class="token template-string interpolation string" style="color:#e3116c">&quot;&quot;</span><span class="token template-string interpolation punctuation" style="color:#393A34">)</span><span class="token template-string interpolation"> </span><span class="token template-string interpolation operator" style="color:#393A34">+</span><span class="token template-string interpolation"></span><br></span><span class="token-line" style="color:#393A34"><span class="token template-string interpolation">						</span><span class="token template-string interpolation punctuation" style="color:#393A34">(</span><span class="token template-string interpolation">resources </span><span class="token template-string interpolation operator" style="color:#393A34">?</span><span class="token template-string interpolation"> </span><span class="token template-string interpolation template-string template-punctuation string" style="color:#e3116c">`</span><span class="token template-string interpolation template-string string" style="color:#e3116c">\n\n### Direct Resources\n</span><span class="token template-string interpolation template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">${</span><span class="token template-string interpolation template-string interpolation">resources</span><span class="token template-string interpolation template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">}</span><span class="token template-string interpolation template-string template-punctuation string" style="color:#e3116c">`</span><span class="token template-string interpolation"> </span><span class="token template-string interpolation operator" style="color:#393A34">:</span><span class="token template-string interpolation"> </span><span class="token template-string interpolation string" style="color:#e3116c">&quot;&quot;</span><span class="token template-string interpolation punctuation" style="color:#393A34">)</span><span class="token template-string interpolation"></span><br></span><span class="token-line" style="color:#393A34"><span class="token template-string interpolation">					</span><span class="token template-string interpolation punctuation" style="color:#393A34">)</span><span class="token template-string interpolation"></span><br></span><span class="token-line" style="color:#393A34"><span class="token template-string interpolation">				</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">}</span><span class="token template-string string" style="color:#e3116c">)</span><br></span><span class="token-line" style="color:#393A34"><span class="token template-string string" style="color:#e3116c">				.join(&quot;\n\n&quot;)}</span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">		</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;(No MCP servers currently connected)&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain">`</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>MCP Server çš„ç›¸å…³æç¤ºè¯åœ¨ System Prompt  Tool Use Guidelines éƒ¨åˆ†ï¼Œé€šè¿‡éå† McpHub å†…æ‰€æœ‰ serverï¼Œå°† server å†…çš„ tool æ ¼å¼åŒ–çš„æ‹¼æ¥åˆ° Prompt ä¸­ã€‚å¤§è‡´æ ¼å¼ä¸ºï¼š</p>
<div class="language-markdown codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-markdown codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token title important punctuation" style="color:#393A34">##</span><span class="token title important"> name2empid(node xxx.ts)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token title important punctuation" style="color:#393A34">###</span><span class="token title important"> Available Tools</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token list punctuation" style="color:#393A34">-</span><span class="token plain"> get_empid_by_name: æ ¹æ®å‘˜å·¥å§“åæŸ¥è¯¢å·¥å·</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    	Input Schema: {&quot;name&quot;: &quot;string&quot;}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>åŒæ—¶è¿˜æä¾›ç»™æ¨¡å‹ä¸€ä¸ªè°ƒç”¨ MCP Server Tool çš„ç¤ºä¾‹ï¼š</p>
<div class="language-markdown codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-markdown codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token title important punctuation" style="color:#393A34">##</span><span class="token title important"> Example 5: Requesting to use an MCP tool</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">use_mcp_tool</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">server_name</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">weather-server</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">server_name</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">tool_name</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">get_forecast</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">tool_name</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">arguments</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;city&quot;: &quot;San Francisco&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;days&quot;: 5</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">arguments</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">use_mcp_tool</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>æ¶‰åŠåˆ° MCP è°ƒç”¨ç»Ÿä¸€ä½¿ç”¨ <code>use_mcp_tool</code> å·¥å…·ï¼Œç„¶åå†æŒ‡å®šæ˜¯å“ªä¸ª MCP å·¥å…·ã€‚</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="æ¨¡å‹è°ƒç”¨">æ¨¡å‹è°ƒç”¨<a href="#æ¨¡å‹è°ƒç”¨" class="hash-link" aria-label="æ¨¡å‹è°ƒç”¨çš„ç›´æ¥é“¾æ¥" title="æ¨¡å‹è°ƒç”¨çš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<p>æ¯”å¦‚æˆ‘ä»¬é—®â€œæŸ¥è¯¢å¼ ä¸‰çš„å·¥å·â€ï¼Œæ¨¡å‹è¾“å‡ºç±»ä¼¼ä¸‹é¢è¿™æ ·ï¼š</p>
<div class="language-markdown codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-markdown codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">thinking</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">æˆ‘éœ€è¦æŸ¥è¯¢&quot;å¼ ä¸‰&quot;çš„å·¥å·ã€‚æ ¹æ®ä»»åŠ¡æè¿°ï¼Œæˆ‘éœ€è¦ä½¿ç”¨name2empid MCPæœåŠ¡å™¨æä¾›çš„å·¥å…·æ¥è·å–å‘˜å·¥çš„å·¥å·ã€‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">æˆ‘å¯ä»¥ä½¿ç”¨</span><span class="token code-snippet code keyword" style="color:#00009f">`use_mcp_tool`</span><span class="token plain">å·¥å…·æ¥è°ƒç”¨name2empidæœåŠ¡å™¨çš„</span><span class="token code-snippet code keyword" style="color:#00009f">`get_empid_by_name`</span><span class="token plain">å·¥å…·ï¼Œè¯¥å·¥å…·å¯ä»¥æ ¹æ®å‘˜å·¥å§“åè·å–å·¥å·ã€‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">éœ€è¦çš„å‚æ•°æ˜¯:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token list punctuation" style="color:#393A34">-</span><span class="token plain"> server_name: &quot;name2empid&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token list punctuation" style="color:#393A34">-</span><span class="token plain"> tool_name: &quot;get_empid_by_name&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token list punctuation" style="color:#393A34">-</span><span class="token plain"> arguments: åŒ…å«å‘˜å·¥å§“åçš„JSONå¯¹è±¡</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">æˆ‘å·²ç»æœ‰äº†æ‰€æœ‰å¿…è¦çš„ä¿¡æ¯ï¼Œå¯ä»¥ç›´æ¥è°ƒç”¨è¿™ä¸ªå·¥å…·ã€‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">thinking</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">use_mcp_tool</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">server_name</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">name2empid</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">server_name</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">tool_name</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">get_empid_by_name</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">tool_name</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">arguments</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;name&quot;: &quot;å¼ ä¸‰&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">arguments</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">use_mcp_tool</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>ç»è¿‡ <code>parseAssistantMessageV2</code> å’Œ <code>presentAssistantMessage</code>  ä¸¤ä¸ªæ–¹æ³•ï¼Œä¼šä»æ¨¡å‹è¾“å‡ºä¸­è§£æå‡ºä½¿ç”¨çš„ MCP Tool ä»¥åŠå‚æ•°ï¼Œå’Œå†…ç½®çš„ Tool é€»è¾‘åŸºæœ¬ç±»ä¼¼ã€‚</p>
<div class="language-ts codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ts codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">name </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;use_mcp_tool&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">params </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">server_name</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;name2empid&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> tool_name</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;get_empid_by_name&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> arguments</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;{\n  &quot;name&quot;: &quot;å¼ ä¸‰&quot;\n}&#x27;</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">arguments </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;{\n  &quot;name&quot;: &quot;å¼ ä¸‰&quot;\n}&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">server_name </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;name2empid&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">tool_name </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;get_empid_by_name&#x27;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>æ­¤æ—¶ï¼ŒCline ä¼šæ‰§è¡Œ McpHub å†…çš„ <code>callTool</code> æ–¹æ³•è·å–ç»“æœï¼Œåé¢å†å°†ç»“æœäº¤ç»™æ¨¡å‹ï¼Œå¾—åˆ°æœ€ç»ˆè¾“å‡ºï¼Œè‡ªæ­¤ä»»åŠ¡ç»“æŸã€‚</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="æ€»ç»“">æ€»ç»“<a href="#æ€»ç»“" class="hash-link" aria-label="æ€»ç»“çš„ç›´æ¥é“¾æ¥" title="æ€»ç»“çš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<p>å¦‚æœè§‰å¾— Cline æº  ç å¤ªå¤æ‚ï¼Œå¯ä»¥ç›´æ¥çœ‹ <a href="https://modelcontextprotocol.io/quickstart/client#node" target="_blank" rel="noopener noreferrer">MCP å®˜æ–¹çš„ Client DEMO</a>ï¼Œæ¯”è¾ƒæ¸…æ™°ã€‚</p>
<p>MCP å¤§å¤§æ‰©å±•äº†æ¨¡å‹èƒ½åŠ›ï¼Œå¯ä»¥åœ¨è®©æ¨¡å‹å‘æŒ¥æ›´å¥½çš„ä»·å€¼ã€‚Cline åœ¨ MCP çš„ç®¡ç†å’Œè°ƒç”¨ä¸Šè®¾è®¡çš„éƒ½å¾ˆå·§å¦™ï¼Œå°¤å…¶æ˜¯ System Promptï¼Œä¸‹ä¸€ç¯‡æ–‡ç« æˆ‘ä»¬å°†æ¢è®¨ä¸€ä¸‹ Cline çš„ Prompt è®¾è®¡ã€‚</p>
<hr>
<div align="center"><p>æ¬¢è¿å…³æ³¨æˆ‘çš„å…¬ä¼—å·ï¼šå‰ç«¯ç”Ÿå­˜æŒ‡å—ï¼Œä¸€èµ·èŠèŠå‰ç«¯ã€AI å’Œç”Ÿæ´»ã€‚</p><img src="https://cloud-minapp-47803.cloud.ifanrusercontent.com/1tvAM68Cvrx3bfLR.jpg" style="width:180px"></div></div><footer class="row docusaurus-mt-lg"><div class="col"><b>æ ‡ç­¾ï¼š</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/ai">AI</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/cline">Cline</a></li></ul></div></footer></article><article class="margin-bottom--xl"><header><h2 class="title_f1Hy"><a href="/blog/2025-06-07-cline-source-code-1.md">Cline æºç æµ…æ - ä»è¾“å…¥åˆ°è¾“å‡º</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2025-06-07T00:00:00.000Z">2025å¹´6æœˆ7æ—¥</time> Â· <!-- -->é˜…è¯»éœ€ 14 åˆ†é’Ÿ</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--12 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/sleepy-zone" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo authorImage_XqGP" src="https://avatars.githubusercontent.com/u/131369648?v=4" alt="SleepyZone"></a><div class="avatar__intro authorDetails_lV9A"><div class="avatar__name"><a href="https://github.com/sleepy-zone" target="_blank" rel="noopener noreferrer"><span class="authorName_yefp">SleepyZone</span></a></div><small class="authorTitle_nd0D" title="å‰ç«¯å¼€å‘ / å¼€æºçˆ±å¥½è€…">å‰ç«¯å¼€å‘ / å¼€æºçˆ±å¥½è€…</small><div class="authorSocials_rSDt"></div></div></div></div></div></header><div class="markdown"><p><img decoding="async" loading="lazy" src="https://fastly.jsdelivr.net/gh/bucketio/img17@main/2025/06/06/1749176746221-f97aba25-6da5-461a-be21-369de1c44fff.png" alt="" class="img_ev3q"></p>
<p>æˆ‘ä»¬åœ¨ä¸Šä¸€ç¯‡æ–‡ç« ï¼š<a href="https://mp.weixin.qq.com/s/EkGEk3UrZvxIH2VV0DWdLA" target="_blank" rel="noopener noreferrer">ç°åœ¨å¼€å§‹ä½¿ç”¨ Cline Rules</a> é‡Œç®€å•ä»‹ç»è¿‡ Clineï¼Œæœ¬ç¯‡æ–‡ç« ä»æºç è§’åº¦æ¥çœ‹ä¸€ä¸‹ä»æˆ‘ä»¬è¾“å…¥æŒ‡ä»¤åˆ° Cline è¾“å‡ºçš„è¿‡ç¨‹åˆ°åº•æ˜¯æ€æ ·çš„ï¼Œè¿™æ ·å¯¹æˆ‘ä»¬åç»­ä½¿ç”¨ Cline ä¼šæœ‰æ›´å¥½çš„å¸®åŠ©ã€‚</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="å¯åŠ¨-cline">å¯åŠ¨ Cline<a href="#å¯åŠ¨-cline" class="hash-link" aria-label="å¯åŠ¨ Clineçš„ç›´æ¥é“¾æ¥" title="å¯åŠ¨ Clineçš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<p>è®¿é—® Cline çš„ Github ä»“åº“ READMEï¼š<a href="https://github.com/cline/cline?tab=readme-ov-file#contributing%EF%BC%9A" target="_blank" rel="noopener noreferrer">https://github.com/cline/cline?tab=readme-ov-file#contributingï¼š</a></p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">git clone https://github.com/cline/cline.git</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">code cline</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">npm run install:all</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>åœ¨ VSCode é‡Œ <code>F5</code> æˆ–è€… <code>Run-&gt;Start Debugging</code> å¼€å§‹è°ƒè¯• Cline VSCode æ’ä»¶ã€‚æ­¤æ—¶ä¼šæ–°å¼€ä¸€ä¸ª VSCode çª—å£ï¼Œè¿™ä¸ªçª—å£é‡Œæˆ‘ä»¬å¯ä»¥æ„‰å¿«çš„è°ƒè¯• VSCodeã€‚</p>
<blockquote>
<p>è¿™é‡Œå¯èƒ½é‡åˆ°ä¸€äº›é—®é¢˜ï¼Œä¸€ä¸ªæ˜¯ä»“åº“é‡Œæåˆ°çš„ï¼Œå¦‚æœæ„å»ºæœ‰é—®é¢˜ï¼Œéœ€è¦å®‰è£… <a href="https://marketplace.visualstudio.com/items?itemName=connor4312.esbuild-problem-matchers" target="_blank" rel="noopener noreferrer">esbuild Problem Matchersæ’ä»¶</a>ï¼›å¦å¤–é¡¹ç›®çš„ Webview é‡Œéœ€è¦å®‰è£… electron è¿™ä¸ªå·¨æ— éœ¸ï¼Œå¯èƒ½ä¼šå¾ˆæ…¢ï¼Œå¯ä»¥è®¾ç½®ä¸ºå›½å†…æºï¼š</p>
</blockquote>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">electron_mirror=https</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">//npmmirror.com/mirrors/electron/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">electron_builder_binaries_mirror=https</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">//npmmirror.com/mirrors/electron</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">builder</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">binaries/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">shamefully</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">hoist=true</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="step-by-step-debug">Step by Step Debug<a href="#step-by-step-debug" class="hash-link" aria-label="Step by Step Debugçš„ç›´æ¥é“¾æ¥" title="Step by Step Debugçš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<p>VSCode å¯¹è‡ªå®¶æ’ä»¶çš„è°ƒè¯•åšçš„éå¸¸å¥½ï¼Œä¸ç®¡æ˜¯ VSCode ä¸»è¿›ç¨‹è¿˜æ˜¯ Webview å†…å®¹ï¼Œä¸‹é¢å°±ä¸€æ­¥ä¸€æ­¥çš„å¼€å§‹è°ƒè¯•ã€‚</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="å‰ç«¯è¾“å…¥">å‰ç«¯è¾“å…¥<a href="#å‰ç«¯è¾“å…¥" class="hash-link" aria-label="å‰ç«¯è¾“å…¥çš„ç›´æ¥é“¾æ¥" title="å‰ç«¯è¾“å…¥çš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<p>æˆ‘ä»¬å‡†å¤‡ä¸€æ®µç®€å•çš„è¾“å…¥ï¼šåˆ›å»ºä¸€ä¸ªæ–°ä»»åŠ¡ï¼Œå®ç°å¿«é€Ÿæ’åºç®—æ³•ï¼Œå¹¶æ’å…¥åˆ° utils æ–‡ä»¶å†…ã€‚</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">/newtask å®ç°å¿«é€Ÿæ’åºç®—æ³•ï¼Œå†™å…¥ @/src/utils/index.ts æ–‡ä»¶</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<blockquote>
<p>è¿™é‡Œä½¿ç”¨äº† Cline çš„å†…ç½®çš„ä¸¤ä¸ªåŠŸèƒ½ï¼šå†…ç½®å‘½ä»¤ Command /newtask ä»¥åŠ mention @ åŠŸèƒ½æŒ‡å®šäº†å†™å…¥çš„æ–‡ä»¶ã€‚Command å¯ä»¥ç†è§£ä¸ºæŒ‡å®šç‰¹å®šä»»åŠ¡çš„ promptsï¼Œæ–¹ä¾¿æ‰§è¡Œä¸€äº›é«˜é¢‘æ“ä½œçš„ä»»åŠ¡ï¼ŒCline å†…ç½®äº†è¯¸å¦‚æ–°å»ºä»»åŠ¡ã€åˆ›å»º Ruleã€åˆ›å»º Github Issue ç­‰ Commandã€‚@ åŠŸèƒ½å¯ä»¥æŒ‡å®šæ¨¡å‹ç‰¹åˆ«å…³æ³¨çš„ä¸Šä¸‹æ–‡ï¼Œæ¯”å¦‚æŒ‡å®šçš„æ–‡ä»¶å†…å®¹ï¼ŒæŒ‡å®šçš„ç›®å½•å†…å®¹ã€‚</p>
</blockquote>
<p>è¾“å…¥æ¡†å†…è¾“å…¥ä¸Šè¿°å†…å®¹ï¼Œç‚¹å‡»å‘é€ï¼Œä»£ç æ–‡ä»¶ï¼š<code>webview-ui/src/components/chat/ChatView.tsx</code>ï¼Œå‘é€æ¶ˆæ¯çš„æ–¹æ³•ä¸º <code>handleSendMessage</code>ï¼ŒWebview å†…åªè´Ÿè´£æ”¶é›†è¾“å…¥ä¿¡æ¯ï¼Œå®é™…ä»»åŠ¡å¤„ç†çš„é€»è¾‘éƒ½ä¼šå‘é€è‡³ VSCode çš„ä¸»è¿›ç¨‹å†…ï¼ŒVSCode ä¸»è¿›ç¨‹å¤„ç†è¿‡ç¨‹ä¸­ï¼Œä¼šå®æ—¶çš„å‘é€æ¶ˆæ¯å› Webviewã€‚</p>
<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// æ–‡ä»¶ä½ç½® webview-ui/src/services/grpc-client-base.ts</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">window</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">addEventListener</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;message&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> handleResponse</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// Send the request</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> encodedRequest </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">encodeRequest</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">request</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">vscode</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">postMessage</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  type</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;grpc_request&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  grpc_request</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    service</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> service</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">fullName</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    method</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> method</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">name</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// method ä¸º newTask</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    message</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> encodedRequest</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// message ä¸ºè¾“å…¥çš„æ–‡æœ¬ã€å›¾ç‰‡ã€æ–‡ä»¶æ¶ˆæ¯ç­‰</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    request_id</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> requestId</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    is_streaming</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">false</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>message çš„æ ¼å¼ï¼š</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">files =(0) []</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">images =(0) []</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">text =&#x27;/newtask åˆ›å»ºä¸€ä¸ªå¿«é€Ÿæ’åºç®—æ³•ï¼Œå†™å…¥ @/src/utils/index.ts æ–‡ä»¶&#x27;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>VSCode ä¸»è¿›ç¨‹æ¥æ”¶ <code>grpc_request</code> æ¶ˆæ¯è¿›è¡Œå¤„ç†ã€‚</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="vscode-ä¸»è¿›ç¨‹æ¥æ”¶æ¶ˆæ¯">VSCode ä¸»è¿›ç¨‹æ¥æ”¶æ¶ˆæ¯<a href="#vscode-ä¸»è¿›ç¨‹æ¥æ”¶æ¶ˆæ¯" class="hash-link" aria-label="VSCode ä¸»è¿›ç¨‹æ¥æ”¶æ¶ˆæ¯çš„ç›´æ¥é“¾æ¥" title="VSCode ä¸»è¿›ç¨‹æ¥æ”¶æ¶ˆæ¯çš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<p>ä¸»è¿›ç¨‹å¤„ç†çš„å†…å®¹ä½äºï¼š<code>src/core/controller/grpc-handler.ts</code>ï¼š</p>
<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token doc-comment comment" style="color:#999988;font-style:italic">/**</span><br></span><span class="token-line" style="color:#393A34"><span class="token doc-comment comment" style="color:#999988;font-style:italic">	 * Handle a gRPC request from the webview</span><br></span><span class="token-line" style="color:#393A34"><span class="token doc-comment comment" style="color:#999988;font-style:italic">	 * </span><span class="token doc-comment comment keyword" style="color:#00009f;font-style:italic">@param</span><span class="token doc-comment comment" style="color:#999988;font-style:italic"> </span><span class="token doc-comment comment parameter" style="color:#999988;font-style:italic">service</span><span class="token doc-comment comment" style="color:#999988;font-style:italic"> The service name</span><br></span><span class="token-line" style="color:#393A34"><span class="token doc-comment comment" style="color:#999988;font-style:italic">	 * </span><span class="token doc-comment comment keyword" style="color:#00009f;font-style:italic">@param</span><span class="token doc-comment comment" style="color:#999988;font-style:italic"> </span><span class="token doc-comment comment parameter" style="color:#999988;font-style:italic">method</span><span class="token doc-comment comment" style="color:#999988;font-style:italic"> The method name</span><br></span><span class="token-line" style="color:#393A34"><span class="token doc-comment comment" style="color:#999988;font-style:italic">	 * </span><span class="token doc-comment comment keyword" style="color:#00009f;font-style:italic">@param</span><span class="token doc-comment comment" style="color:#999988;font-style:italic"> </span><span class="token doc-comment comment parameter" style="color:#999988;font-style:italic">message</span><span class="token doc-comment comment" style="color:#999988;font-style:italic"> The request message</span><br></span><span class="token-line" style="color:#393A34"><span class="token doc-comment comment" style="color:#999988;font-style:italic">	 * </span><span class="token doc-comment comment keyword" style="color:#00009f;font-style:italic">@param</span><span class="token doc-comment comment" style="color:#999988;font-style:italic"> </span><span class="token doc-comment comment parameter" style="color:#999988;font-style:italic">requestId</span><span class="token doc-comment comment" style="color:#999988;font-style:italic"> The request ID for response correlation</span><br></span><span class="token-line" style="color:#393A34"><span class="token doc-comment comment" style="color:#999988;font-style:italic">	 * </span><span class="token doc-comment comment keyword" style="color:#00009f;font-style:italic">@param</span><span class="token doc-comment comment" style="color:#999988;font-style:italic"> </span><span class="token doc-comment comment parameter" style="color:#999988;font-style:italic">isStreaming</span><span class="token doc-comment comment" style="color:#999988;font-style:italic"> Whether this is a streaming request</span><br></span><span class="token-line" style="color:#393A34"><span class="token doc-comment comment" style="color:#999988;font-style:italic">	 * </span><span class="token doc-comment comment keyword" style="color:#00009f;font-style:italic">@returns</span><span class="token doc-comment comment" style="color:#999988;font-style:italic"> The response message or error for unary requests, void for streaming requests</span><br></span><span class="token-line" style="color:#393A34"><span class="token doc-comment comment" style="color:#999988;font-style:italic">	 */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token keyword" style="color:#00009f">async</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">handleRequest</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">		service</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">string</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">		method</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">string</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">		message</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">any</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">		requestId</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">string</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">		isStreaming</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">boolean</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">false</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token punctuation" style="color:#393A34">)</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">Promise</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">		message</span><span class="token operator" style="color:#393A34">?</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">any</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">		error</span><span class="token operator" style="color:#393A34">?</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">string</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">		request_id</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">string</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">void</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>å¯ä»¥çœ‹åˆ°ï¼Œå‚æ•°å’Œ Webview ä¼ è¿‡æ¥çš„ä¸€è‡´ã€‚</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="ä»»åŠ¡åˆå§‹åŒ–">ä»»åŠ¡åˆå§‹åŒ–<a href="#ä»»åŠ¡åˆå§‹åŒ–" class="hash-link" aria-label="ä»»åŠ¡åˆå§‹åŒ–çš„ç›´æ¥é“¾æ¥" title="ä»»åŠ¡åˆå§‹åŒ–çš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<p>ç»è¿‡å„ç§å°è£…ï¼Œæœ€ç»ˆå¤„ç†çš„ä»»åŠ¡è½åˆ°äº† <code>src/core/controller/index.ts</code> çš„ <code>initTask</code> æ–¹æ³•å†…ä¸€ä¸ªè¶…çº§å¤§çš„ Task ç±»çš„åˆå§‹åŒ–ï¼š</p>
<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">task </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">Task</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">context</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">mcpHub</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">workspaceTracker</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">historyItem</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">updateTaskHistory</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">historyItem</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">postStateToWebview</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">message</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">postMessageToWebview</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">message</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">taskId</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">reinitExistingTaskFromId</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">taskId</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">cancelTask</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  apiConfiguration</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  autoApprovalSettings</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  browserSettings</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  chatSettings</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  shellIntegrationTimeout</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  terminalReuseEnabled </span><span class="token operator" style="color:#393A34">??</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  enableCheckpointsSetting </span><span class="token operator" style="color:#393A34">??</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  customInstructions</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  task</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  images</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  files</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  historyItem</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Task ç±»ä½äº <code>src/core/task/index.ts</code>ï¼Œ</p>
<p>åœ¨ä¸€ç³»åˆ—çš„åˆå§‹åŒ–åï¼š</p>
<blockquote>
<p>åˆå§‹åŒ–çš„ä»£ç æ²¡æœ‰è¿‡åº¦æ·±ç©¶ï¼Œä»ç±»åæ¥çœ‹ï¼ŒåŒ…æ‹¬äº†åç»­ä»»åŠ¡æ‰§è¡Œä¸­å¯èƒ½ä½¿ç”¨åˆ°çš„å·¥å…·ï¼šæµè§ˆå™¨ã€å‘½ä»¤è¡Œã€Urlã€DiffView ç­‰ï¼›mcp çš„é…ç½®ï¼›autoApproval çš„é…ç½®ç­‰ç­‰ã€‚</p>
</blockquote>
<p>ç»ˆäºè¿›å…¥åˆ°å®é™…çš„é€»è¾‘å¤„ç†ï¼š</p>
<p>é¦–å…ˆï¼Œæ ¹æ®ç”¨æˆ·é…ç½®çš„æ¨¡å‹  æä¾›å•†ä¿¡æ¯åˆ›å»º AI çš„ api handlerï¼š</p>
<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// Now that taskId is initialized, we can build the API handler</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">api </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">buildApiHandler</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">effectiveApiConfiguration</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>ç„¶åï¼Œè¿›å…¥åˆ° <code>startTask</code> æ–¹æ³•ï¼š</p>
<p>say æ–¹æ³•ä¼šåœ¨èŠå¤©é¢æ¿æ–°å¢ä¸€æ¡æ¶ˆæ¯ï¼Œæ¯”å¦‚ä¸‹é¢çš„ä»£ç ï¼Œå°†ç”¨æˆ·çš„è¾“å…¥ä¿¡æ¯æ˜¾ç¤ºåœ¨èŠå¤©é¢æ¿ï¼š</p>
<p><img decoding="async" loading="lazy" src="https://fastly.jsdelivr.net/gh/bucketio/img4@main/2025/06/06/1749196272451-b424c65b-cb65-411f-9cbb-92322d586b92.png" alt="" class="img_ev3q"></p>
<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">await</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">say</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;text&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> task</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> images</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> files</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="æ„å»º-user-prompt">æ„å»º User Prompt<a href="#æ„å»º-user-prompt" class="hash-link" aria-label="æ„å»º User Promptçš„ç›´æ¥é“¾æ¥" title="æ„å»º User Promptçš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<p>æ¥ä¸‹æ¥ï¼Œæ„å»º userContentï¼š</p>
<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// ä¸ºç”¨æˆ·è¾“å…¥çš„æ¶ˆæ¯æ·»åŠ ä¸€ä¸ª task æ ‡ç­¾ã€‚</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> userContent</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> UserContent </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    type</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;text&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    text</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token template-string string" style="color:#e3116c">&lt;task&gt;\n</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">${</span><span class="token template-string interpolation">task</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">}</span><span class="token template-string string" style="color:#e3116c">\n&lt;/task&gt;</span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token operator" style="color:#393A34">...</span><span class="token plain">imageBlocks</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token doc-comment comment" style="color:#999988;font-style:italic">/**</span><br></span><span class="token-line" style="color:#393A34"><span class="token doc-comment comment" style="color:#999988;font-style:italic">è¾“å‡ºï¼š</span><br></span><span class="token-line" style="color:#393A34"><span class="token doc-comment comment" style="color:#999988;font-style:italic">text =</span><br></span><span class="token-line" style="color:#393A34"><span class="token doc-comment comment" style="color:#999988;font-style:italic">&#x27;&lt;task&gt;\n/newtask åˆ›å»ºä¸€ä¸ªå¿«é€Ÿæ’åºç®—æ³•ï¼Œå†™å…¥ @/src/utils/index.ts æ–‡ä»¶\n&lt;/task&gt;&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token doc-comment comment" style="color:#999988;font-style:italic">type =</span><br></span><span class="token-line" style="color:#393A34"><span class="token doc-comment comment" style="color:#999988;font-style:italic">&#x27;text&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token doc-comment comment" style="color:#999988;font-style:italic">*/</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>å¦‚æœç”¨æˆ·æä¾›äº†æ–‡ä»¶ï¼ˆCline æ”¯æŒç”¨æˆ·ä¸Šä¼ æ–‡æœ¬æ–‡ä»¶ï¼‰ï¼ŒèƒŒåå…¶å®æ˜¯è¯»å®Œæ–‡æœ¬æ–‡æœ¬ï¼Œä¹Ÿç”¨æ¥æ„é€  userContentã€‚</p>
<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">files </span><span class="token operator" style="color:#393A34">&amp;&amp;</span><span class="token plain"> files</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">length </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> fileContentString </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">await</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">processFilesIntoText</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">files</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">fileContentString</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    userContent</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">push</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      type</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;text&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      text</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> fileContentString</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="ç»§ç»­æ„é€ -prompts">ç»§ç»­æ„é€  Prompts<a href="#ç»§ç»­æ„é€ -prompts" class="hash-link" aria-label="ç»§ç»­æ„é€  Promptsçš„ç›´æ¥é“¾æ¥" title="ç»§ç»­æ„é€  Promptsçš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<p>ç”¨è¿‡ Cline çš„è¯ï¼Œæˆ‘ä»¬ä¼šçŸ¥é“ Cline ä¼šå¾ªç¯å¤„ç†ä»»åŠ¡ï¼Œæ‰€ä»¥ User Prompts æ„é€ å®Œæˆåï¼Œè¿›å…¥åˆ° <code>initiateTaskLoop</code> æ–¹æ³•ï¼ŒçœŸæ­£æ‰§è¡Œä»»åŠ¡çš„æ–¹æ³•ä¸º <code>recursivelyMakeClineRequests</code>ï¼š</p>
<p>è¿›ä¸€æ­¥å¤„ç†ç”¨æˆ·çš„è¾“å…¥ä¿¡æ¯ï¼š</p>
<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">parsedUserContent</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> environmentDetails</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> clinerulesError</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">await</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">loadContext</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">userContent</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> includeFileDetails</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>è¿™æ ·å¤„ç†ä¹‹åï¼Œç”¨æˆ·è¾“å…¥é‡æ–°ç»„è£…ä¸º parsedUserContentï¼Œå†…å®¹æ¯”è¾ƒé•¿ï¼Œè¿™é‡Œä¸è´´äº†ï¼Œå¤§è‡´æ ¼å¼ä¸ºï¼š</p>
<div class="language-markdown codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-markdown codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">explicit_instructions</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">type</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">new_task</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">explicit_instructions</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">task</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">ç”¨æˆ·è¾“å…¥</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">task</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">fileContent</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">src/utils/index.tså†…çš„æ–‡ä»¶</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">fileContent</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>å†æ¬¡çœ‹ä¸€ä¸‹æˆ‘ä»¬çš„è¾“å…¥ï¼š<code>/newtask å®ç°å¿«é€Ÿæ’åºç®—æ³•ï¼Œå†™å…¥ @/src/utils/index.ts æ–‡ä»¶</code>ï¼Œä¸Šé¢ä¸‰æ®µä¸€ä¸€å¯¹åº”ï¼š<code>\&lt;explicit_instructions type=&quot;new_task\&gt;&quot;</code> å¯¹åº” /newtask å‘½ä»¤ï¼Œè¿™æ˜¯ Cline çš„å†…ç½® promptï¼Œ@/src/utils/index.ts æ·»åŠ äº†è¯¥æ–‡ä»¶å†…å®¹ä½œä¸ºä¸Šä¸‹æ–‡ã€‚</p>
<p>åŒæ—¶å°† environmentDetails ä¹Ÿæ·»åŠ åˆ° userContentï¼ŒenvironmentDetails æœ‰å·¥ä½œç›®å½•ã€å½“å‰æ—¶é—´ã€å½“å‰æ‰“å¼€çš„ Tab ç­‰ã€‚</p>
<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">userContent </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> parsedUserContent</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// add environment details as its own text block, separate from tool results</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">userContent</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">push</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> type</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;text&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> text</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> environmentDetails </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<blockquote>
<p>æ€ªä¸å¾— Cline è¿™ä¹ˆè€— Tokenï¼</p>
</blockquote>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="æ¨¡å‹è¯·æ±‚">æ¨¡å‹è¯·æ±‚<a href="#æ¨¡å‹è¯·æ±‚" class="hash-link" aria-label="æ¨¡å‹è¯·æ±‚çš„ç›´æ¥é“¾æ¥" title="æ¨¡å‹è¯·æ±‚çš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<p>ç»§ç»­è¿›å…¥ <code>attemptApiRequest</code> æ–¹æ³•ï¼Œé¦–å…ˆæ„é€  System promptï¼š</p>
<div class="language-ts codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ts codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> isClaude4ModelFamily </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">await</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">isClaude4ModelFamily</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> systemPrompt </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">await</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">SYSTEM_PROMPT</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">cwd</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> supportsBrowserUse</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">mcpHub</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">browserSettings</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> isClaude4ModelFamily</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>æ¯”è¾ƒæœ‰æ„æ€çš„æ˜¯ï¼ŒCline é’ˆå¯¹ Claude4 å®šåˆ¶äº†ä¸åŒçš„ System Promptã€‚</p>
<blockquote>
<p>System Prompt é‡Œä¼šå‘Šè¯‰æ¨¡å‹æˆ‘ä»¬å½“å‰å·²ç»æä¾›äº†å“ªäº›å·¥å…·ä»¥åŠè¿™äº›å·¥å…·è¯¥å¦‚ä½•è°ƒç”¨ï¼ˆå‚æ•°å’Œè§„åˆ™ï¼‰ï¼Œæ¯”å¦‚æœ¬æ¬¡ä»»åŠ¡è¦å°†æ¨¡å‹ç”Ÿæˆçš„ä»£ç å†™å…¥å·²æœ‰æ–‡ä»¶ï¼Œé‚£ä¹ˆå°±éœ€è¦ä½¿ç”¨åˆ° <code>replace_in_file</code>  è¿™ä¸ªå·¥å…·ï¼Œè¿™é‡Œè´´ä¸€ä¸‹ System Prompt é‡Œå…³äº  <code>replace_in_file</code> çš„å†…å®¹ã€‚</p>
</blockquote>
<div class="language-markdown codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-markdown codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token title important punctuation" style="color:#393A34">##</span><span class="token title important"> replace_in_file</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Description: Request to replace sections of content in an existing file using SEARCH/REPLACE blocks that define exact changes to specific parts of the file. This tool should be used when you need to make targeted changes to specific parts of a file.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Parameters:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token list punctuation" style="color:#393A34">-</span><span class="token plain"> path: (required) The path of the file to modify (relative to the current working directory ${cwd.toPosix()})</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token list punctuation" style="color:#393A34">-</span><span class="token plain"> diff: (required) One or more SEARCH/REPLACE blocks following this exact format:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  \`\`\`</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ------- SEARCH</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  [exact content to find]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  =======</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  [new content to replace with]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  +++++++ REPLACE</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  \`\`\`</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Critical rules:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token list punctuation" style="color:#393A34">1.</span><span class="token plain"> SEARCH content must match the associated file section to find EXACTLY:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     </span><span class="token list punctuation" style="color:#393A34">*</span><span class="token plain"> Match character-for-character including whitespace, indentation, line endings</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     </span><span class="token list punctuation" style="color:#393A34">*</span><span class="token plain"> Include all comments, docstrings, etc.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token list punctuation" style="color:#393A34">2.</span><span class="token plain"> SEARCH/REPLACE blocks will ONLY replace the first match occurrence.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     </span><span class="token list punctuation" style="color:#393A34">*</span><span class="token plain"> Including multiple unique SEARCH/REPLACE blocks if you need to make multiple changes.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     </span><span class="token list punctuation" style="color:#393A34">*</span><span class="token plain"> Include </span><span class="token italic punctuation" style="color:#393A34">*</span><span class="token italic content">just</span><span class="token italic punctuation" style="color:#393A34">*</span><span class="token plain"> enough lines in each SEARCH section to uniquely match each set of lines that need to change.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     </span><span class="token list punctuation" style="color:#393A34">*</span><span class="token plain"> When using multiple SEARCH/REPLACE blocks, list them in the order they appear in the file.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token list punctuation" style="color:#393A34">3.</span><span class="token plain"> Keep SEARCH/REPLACE blocks concise:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     </span><span class="token list punctuation" style="color:#393A34">*</span><span class="token plain"> Break large SEARCH/REPLACE blocks into a series of smaller blocks that each change a small portion of the file.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     </span><span class="token list punctuation" style="color:#393A34">*</span><span class="token plain"> Include just the changing lines, and a few surrounding lines if needed for uniqueness.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     </span><span class="token list punctuation" style="color:#393A34">*</span><span class="token plain"> Do not include long runs of unchanging lines in SEARCH/REPLACE blocks.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     </span><span class="token list punctuation" style="color:#393A34">*</span><span class="token plain"> Each line must be complete. Never truncate lines mid-way through as this can cause matching failures.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token list punctuation" style="color:#393A34">4.</span><span class="token plain"> Special operations:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     </span><span class="token list punctuation" style="color:#393A34">*</span><span class="token plain"> To move code: Use two SEARCH/REPLACE blocks (one to delete from original + one to insert at new location)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     </span><span class="token list punctuation" style="color:#393A34">*</span><span class="token plain"> To delete code: Use empty REPLACE section</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Usage:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">replace_in_file</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">path</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">File path here</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">path</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">diff</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Search and replace blocks here</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">diff</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">replace_in_file</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>åŒæ—¶ï¼ŒSystem Prompt ä¹Ÿç»§ç»­è¿½åŠ äº†ç”¨æˆ·çš„åå¥½è¯­è¨€ï¼Œæ–¹ä¾¿æŒ‰ç…§ç”¨æˆ·åå¥½çš„è¯­è¨€è¿›è¡Œè¾“å‡ºã€‚</p>
<p>æ¥ä¸‹æ¥å‘é€è¯·æ±‚ï¼š</p>
<div class="language-ts codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ts codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> stream </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">api</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">createMessage</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">systemPrompt</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> contextManagementMetadata</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">truncatedConversationHistory</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>é’ˆå¯¹æ¨¡å‹çš„è¾“å‡ºï¼Œéœ€è¦è¿›ä¸€æ­¥å¤„ç†ï¼Œæ˜¯ç›´æ¥å±•ç¤ºåœ¨èŠå¤©é¢æ¿ï¼Œè¿˜æ˜¯éœ€è¦è°ƒç”¨å·¥å…·å¤„ç†ï¼Œè¿™éƒ¨åˆ†é€»è¾‘åœ¨ <code>src/core/assistant-message/parse-assistant-message.ts</code> çš„ <code>parseAssistantMessageV2</code> æ–¹æ³•å†…ã€‚</p>
<p>é’ˆå¯¹æˆ‘ä»¬æœ¬æ¬¡åˆ›å»ºæ’åºç®—æ³•çš„ä»»åŠ¡ï¼Œä¸‹é¢æ˜¯ä¸€ä¸ªæ¨¡å‹è¾“å‡ºæ ·ä¾‹ï¼š</p>
<div class="language-markdown codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-markdown codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">thinking</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">\næˆ‘éœ€è¦åœ¨</span><span class="token code-snippet code keyword" style="color:#00009f">`src/utils/index.ts`</span><span class="token plain">æ–‡ä»¶ä¸­æ·»åŠ ä¸€ä¸ªå¿«é€Ÿæ’åºç®—æ³•ã€‚é¦–å…ˆï¼Œæˆ‘å·²ç»çœ‹åˆ°äº†æ–‡ä»¶çš„å†…å®¹ï¼Œè¿™æ˜¯ä¸€ä¸ªå·¥å…·å‡½æ•°é›†åˆæ–‡ä»¶ï¼ŒåŒ…å«äº†å„ç§å®ç”¨å‡½æ•°ï¼Œå¦‚rpxè½¬æ¢ã€vwè®¡ç®—ã€ç±»å‹æ£€æŸ¥ã€æ—¥å¿—è®°å½•ç­‰ã€‚\n\næˆ‘éœ€è¦åœ¨è¿™ä¸ªæ–‡ä»¶ä¸­æ·»åŠ ä¸€ä¸ªå¿«é€Ÿæ’åºç®—æ³•å®ç°ã€‚å¿«é€Ÿæ’åºæ˜¯ä¸€ç§é«˜æ•ˆçš„æ’åºç®—æ³•ï¼ŒåŸºäºåˆ†æ²»æ³•çš„æ€æƒ³ã€‚æˆ‘å°†å®ç°ä¸€ä¸ªé€šç”¨çš„å¿«é€Ÿæ’åºå‡½æ•°ï¼Œå¯ä»¥å¯¹æ•°ç»„è¿›è¡Œæ’åºã€‚\n\næˆ‘å°†ä½¿ç”¨</span><span class="token code-snippet code keyword" style="color:#00009f">`replace_in_file`</span><span class="token plain">å·¥å…·æ¥ä¿®æ”¹æ–‡ä»¶ï¼Œåœ¨æ–‡ä»¶æœ«å°¾æ·»åŠ å¿«é€Ÿæ’åºç®—æ³•çš„å®ç°ã€‚æˆ‘éœ€è¦ç¡®ä¿æ·»åŠ çš„ä»£ç ä¸ç°æœ‰ä»£ç é£æ ¼ä¿æŒä¸€è‡´ï¼Œå¹¶æä¾›é€‚å½“çš„ç±»å‹æ³¨è§£å’Œæ³¨é‡Šã€‚\n\næˆ‘å°†åœ¨æ–‡ä»¶æœ«å°¾æ·»åŠ å¿«é€Ÿæ’åºç®—æ³•çš„å®ç°ï¼ŒåŒ…æ‹¬ï¼š\n1. ä¸€ä¸ªä¸»å¿«é€Ÿæ’åºå‡½æ•°ï¼Œæ¥å—ä¸€ä¸ªæ•°ç»„å’Œå¯é€‰çš„æ¯”è¾ƒå‡½æ•°\n2. ä¸€ä¸ªè¾…åŠ©å‡½æ•°ç”¨äºåˆ†åŒºæ“ä½œ\n\nè®©æˆ‘ä½¿ç”¨</span><span class="token code-snippet code keyword" style="color:#00009f">`replace_in_file`</span><span class="token plain">å·¥å…·æ¥ä¿®æ”¹æ–‡ä»¶ã€‚\n</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">thinking</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">\n\n</span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">replace_in_file</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">\n</span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">path</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">src/utils/index.ts</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">path</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">\n</span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">diff</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">\n------- SEARCH\nexport const jump2UpdateApp = () =&gt; {\n  if (isâ€¦ (a, b) =&gt; {\n  if (a &lt; b) return -1;\n  if (a &gt; b) return 1;\n  return 0;\n}): T[] =&gt; {\n  // åˆ›å»ºæ•°ç»„å‰¯æœ¬ï¼Œä¸ä¿®æ”¹åŸæ•°ç»„\n  const result = [...arr];\n  \n  // å†…éƒ¨å¿«é€Ÿæ’åºå®ç°\n  const _quickSort = (arr: T[], left: number, right: number) =&gt; {\n    if (left &lt; right) {\n      const pivotIndex = partition(arr, left, right);\n      _quickSort(arr, left, pivotIndex - 1);\n      _quickSort(arr, pivotIndex + 1, right);\n    }\n  };\n  \n  // åˆ†åŒºæ“ä½œ\n  const partition = (arr: T[], left: number, right: number): number =&gt; {\n    // é€‰æ‹©æœ€å³è¾¹çš„å…ƒç´ ä½œä¸ºåŸº</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><code>parseAssistantMessageV2</code> æ–¹æ³•ä¼šè§£æä¸Šè¿°è¾“å‡ºå†…å®¹ï¼Œä¸»è¦æ˜¯ä»æ¨¡å‹è¾“å‡ºä¸­è§£æå‡ºä½¿ç”¨å“ªäº›å·¥å…·ä»¥åŠå·¥å…·  çš„å‚æ•°ï¼Œæ¯”å¦‚è¿™é‡Œæˆ‘ä»¬å‘ç°æ¨¡å‹è¾“å‡ºä¸­æœ‰ &lt;replace_in_file&gt;ï¼Œé‚£å°±è¯´æ˜è¿™æ¬¡éœ€è¦ä½¿ç”¨ replace_in_file å·¥å…·ã€‚</p>
<p>æ¥ä¸‹æ¥è°ƒç”¨ <code>presentAssistantMessage</code> æ–¹æ³•çœŸæ­£å°†æ¨¡å‹æ¶ˆæ¯å±•ç¤ºç»™ç”¨æˆ·ï¼Œä¸€æ–¹é¢å±•ç¤ºæ–‡æœ¬æ¶ˆæ¯ï¼Œç±»ä¼¼ä¸‹å›¾ï¼š</p>
<p><img decoding="async" loading="lazy" src="https://fastly.jsdelivr.net/gh/bucketio/img9@main/2025/06/06/1749217048970-dba8c0b7-c03c-4767-a014-845c105ab0d9.png" alt="" class="img_ev3q"></p>
<p>ä¸€æ–¹é¢æ‰§è¡Œä¸Šä¸€æ­¥è§£æå‡ºçš„ toolï¼Œå°†æ¨¡å‹ç”Ÿæˆä»£ç ä»¥ diff çš„æ–¹å¼å†™å…¥æ–‡ä»¶ï¼Œè¿™é‡Œå€ŸåŠ© VSCode çš„èƒ½åŠ›åˆ›å»º diffViewã€‚è‡ªæ­¤è¿™ä¸ªä»»åŠ¡ç®—æ˜¯å®Œæˆäº†ã€‚</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="æ€»ç»“">æ€»ç»“<a href="#æ€»ç»“" class="hash-link" aria-label="æ€»ç»“çš„ç›´æ¥é“¾æ¥" title="æ€»ç»“çš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<p>æŠ›å¼€ Cline ä¸­ç”¨æˆ·äº¤äº’å’Œå·¥ç¨‹å¤„ç†çš„éƒ¨åˆ†ï¼Œæˆ‘ä»¬å‘ç°æœ€æ ¸å¿ƒçš„å…¶å®åªæœ‰ä¸¤ä»¶äº‹æƒ…ï¼š</p>
<ol>
<li>
<p>prompt ç»„è£…ã€‚è¿™å…¶ä¸­åŒ…æ‹¬äº† System Promptã€VSCode å’Œç³»ç»Ÿçš„ç¯å¢ƒä¿¡æ¯ã€å†…ç½® Commandã€å†…ç½®çš„ @ å¼•ç”¨ï¼ˆæ–‡ä»¶ã€ç›®å½•ä¿¡æ¯ï¼‰ã€ç”¨æˆ·çš„è¾“å…¥ï¼ˆæ–‡æœ¬ã€å›¾ç‰‡ã€æ–‡æœ¬æ–‡ä»¶ï¼‰ï¼Œå½“ç„¶è¿˜æœ‰æˆ‘ä»¬ä¹‹å‰ä»‹ç»çš„ Rules ä»¥åŠæˆ‘ä»¬æåˆ°è¿‡çš„ Workflowï¼ˆæœ¬è´¨æ˜¯ç”¨æˆ·è‡ªå®šä¹‰çš„ Commandï¼‰ã€‚è¿™äº›å†…å®¹å…±åŒç»„è£…ç§°ä¸º Prompt å‘é€ç»™æ¨¡å‹ï¼ŒåŠ›æ±‚ç»™æ¨¡å‹è¶³å¤Ÿå¤šçš„ä¸Šä¸‹æ–‡ä¿¡æ¯ï¼Œè·å¾—æ›´åŠ å‡†ç¡®çš„ç»“æœã€‚</p>
</li>
<li>
<p>tools è°ƒç”¨ã€‚é¦–å…ˆåœ¨ System Prompt å®šä¹‰äº†æ¨¡å‹å¯ä»¥è°ƒç”¨çš„ Toolï¼ˆåŒ…æ‹¬å†…ç½®çš„å’Œ MCP Server å®šä¹‰çš„ï¼‰ï¼Œåœ¨æ¨¡å‹è¾“å‡ºæ—¶æŒ‡å®šè°ƒç”¨çš„ Tool å’Œéœ€è¦çš„å‚æ•°ï¼Œä»¥æ­¤æ–¤è¿›ä¸€æ­¥å¢å¼ºæ¨¡å‹çš„èƒ½åŠ›ã€‚</p>
</li>
</ol>
<p>ä¸¤è€…å…±åŒåˆä½œå®Œæˆç”¨æˆ·çš„ç¼–ç çš„ä»»åŠ¡ã€‚</p>
<p>ç”±æ­¤æˆ‘ä»¬å¯ä»¥çœ‹åˆ° Agent å¼€å‘ä¸­æœ€é‡è¦çš„ä¸‰ç‚¹ï¼š</p>
<ol>
<li>æ¨¡å‹çš„ä½¿ç”¨</li>
<li>ä¸°å¯Œçš„åˆ›æ„</li>
<li>ä¸æ»‘çš„ä½“éªŒ</li>
</ol>
<p>æœ€åï¼Œæœ¬æ–‡æ˜¯åœ¨æˆ‘è¾¹è°ƒè¯•è¾¹å†™ä½œçš„è¿‡ç¨‹ä¸­å®Œæˆçš„ï¼Œå¯èƒ½è¡¨è¾¾è¿˜ä¸å¤Ÿæ¸…æ™°ï¼Œæ¬¢è¿æœ‰å…´è¶£çš„åŒå­¦ä¸€èµ·äº¤æµæŒ‡æ­£ ã€‚</p>
<hr>
<div align="center"><p>æ¬¢è¿å…³æ³¨æˆ‘çš„å…¬ä¼—å·ï¼šå‰ç«¯ç”Ÿå­˜æŒ‡å—ï¼Œä¸€èµ·èŠèŠå‰ç«¯ã€AI å’Œç”Ÿæ´»ã€‚</p><img src="https://cloud-minapp-47803.cloud.ifanrusercontent.com/1tvAM68Cvrx3bfLR.jpg" style="width:180px"></div></div><footer class="row docusaurus-mt-lg"><div class="col"><b>æ ‡ç­¾ï¼š</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/ai">AI</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/cline">Cline</a></li></ul></div></footer></article><article class="margin-bottom--xl"><header><h2 class="title_f1Hy"><a href="/blog/2025-05-30-cline-rule.md">ç°åœ¨å¼€å§‹ä½¿ç”¨ Cline Rules</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2025-05-30T00:00:00.000Z">2025å¹´5æœˆ30æ—¥</time> Â· <!-- -->é˜…è¯»éœ€ 5 åˆ†é’Ÿ</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--12 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/sleepy-zone" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo authorImage_XqGP" src="https://avatars.githubusercontent.com/u/131369648?v=4" alt="SleepyZone"></a><div class="avatar__intro authorDetails_lV9A"><div class="avatar__name"><a href="https://github.com/sleepy-zone" target="_blank" rel="noopener noreferrer"><span class="authorName_yefp">SleepyZone</span></a></div><small class="authorTitle_nd0D" title="å‰ç«¯å¼€å‘ / å¼€æºçˆ±å¥½è€…">å‰ç«¯å¼€å‘ / å¼€æºçˆ±å¥½è€…</small><div class="authorSocials_rSDt"></div></div></div></div></div></header><div class="markdown"><p><img decoding="async" loading="lazy" src="https://fastly.jsdelivr.net/gh/bucketio/img19@main/2025/05/30/1748588412574-e064741c-0bf1-4c61-be3c-fd9ac86453e4.png" alt="" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="å†™åœ¨å‰é¢">å†™åœ¨å‰é¢<a href="#å†™åœ¨å‰é¢" class="hash-link" aria-label="å†™åœ¨å‰é¢çš„ç›´æ¥é“¾æ¥" title="å†™åœ¨å‰é¢çš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<p>æœ€è¿‘åœ¨ä¸šåŠ¡ï¼ˆé¢å‘ç”¨æˆ·çš„ C ç«¯ä¸šåŠ¡ï¼‰ä¸­è¾ƒå¤šçš„ä½¿ç”¨äº† <a href="https://docs.cline.bot/getting-started/what-is-cline" target="_blank" rel="noopener noreferrer">Cline</a>ï¼Œæ€»ä½“æ„Ÿè§‰éå¸¸ä¸æ»‘ï¼ˆå°¤å…¶æ˜¯çœ‹ç€ä»–åœ¨é»˜é»˜åœ°ç”Ÿæˆä»£ç å¹¶ä¸”è‡ªå·±æ’æŸ¥é”™è¯¯çš„æ—¶å€™ï¼Œä½† Token ç¡®å®ä¹Ÿæ¶ˆè€—çš„å¾ˆå¿«ğŸ˜‚ï¼‰ã€‚</p>
<p>Cline ç®—æ˜¯ VS Code AI å¼€å‘æ’ä»¶ä¸­çš„ä½¼ä½¼è€…äº†ï¼Œå¹¶ä¸”æ˜¯ä¸€ä¸ªå¼€æºé¡¹ç›®ï¼Œä»–çš„ä¸€ä¸ª fork åˆ†æ”¯ RooCode çƒ­åº¦ä¹Ÿå¾ˆé«˜ã€‚</p>
<p><img decoding="async" loading="lazy" src="https://fastly.jsdelivr.net/gh/bucketio/img17@main/2025/05/30/1748572666434-e20a0717-a388-47c9-8332-832423e6b337.png" alt="openrouter ç½‘ç«™çš„ç»Ÿè®¡ï¼ŒCline é¥é¥é¢†å…ˆ" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="å¼€å§‹é…ç½®-cline-rules">å¼€å§‹é…ç½® Cline Rules<a href="#å¼€å§‹é…ç½®-cline-rules" class="hash-link" aria-label="å¼€å§‹é…ç½® Cline Rulesçš„ç›´æ¥é“¾æ¥" title="å¼€å§‹é…ç½® Cline Rulesçš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<p>ä½œä¸ºä¸€ä¸ªé€šç”¨çš„ç¼–ç¨‹åŠ©æ‰‹ï¼Œå¦‚ä½•èƒ½é’ˆå¯¹ä¸åŒçš„é¡¹ç›®è¿›è¡Œæ›´å¥½çš„å¼€å‘ï¼Œé™¤äº† Cline æœ¬èº«å¯¹ä»£ç çš„ç†è§£ä¹‹å¤–ï¼Œä½œä¸ºç”¨æˆ·å¦‚æœèƒ½æä¾›æ›´å¤šçš„æŒ‡å¼•ï¼Œå¯ä»¥è®© Cline å‘æŒ¥æ›´å¥½çš„ä½œç”¨ã€‚</p>
<p>ä¸€èˆ¬æ¥è¯´ï¼ŒClineã€Cursor åŠå…¶ä»–ä»£ç  Agent éƒ½ä¼šæä¾› rules è¿™ä¸ªæ¦‚å¿µï¼Œåœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹æ–°å»º rules ç›®å½•ï¼Œç›®å½•ä¸‹æ ¹æ®è‡ªå·±çš„é¡¹ç›®å¯ä»¥æ–°å»ºå„ç§è§„åˆ™æ–‡ä»¶ã€‚</p>
<div class="language-markdown codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-markdown codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">your-project/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	â”œâ”€â”€ .clinerules</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">		â”œâ”€â”€ project.md</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        â”œâ”€â”€ api.md</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	â”œâ”€â”€ src/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	â”œâ”€â”€ docs/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	â””â”€â”€ ...</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>å¦‚æœä½ çš„è§„åˆ™å…¨å±€é€šç”¨ï¼Œå¯ä»¥å°†è§„åˆ™æ”¾ç½®åˆ° <code>Documents/Cline/Rules</code> ç›®å½•ã€‚</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="cline-rules-ä¼˜åŠ¿">Cline Rules ä¼˜åŠ¿<a href="#cline-rules-ä¼˜åŠ¿" class="hash-link" aria-label="Cline Rules ä¼˜åŠ¿çš„ç›´æ¥é“¾æ¥" title="Cline Rules ä¼˜åŠ¿çš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<p>æ”¾åœ¨é¡¹ç›®å†…å¥½å¤„å¾ˆæ˜æ˜¾ï¼š</p>
<ol>
<li>å¯ä»¥é’ˆå¯¹æ¯ä¸ªé¡¹ç›®é…ç½®ä¸åŒçš„è§„åˆ™ï¼›</li>
<li>ä½œä¸ºé¡¹ç›®æºä»£ç çš„ä¸€éƒ¨åˆ†ï¼Œè¿›è¡Œç‰ˆæœ¬æ§åˆ¶ï¼ŒæŒç»­ç»´æŠ¤ï¼Œè·Ÿéšé¡¹ç›®å‘å±•è®¾ç½®é•¿è¿œçš„ ruleï¼›</li>
<li>ä¿è¯å›¢é˜Ÿæˆå‘˜ä½¿ç”¨ AI çš„è¡Œä¸ºæ˜¯ä¸€è‡´çš„ã€‚</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="cline-rules-çš„åŸåˆ™">Cline Rules çš„åŸåˆ™<a href="#cline-rules-çš„åŸåˆ™" class="hash-link" aria-label="Cline Rules çš„åŸåˆ™çš„ç›´æ¥é“¾æ¥" title="Cline Rules çš„åŸåˆ™çš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<ol>
<li>æ¸…æ™°ç®€æ´ï¼šä½¿ç”¨ç®€å•è¯­è¨€ï¼Œé¿å…æ­§ ä¹‰ã€‚</li>
<li>å…³æ³¨æœŸæœ›ç»“æœï¼šæè¿°ä½ æƒ³è¦çš„ç»“æœï¼Œè€Œä¸æ˜¯å…·ä½“æ­¥éª¤ã€‚</li>
<li>æµ‹è¯•å’Œè¿­ä»£ï¼šè¯•éªŒæ‰¾å‡ºæœ€é€‚åˆä½ çš„å·¥ä½œæµç¨‹çš„æ–¹æ³•ã€‚</li>
</ol>
<p>rules æœ¬è´¨ä¸Šæ˜¯è‡ªå®šä¹‰ promptsï¼Œå’Œ Cline çš„ system prompts äº’ä¸ºè¡¥å……ï¼Œå…±åŒä¸ºé¡¹ç›®æœåŠ¡ã€‚ï¼ˆsystem prompsï¼š<a href="https://github.com/cline/cline/blob/main/src/core/prompts/model_prompts/claude4.ts%EF%BC%89" target="_blank" rel="noopener noreferrer">https://github.com/cline/cline/blob/main/src/core/prompts/model_prompts/claude4.tsï¼‰</a></p>
<p>å…³äºæç¤ºè¯ï¼Œæˆ‘ä¹‹å‰æœ‰æ€»ç»“è¿‡<a href="https://mp.weixin.qq.com/s/YFV0MO_pX3Us-PEMzxF0vQ" target="_blank" rel="noopener noreferrer">è°·æ­Œçš„æç¤ºè¯æœ€ä½³å®è·µ</a>ï¼Œå¯ä»¥çœ‹ä¸€ä¸‹ã€‚</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="é«˜çº§ç”¨æ³•-rules-bank">é«˜çº§ç”¨æ³• Rules Bank<a href="#é«˜çº§ç”¨æ³•-rules-bank" class="hash-link" aria-label="é«˜çº§ç”¨æ³• Rules Bankçš„ç›´æ¥é“¾æ¥" title="é«˜çº§ç”¨æ³• Rules Bankçš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<p>Rules Bank é¡¾åæ€ä¹‰ï¼Œå°±æ˜¯å­˜æ”¾ Rules çš„åœ°æ–¹ï¼Œå¦‚æœä½ çš„é¡¹ç›®å¾ˆå¤æ‚ï¼Œåˆæœ‰å‰ç«¯ã€åˆæœ‰åç«¯ã€åˆæœ‰ä¸åŒçš„æŠ€æœ¯æ ˆï¼Œè¿™ä¸ªæ—¶å€™å°±å¾ˆæœ‰ç”¨ã€‚</p>
<div class="language-markdown codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-markdown codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">your-project/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”œâ”€â”€ .clinerules/              # Active rules - automatically applied</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚   â”œâ”€â”€ 01-coding.md</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚   â””â”€â”€ client-a.md</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”œâ”€â”€ clinerules-bank/          # Repository of available but inactive rules</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚   â”œâ”€â”€ clients/              # Client-specific rule sets</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚   â”‚   â”œâ”€â”€ client-a.md</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚   â”‚   â””â”€â”€ client-b.md</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚   â”œâ”€â”€ frameworks/           # Framework-specific rules</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚   â”‚   â”œâ”€â”€ react.md</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚   â”‚   â””â”€â”€ vue.md</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚   â””â”€â”€ project-types/        # Project type standards</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚       â”œâ”€â”€ api-service.md</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚       â””â”€â”€ frontend-app.md</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â””â”€â”€ ...</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>æ¯”å¦‚å½“ä½ åœ¨å¼€å‘ React æŠ€æœ¯æ ˆçš„æ—¶å€™ï¼Œä» Rules Bank ä¸­å¤åˆ¶ React Rule åˆ° Cline Rules å†…ã€‚</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># Switch to React</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">rm .clinerules/vue.md</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cp clinerules-bank/clients/react.md .clinerules/</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>æ€»ä¹‹ä¸€åˆ‡æ–‡æœ¬æ”¾åˆ°ä»£ç ä»“åº“ä¸­ï¼Œæé«˜å¯æŒç»­æ€§ï¼Œå¹¶ä¸”å¯ä»¥è·Ÿéšé¡¹ç›®ä¿æŒæœ€æ–°çš„è¿­ä»£ï¼</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="å¦‚ä½•ç®¡ç†">å¦‚ä½•ç®¡ç†<a href="#å¦‚ä½•ç®¡ç†" class="hash-link" aria-label="å¦‚ä½•ç®¡ç†çš„ç›´æ¥é“¾æ¥" title="å¦‚ä½•ç®¡ç†çš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<p>Cline æä¾›äº†ä¸€ç§æ–¹ä¾¿çš„æ–¹å¼ç®¡ç† Rulesï¼Œåœ¨è¾“å…¥æ¡†ä¸‹æ–¹ä¸€ä¸ªå¤©å¹³çš„å°æ ‡å¿—å†…ï¼Œå¯ä»¥æ‰“å¼€ Rule ç®¡ç†å™¨ï¼Œæ–°å¢åˆ é™¤æˆ–è€…å¯ç”¨ç¦ç”¨ Ruleã€‚</p>
<p><img decoding="async" loading="lazy" src="https://fastly.jsdelivr.net/gh/bucketio/img19@main/2025/05/30/1748590113024-f84df6e2-374d-4378-b4af-79b8b7ed9f86.png" alt="" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="æœ€å">æœ€å<a href="#æœ€å" class="hash-link" aria-label="æœ€åçš„ç›´æ¥é“¾æ¥" title="æœ€åçš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<p>ååˆ†å»ºè®®ä½ åœ¨å¹³æ—¶å·¥ä½œä¸­ä½¿ç”¨ Clineï¼Œå¹¶ä½¿ç”¨ Cline Rule å¢å¼ºå¼€å‘ä½“éªŒã€‚åé¢ä¼šæŒç»­æ›´æ–° Cline çš„ç›¸å…³å†…å®¹ã€‚</p>
<p>æœ€åï¼Œå‡æœŸå¿«ä¹ï¼</p>
<hr>
<div align="center"><p>æ¬¢è¿å…³æ³¨æˆ‘çš„å…¬ä¼—å·ï¼šå‰ç«¯ç”Ÿå­˜æŒ‡å—ï¼Œä¸€èµ·èŠèŠå‰ç«¯ã€AI å’Œç”Ÿæ´»ã€‚</p><img src="https://cloud-minapp-47803.cloud.ifanrusercontent.com/1tvAM68Cvrx3bfLR.jpg" style="width:180px"></div></div><footer class="row docusaurus-mt-lg"><div class="col"><b>æ ‡ç­¾ï¼š</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/ai">AI</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/cline">Cline</a></li></ul></div></footer></article><article class="margin-bottom--xl"><header><h2 class="title_f1Hy"><a href="/blog/2025-04-30-ts-agent-mastra.md">Mastra  - TypeScript AI Agent æ¡†æ¶</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2025-05-21T00:00:00.000Z">2025å¹´5æœˆ21æ—¥</time> Â· <!-- -->é˜…è¯»éœ€ 7 åˆ†é’Ÿ</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--12 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/sleepy-zone" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo authorImage_XqGP" src="https://avatars.githubusercontent.com/u/131369648?v=4" alt="SleepyZone"></a><div class="avatar__intro authorDetails_lV9A"><div class="avatar__name"><a href="https://github.com/sleepy-zone" target="_blank" rel="noopener noreferrer"><span class="authorName_yefp">SleepyZone</span></a></div><small class="authorTitle_nd0D" title="å‰ç«¯å¼€å‘ /  å¼€æºçˆ±å¥½è€…">å‰ç«¯å¼€å‘ / å¼€æºçˆ±å¥½è€…</small><div class="authorSocials_rSDt"></div></div></div></div></div></header><div class="markdown"><p><img decoding="async" loading="lazy" src="https://fastly.jsdelivr.net/gh/bucketio/img10@main/2025/05/19/1747639233989-a54bfdd8-3570-4750-8b7c-c8f0b88ff435.png" alt="" class="img_ev3q"></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="ç®€ä»‹">ç®€ä»‹<a href="#ç®€ä»‹" class="hash-link" aria-label="ç®€ä»‹çš„ç›´æ¥é“¾æ¥" title="ç®€ä»‹çš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<p>ä¹‹å‰æˆ‘ä»¬è®¨è®ºè¿‡<a href="https://mp.weixin.qq.com/s/9KaU4LeGmkw0YGmY-XRihw?token=2043170037&amp;lang=zh_CN" target="_blank" rel="noopener noreferrer">ä»€ä¹ˆæ˜¯ Agent</a>ï¼Œéƒ½æ˜¯ä¸€äº›æ¦‚å¿µæ€§çš„é—²èŠï¼Œä»Šå¤©ä»‹ç»çš„ <a href="https://mastra.ai/" target="_blank" rel="noopener noreferrer">Mastra</a>ï¼Œæ˜¯ä¸€ä¸ªéš¾å¾—çš„ï¼ˆä¸€èˆ¬éƒ½æ˜¯ Python æ¡†æ¶ï¼‰ TS çš„ AI Agent æ¡†æ¶ï¼Œå¯ä»¥è®©ä½ å¿«æ‰‹ä¸Šæ‰‹å¼€å‘ä¸€ä¸ª Agentï¼Œç›®å‰å·²ç»æœ‰ 13.2K çš„ Starã€‚</p>
<p><strong>å‰ç«¯äººç‹‚å–œ</strong>ã€‚</p>
<p>Mastra æä¾›äº† Agent æ‰€éœ€çš„æ‰€æœ‰è¦ç´ ï¼š</p>
<ol>
<li>å¤§æ¨¡å‹ï¼šåŸºäº Vercel AI SDKã€‚</li>
<li>Toolsï¼šå·¥å…·ã€‚</li>
<li>Workflowï¼šå·¥ä½œæµï¼Œä»¥æ”¯æŒæ›´åŠ å¤æ‚çš„å·¥ä½œã€‚</li>
<li>RAGï¼šæ£€ç´¢å¢å¼ºç”Ÿæˆï¼Œä»¥å¸®åŠ©æ„å»ºçŸ¥è¯†åº“ã€‚</li>
<li>Memeryï¼šå„ç§å­˜å‚¨æ–¹å¼é›†æˆã€‚</li>
<li>Agentï¼šæœ€ç»ˆçš„ Agent æ„å»ºã€‚</li>
</ol>
<p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬æŒ‰ç…§å®˜ç½‘çš„å¿«é€Ÿå¼€å§‹ï¼Œåœ¨ Next.js æ¡†æ¶ä¸­æ¥å…¥ Mastraã€‚</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="å¿«é€Ÿå¼€å§‹">å¿«é€Ÿå¼€å§‹<a href="#å¿«é€Ÿå¼€å§‹" class="hash-link" aria-label="å¿«é€Ÿå¼€å§‹çš„ç›´æ¥é“¾æ¥" title="å¿«é€Ÿå¼€å§‹çš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<ol>
<li>
<p>åˆå§‹åŒ– Next.js ç»“æ„ï¼Œå‚ç…§å®˜ç½‘å³å¯ã€‚</p>
</li>
<li>
<p>lib ç›®å½•ä¸‹ æ–°å»º mastra ç›®å½•ï¼Œåœ¨è¿™ä¸ªç›®å½•ä¸‹å¼€å‘ Agent ç›¸å…³çš„å†…å®¹ã€‚</p>
</li>
<li>
<p>æ–°å»º tools ç›®å½•ï¼Œæ‰©å±•å¤§æ¨¡å‹èƒ½åŠ›çš„å·¥å…·ï¼Œæ¯”å¦‚å»ºä¸€ä¸ªæ ¹æ®åŸå¸‚è·å–å¤©æ°”çš„å·¥å…·ã€‚tools ç›®å½•ä¸‹æ–°å»º <code>weather-tool.ts</code> æ–‡ä»¶ã€‚</p>
</li>
</ol>
<div class="language-ts codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ts codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> createTool </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;@mastra/core/tools&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> z </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;zod&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">interface</span><span class="token plain"> </span><span class="token class-name">WeatherResponse</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  current</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    time</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">string</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    temperature_2m</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">number</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    apparent_temperature</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">number</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    relative_humidity_2m</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">number</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    wind_speed_10m</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">number</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    wind_gusts_10m</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">number</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    weather_code</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">number</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">export</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> weatherTool </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">createTool</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  id</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;get-weather&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  description</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;Get current weather for a location&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  inputSchema</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> z</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">object</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    location</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> z</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">string</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">describe</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;City name&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  outputSchema</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> z</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">object</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    temperature</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> z</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">number</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    feelsLike</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> z</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">number</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    humidity</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> z</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">number</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    windSpeed</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> z</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">number</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    windGust</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> z</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">number</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    conditions</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> z</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">string</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    location</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> z</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">string</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function-variable function" style="color:#d73a49">execute</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">async</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> context </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">await</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">getWeather</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">context</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">location</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:#d73a49">getWeather</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">async</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">location</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">string</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> geocodingUrl </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token template-string string" style="color:#e3116c">https://geocoding-api.open-meteo.com/v1/search?name=</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">${</span><span class="token template-string interpolation function" style="color:#d73a49">encodeURIComponent</span><span class="token template-string interpolation punctuation" style="color:#393A34">(</span><span class="token template-string interpolation">location</span><span class="token template-string interpolation punctuation" style="color:#393A34">)</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">}</span><span class="token template-string string" style="color:#e3116c">&amp;count=1</span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> geocodingResponse </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">await</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">fetch</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">geocodingUrl</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> geocodingData </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">await</span><span class="token plain"> geocodingResponse</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">json</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">!</span><span class="token plain">geocodingData</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">results</span><span class="token operator" style="color:#393A34">?.</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">throw</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">Error</span><span class="token punctuation" style="color:#393A34">(</span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token template-string string" style="color:#e3116c">Location &#x27;</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">${</span><span class="token template-string interpolation">location</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">}</span><span class="token template-string string" style="color:#e3116c">&#x27; not found</span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> latitude</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> longitude</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> name </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> geocodingData</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">results</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> weatherUrl </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token template-string string" style="color:#e3116c">https://api.open-meteo.com/v1/forecast?latitude=</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">${</span><span class="token template-string interpolation">latitude</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">}</span><span class="token template-string string" style="color:#e3116c">&amp;longitude=</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">${</span><span class="token template-string interpolation">longitude</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">}</span><span class="token template-string string" style="color:#e3116c">&amp;current=temperature_2m,apparent_temperature,relative_humidity_2m,wind_speed_10m,wind_gusts_10m,weather_code</span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> response </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">await</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">fetch</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">weatherUrl</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> data</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> WeatherResponse </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">await</span><span class="token plain"> response</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">json</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    temperature</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> data</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">current</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">temperature_2m</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    feelsLike</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> data</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">current</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">apparent_temperature</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    humidity</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> data</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">current</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">relative_humidity_2m</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    windSpeed</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> data</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">current</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">wind_speed_10m</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    windGust</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> data</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">current</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">wind_gusts_10m</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    conditions</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">getWeatherCondition</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">data</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">current</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">weather_code</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    location</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> name</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">getWeatherCondition</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">code</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">number</span><span class="token punctuation" style="color:#393A34">)</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">string</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> conditions</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> Record</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token builtin">number</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token builtin">string</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token number" style="color:#36acaa">0</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Clear sky&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token number" style="color:#36acaa">1</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Mainly clear&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token number" style="color:#36acaa">2</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Partly cloudy&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token number" style="color:#36acaa">3</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Overcast&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token number" style="color:#36acaa">45</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Foggy&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token number" style="color:#36acaa">48</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Depositing rime fog&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token number" style="color:#36acaa">51</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Light drizzle&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token number" style="color:#36acaa">53</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Moderate drizzle&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token number" style="color:#36acaa">55</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Dense drizzle&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token number" style="color:#36acaa">56</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Light freezing drizzle&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token number" style="color:#36acaa">57</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Dense freezing drizzle&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token number" style="color:#36acaa">61</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Slight rain&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token number" style="color:#36acaa">63</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Moderate rain&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token number" style="color:#36acaa">65</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Heavy rain&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token number" style="color:#36acaa">66</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Light freezing rain&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token number" style="color:#36acaa">67</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Heavy freezing rain&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token number" style="color:#36acaa">71</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Slight snow fall&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token number" style="color:#36acaa">73</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Moderate snow fall&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token number" style="color:#36acaa">75</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Heavy snow fall&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token number" style="color:#36acaa">77</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Snow grains&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token number" style="color:#36acaa">80</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Slight rain showers&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token number" style="color:#36acaa">81</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Moderate rain showers&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token number" style="color:#36acaa">82</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Violent rain showers&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token number" style="color:#36acaa">85</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Slight snow showers&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token number" style="color:#36acaa">86</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Heavy snow showers&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token number" style="color:#36acaa">95</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Thunderstorm&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token number" style="color:#36acaa">96</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Thunderstorm with slight hail&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token number" style="color:#36acaa">99</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Thunderstorm with heavy hail&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> conditions</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">code</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">||</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Unknown&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ol start="4">
<li>mastra ç›®å½•ä¸‹æ–°å»º agents ç›®å½•ï¼Œagent ç›®å½•ä¸‹æ–°å»º <code>weather-agent.ts</code> æ–‡ä»¶ã€‚</li>
</ol>
<p>å¯ä»¥çœ‹åˆ°è¿™ä¸ªå¤©æ°” Agent ä¸»è¦åŠŸèƒ½å°±æ˜¯ï¼šå¦‚æœç”¨æˆ·æé—®å¤©æ°”ç›¸å…³çš„å†…å®¹ï¼Œæ¨¡å‹åˆ™è°ƒç”¨ä¸Šè¿°å·¥å…·è·å–å¤©æ°”ã€‚</p>
<div class="language-ts codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ts codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> Agent </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;@mastra/core/agent&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> weatherTool </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;../tools/weather-tool&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> createAIModel </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;@/lib/utils&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">export</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> weatherAgent </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">Agent</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  name</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;Weather Agent&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  instructions</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token template-string string" style="color:#e3116c">You are a helpful weather assistant that provides accurate weather information.</span><br></span><span class="token-line" style="color:#393A34"><span class="token template-string string" style="color:#e3116c"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token template-string string" style="color:#e3116c">Your primary function is to help users get weather details for specific locations. When responding:</span><br></span><span class="token-line" style="color:#393A34"><span class="token template-string string" style="color:#e3116c">- Always ask for a location if none is provided</span><br></span><span class="token-line" style="color:#393A34"><span class="token template-string string" style="color:#e3116c">- If the location name isnâ€™t in English, please translate it</span><br></span><span class="token-line" style="color:#393A34"><span class="token template-string string" style="color:#e3116c">- Include relevant details like humidity, wind conditions, and precipitation</span><br></span><span class="token-line" style="color:#393A34"><span class="token template-string string" style="color:#e3116c">- Keep responses concise but informative</span><br></span><span class="token-line" style="color:#393A34"><span class="token template-string string" style="color:#e3116c"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token template-string string" style="color:#e3116c">Use the weatherTool to fetch current weather data.</span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  model</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">createAIModel</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;gpt-4o-mini-0718&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  tools</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> weatherTool </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>æ¨¡å‹ä½¿ç”¨çš„ Vercel AI SDKï¼Œå¦‚æœä½ æ˜¯ç”¨çš„ OpenAI æˆ–è€… Claude ç­‰æ¨¡å‹ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨ @ai-sdk/openai è¿™äº›åŒ…ã€‚å¦‚æœä½ å’Œæˆ‘ä¸€æ ·ï¼Œä½¿ç”¨çš„æœåŠ¡å•†ç»Ÿä¸€åŒ…è£…çš„å…¼å®¹ OpenAI çš„æ¥å£ï¼Œåˆ™å¯ä»¥è¿™æ ·ï¼š</p>
<div class="language-ts codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ts codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> createOpenAICompatible </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;@ai-sdk/openai-compatible&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">export</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:#d73a49">createAIModel</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">modelName</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">string</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">createOpenAICompatible</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    name</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;custom model&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    baseURL</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;https://your-base-url/api/openai/v1/&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// api key æœ€å¥½é…ç½®åˆ° .env æ–‡ä»¶ä¸­</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    apiKey</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;your-api-key&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">modelName</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>ç„¶åæˆ‘ä»¬å»ºä¸€ä¸ª agent çš„å…¥å£æ–‡ä»¶ <code>mastra/index.ts</code>ï¼š</p>
<div class="language-ts codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ts codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> Mastra </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;@mastra/core&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> PinoLogger </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;@mastra/loggers&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> LibSQLStore </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;@mastra/libsql&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> weatherAgent </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;./agents/weather-agent&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">export</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> mastra </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">Mastra</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  agents</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> weatherAgent </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  storage</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">LibSQLStore</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// stores telemetry, evals, ... into memory storage, if it needs to persist, change to file:../mastra.db</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    url</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;:memory:&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  logger</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">PinoLogger</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    name</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;Mastra&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    level</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;info&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ol start="5">
<li>ä¸€ä¸ªç®€å•çš„ Agent å°±å®Œæˆäº†ï¼Œæˆ‘ä»¬å¼€å‘ä¸€ä¸ªæ¥å£æµ‹è¯•ä¸€ä¸‹ï¼š</li>
</ol>
<p>åœ¨ app ç›®å½•ä¸‹æ–°å»º <code>/(chat)/api/chat/route.ts</code>ï¼š</p>
<div class="language-ts codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ts codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> mastra </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;@/lib/mastra&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> NextResponse </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;next/server&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">export</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">async</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">POST</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">req</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> Request</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> city </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">await</span><span class="token plain"> req</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">json</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> agent </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> mastra</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">getAgent</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;weatherAgent&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> result </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">await</span><span class="token plain"> agent</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">stream</span><span class="token punctuation" style="color:#393A34">(</span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token template-string string" style="color:#e3116c">What&#x27;s the weather like in </span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">${</span><span class="token template-string interpolation">city</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">}</span><span class="token template-string string" style="color:#e3116c">?</span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> result</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">toDataStreamResponse</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ol start="6">
<li>ä½¿ç”¨ Postman è®¿é—® <a href="http://localhost:3000/api/talk" target="_blank" rel="noopener noreferrer">http://localhost:3000/api/talk</a> æ¥å£æµ‹è¯•ä¸€ä¸‹ï¼š</li>
</ol>
<p><strong>æµå¼è¿”å›äº†å¤©æ°”ä¿¡æ¯ï¼ï¼</strong></p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">f</span><span class="token operator" style="color:#393A34">:</span><span class="token punctuation" style="color:#393A34">{</span><span class="token property" style="color:#36acaa">&quot;messageId&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;msg-xZkgBuDjmIEtRWqu0wB6kNFw&quot;</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">9</span><span class="token operator" style="color:#393A34">:</span><span class="token punctuation" style="color:#393A34">{</span><span class="token property" style="color:#36acaa">&quot;toolCallId&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;call_iQt37jB3orK3HhY0ZGBWUClB&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token property" style="color:#36acaa">&quot;toolName&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;weatherTool&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token property" style="color:#36acaa">&quot;args&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token punctuation" style="color:#393A34">{</span><span class="token property" style="color:#36acaa">&quot;location&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;New York&quot;</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">a</span><span class="token operator" style="color:#393A34">:</span><span class="token punctuation" style="color:#393A34">{</span><span class="token property" style="color:#36acaa">&quot;toolCallId&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;call_iQt37jB3orK3HhY0ZGBWUClB&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token property" style="color:#36acaa">&quot;result&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token punctuation" style="color:#393A34">{</span><span class="token property" style="color:#36acaa">&quot;temperature&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">9.2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token property" style="color:#36acaa">&quot;feelsLike&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">6.5</span><span class="token punctuation" style="color:#393A34">,</span><span class="token property" style="color:#36acaa">&quot;humidity&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">88</span><span class="token punctuation" style="color:#393A34">,</span><span class="token property" style="color:#36acaa">&quot;windSpeed&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">13.2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token property" style="color:#36acaa">&quot;windGust&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">36.7</span><span class="token punctuation" style="color:#393A34">,</span><span class="token property" style="color:#36acaa">&quot;conditions&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;Overcast&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token property" style="color:#36acaa">&quot;location&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;New York&quot;</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">e</span><span class="token operator" style="color:#393A34">:</span><span class="token punctuation" style="color:#393A34">{</span><span class="token property" style="color:#36acaa">&quot;finishReason&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;tool-calls&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token property" style="color:#36acaa">&quot;usage&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token punctuation" style="color:#393A34">{</span><span class="token property" style="color:#36acaa">&quot;promptTokens&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">99</span><span class="token punctuation" style="color:#393A34">,</span><span class="token property" style="color:#36acaa">&quot;completionTokens&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">4</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token property" style="color:#36acaa">&quot;isContinued&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token boolean" style="color:#36acaa">false</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">f</span><span class="token operator" style="color:#393A34">:</span><span class="token punctuation" style="color:#393A34">{</span><span class="token property" style="color:#36acaa">&quot;messageId&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;msg-Bhwx7fT1X0zQTxBnKAeb00xi&quot;</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">0</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;The&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">0</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot; current&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">0</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot; weather&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">0</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot; in&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">0</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot; New&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">0</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot; York&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">0</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot; is&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">0</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot; as&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">0</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot; follows&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">0</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;:\n\n&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">0</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;-&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">0</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot; **&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">0</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;Temperature&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">0</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;:**&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">0</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot; &quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">0</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;9&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">0</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;.&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">0</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;2&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">0</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;Â°C&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">0</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot; (&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">0</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;Feels&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">0</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot; like&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">0</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot; &quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">0</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;6&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">0</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;.&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">0</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;5&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">0</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;Â°C&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">0</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;)\n&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">0</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;-&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">0</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot; **&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">0</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;Humidity&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">0</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;:**&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">0</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot; &quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">0</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;88&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">0</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;%\n&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">0</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;-&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">0</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot; **&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">0</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;Wind&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">0</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot; Speed&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">0</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;:**&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">0</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot; &quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">0</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;13&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">0</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;.&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">0</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;2&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">0</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot; km&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">0</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;/h&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">0</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;\n&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">0</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;-&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">0</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot; **&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">0</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;Wind&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">0</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot; Gust&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">0</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;s&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">0</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;:**&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">0</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot; &quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">0</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;36&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">0</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;.&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">0</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;7&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">0</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot; km&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">0</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;/h&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">0</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;\n&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">0</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;-&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">0</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot; **&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">0</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;Conditions&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">0</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;:**&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">0</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot; Over&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">0</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;cast&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">0</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;\n\n&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">0</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;If&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">0</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot; you&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">0</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot; need&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">0</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot; more&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">0</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot; details&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">0</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot; or&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">0</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot; information&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">0</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot; about&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">0</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot; another&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">0</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot; location&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">0</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;,&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">0</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot; feel&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">0</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot; free&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">0</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot; to&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">0</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot; ask&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">0</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;!&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">e</span><span class="token operator" style="color:#393A34">:</span><span class="token punctuation" style="color:#393A34">{</span><span class="token property" style="color:#36acaa">&quot;finishReason&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;stop&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token property" style="color:#36acaa">&quot;usage&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token punctuation" style="color:#393A34">{</span><span class="token property" style="color:#36acaa">&quot;promptTokens&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">145</span><span class="token punctuation" style="color:#393A34">,</span><span class="token property" style="color:#36acaa">&quot;completionTokens&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">88</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token property" style="color:#36acaa">&quot;isContinued&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token boolean" style="color:#36acaa">false</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">d</span><span class="token operator" style="color:#393A34">:</span><span class="token punctuation" style="color:#393A34">{</span><span class="token property" style="color:#36acaa">&quot;finishReason&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;stop&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token property" style="color:#36acaa">&quot;usage&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token punctuation" style="color:#393A34">{</span><span class="token property" style="color:#36acaa">&quot;promptTokens&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">244</span><span class="token punctuation" style="color:#393A34">,</span><span class="token property" style="color:#36acaa">&quot;completionTokens&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">92</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ol start="7">
<li>å¦‚æœæœ‰æ›´å¤æ‚çš„éœ€æ±‚ï¼Œå¯ä»¥å°è¯• Workflow ï¼Œä½¿ç”¨ä¸åŒçš„æ¨¡å‹å¤„ç†å¤šä¸ªä»»åŠ¡ï¼Œæœ€ç»ˆç»„åˆç§°ä¸ºä¸€ä¸ªæ›´å¥½çš„ Agentã€‚è¿™é‡Œå°±ä¸å±•å¼€äº†ã€‚</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="å†™åœ¨åé¢">å†™åœ¨åé¢<a href="#å†™åœ¨åé¢" class="hash-link" aria-label="å†™åœ¨åé¢çš„ç›´æ¥é“¾æ¥" title="å†™åœ¨åé¢çš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<p>å¾ˆæ¬£å–œèƒ½çœ‹åˆ°ä¸€ä¸ª TS çš„ Agent æ¡†æ¶ï¼Œè€Œä¸”ä»æ–‡æ¡£ä»£ç æ¥çœ‹ï¼Œå®Œæˆåº¦å’Œè´¨é‡éƒ½å¾ˆé«˜ã€‚</p>
<p>ä½†æˆ‘ä»¬åº”è¯¥æ„è¯†åˆ°ï¼Œé™¤äº† Agent å¼€å‘å·¥å…·ï¼Œæ›´é‡è¦çš„æ˜¯æ‰¾åˆ°<strong>åˆé€‚çš„è½åœ°åœºæ™¯</strong>ã€‚</p>
<hr>
<div align="center"><p>æ¬¢è¿å…³æ³¨æˆ‘çš„å…¬ä¼—å·ï¼šå‰ç«¯ç”Ÿå­˜æŒ‡å—ï¼Œä¸€èµ·èŠèŠå‰ç«¯ã€AI å’Œç”Ÿæ´»ã€‚</p><img src="https://cloud-minapp-47803.cloud.ifanrusercontent.com/1tvAM68Cvrx3bfLR.jpg" style="width:180px"></div></div><footer class="row docusaurus-mt-lg"><div class="col"><b>æ ‡ç­¾ï¼š</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/ai">AI</a></li></ul></div></footer></article><article class="margin-bottom--xl"><header><h2 class="title_f1Hy"><a href="/blog/2025-04-30-deepwiki.md">DeepWiki - é˜…è¯»å¼€æºä»£ç çš„ç¥å™¨</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2025-04-30T00:00:00.000Z">2025å¹´4æœˆ30æ—¥</time> Â· <!-- -->é˜…è¯»éœ€ 1 åˆ†é’Ÿ</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--12 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/sleepy-zone" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo authorImage_XqGP" src="https://avatars.githubusercontent.com/u/131369648?v=4" alt="SleepyZone"></a><div class="avatar__intro authorDetails_lV9A"><div class="avatar__name"><a href="https://github.com/sleepy-zone" target="_blank" rel="noopener noreferrer"><span class="authorName_yefp">SleepyZone</span></a></div><small class="authorTitle_nd0D" title="å‰ç«¯å¼€å‘ / å¼€æºçˆ±å¥½è€…">å‰ç«¯å¼€å‘ / å¼€æºçˆ±å¥½è€…</small><div class="authorSocials_rSDt"></div></div></div></div></div></header><div class="markdown"><p><img decoding="async" loading="lazy" src="https://fastly.jsdelivr.net/gh/bucketio/img17@main/2025/04/29/1745915063123-0603daf0-f9b8-42af-9597-59570e3a7eae.png" alt="" class="img_ev3q"></p>
<p>ä»¥åæ¨èå¼€æºé¡¹ç›®ï¼š
âŒ <a href="https://github.com/xx/yy" target="_blank" rel="noopener noreferrer">https://github.com/xx/yy</a>
âœ… <a href="https://deepwiki.com/xx/yy" target="_blank" rel="noopener noreferrer">https://deepwiki.com/xx/yy</a></p>
<hr>
<p>Devin ï¼ˆå°±æ˜¯é‚£ä¸ªæ¯æœˆ 500 åˆ€çš„ AI ç¨‹åºå‘˜ï¼‰å›¢é˜Ÿæ¨å‡ºäº† DeepWikiï¼ˆ<a href="https://deepwiki.org/%EF%BC%89%EF%BC%8C%E4%BB%8E%E6%AD%A4%E9%98%85%E8%AF%BB%E6%BA%90%E7%A0%81%E6%9B%B4%E6%96%B9%E4%BE%BF%E4%BA%86%E3%80%82" target="_blank" rel="noopener noreferrer">https://deepwiki.org/ï¼‰ï¼Œä»æ­¤é˜…è¯»æºç æ›´æ–¹ä¾¿äº†ã€‚</a></p>
<p>åªéœ€è¦å°†å¼€æºé¡¹ç›®é“¾æ¥çš„ github.com æ›¿æ¢ä¸º deepwiki.comï¼Œå°±å¯ä»¥å¾—åˆ°ä¸€ä»½è¯¦å°½çš„é¡¹ç›®æ–‡æ¡£ï¼Œæ¯”å¦‚ï¼š<a href="https://deepwiki.com/vercel/ai-chatbot%E3%80%82" target="_blank" rel="noopener noreferrer">https://deepwiki.com/vercel/ai-chatbotã€‚</a></p>
<p>ï¼ˆæ¯”æºæ–‡æ¡£è¯¦ç»†çš„å¤šï¼š<a href="https://chat-sdk.dev/docs/getting-started/overview%EF%BC%89" target="_blank" rel="noopener noreferrer">https://chat-sdk.dev/docs/getting-started/overviewï¼‰</a></p>
<p>ç”šè‡³æ–‡æ¡£å†…è¿˜æœ‰å›¾è¡¨ï¼š</p>
<p><img decoding="async" loading="lazy" src="https://fastly.jsdelivr.net/gh/bucketio/img15@main/2025/04/29/1745915703384-ecf58d95-9a66-4f07-ab5e-55419797e20d.png" alt="" class="img_ev3q"></p>
<p>å¹¶ä¸”å¯ä»¥åŸºäºæ–‡æ¡£è¿›è¡Œé—®ç­”ï¼š</p>
<p><img decoding="async" loading="lazy" src="https://fastly.jsdelivr.net/gh/bucketio/img8@main/2025/04/29/1745915759075-d06bf6c0-3266-4d8d-ad7d-ab2aa7c0eba8.png" alt="" class="img_ev3q"></p>
<p>å¿«å»è¯•è¯•å§ï¼</p>
<p>æœ€åç¥å¤§å®¶äº”ä¸€å‡æœŸå¿«ä¹ï¼</p>
<hr>
<div align="center"><p>æ¬¢è¿å…³æ³¨æˆ‘çš„å…¬ä¼—å·ï¼šå‰ç«¯ç”Ÿå­˜æŒ‡å—ï¼Œä¸€èµ·èŠèŠå‰ç«¯ã€AI å’Œç”Ÿæ´»ã€‚</p><img src="https://cloud-minapp-47803.cloud.ifanrusercontent.com/1tvAM68Cvrx3bfLR.jpg" style="width:180px"></div></div><footer class="row docusaurus-mt-lg"><div class="col"><b>æ ‡ç­¾ï¼š</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/ai">AI</a></li></ul></div></footer></article><article class="margin-bottom--xl"><header><h2 class="title_f1Hy"><a href="/blog/2025-04-24-google-promtps-2.md">è°·æ­Œæç¤ºè¯å·¥ç¨‹ - æœ€ä½³å®è·µ</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2025-04-24T00:00:00.000Z">2025å¹´4æœˆ24æ—¥</time> Â· <!-- -->é˜…è¯»éœ€ 7 åˆ†é’Ÿ</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--12 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/sleepy-zone" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo authorImage_XqGP" src="https://avatars.githubusercontent.com/u/131369648?v=4" alt="SleepyZone"></a><div class="avatar__intro authorDetails_lV9A"><div class="avatar__name"><a href="https://github.com/sleepy-zone" target="_blank" rel="noopener noreferrer"><span class="authorName_yefp">SleepyZone</span></a></div><small class="authorTitle_nd0D" title="å‰ç«¯å¼€å‘ / å¼€æºçˆ±å¥½è€…">å‰ç«¯å¼€å‘ / å¼€æºçˆ±å¥½è€…</small><div class="authorSocials_rSDt"></div></div></div></div></div></header><div class="markdown"><p>æ¥ä¸Šæ–‡<a href="/blog/2025-04-23-google-promtps.md">è°·æ­Œæç¤ºè¯å·¥ç¨‹ - æ¨¡å‹åŸç†å’Œæç¤ºè¯æŠ€æœ¯</a>ï¼Œè®¨è®ºæç¤ºè¯çš„æœ€ä½³å®è·µã€‚</p>
<p><img decoding="async" loading="lazy" src="https://fastly.jsdelivr.net/gh/bucketio/img6@main/2025/04/23/1745392049583-b2db7b1e-2f2b-4565-8252-14f946e00719.png" alt="" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="æä¾›ç¤ºä¾‹">æä¾›ç¤ºä¾‹<a href="#æä¾›ç¤ºä¾‹" class="hash-link" aria-label="æä¾›ç¤ºä¾‹çš„ç›´æ¥é“¾æ¥" title="æä¾›ç¤ºä¾‹çš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<p>æ­£å¦‚ä¸Šæ–‡æç¤ºè¯æŠ€æœ¯æåˆ°çš„å•æ ·æœ¬ã€å°‘æ ·æœ¬é‚£æ ·ï¼Œåœ¨æç¤ºä¸­æä¾›æ ·ä¾‹ååˆ†é‡è¦ã€‚è¿™æ ·æ¨¡å‹å°±èƒ½åœ¨ç¤ºä¾‹çš„å‚è€ƒä¸‹è¾“å‡ºæ›´åŠ å‡†ç¡®çš„å†…å®¹ã€‚</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="ç®€çº¦è®¾è®¡">ç®€çº¦è®¾è®¡<a href="#ç®€çº¦è®¾è®¡" class="hash-link" aria-label="ç®€çº¦è®¾è®¡çš„ç›´æ¥é“¾æ¥" title="ç®€çº¦è®¾è®¡çš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<p>åŸºæœ¬åŸåˆ™æ˜¯ï¼šè‹¥ä½ è‡ªå·±éƒ½è§‰å¾—å›°æƒ‘ï¼Œæ¨¡å‹å¾ˆå¯èƒ½ä¹Ÿä¼šå›°æƒ‘ã€‚é¿å…ä½¿ç”¨å¤æ‚è¯­è¨€ï¼Œä¸”ä¸è¦æä¾›æ— å…³ä¿¡æ¯ã€‚</p>
<p>å°è¯•ä½¿ç”¨æè¿°åŠ¨ä½œçš„åŠ¨è¯ã€‚ä»¥ä¸‹æ˜¯ä¸€ç»„ç¤ºä¾‹ï¼š</p>
<blockquote>
<p>è¡ŒåŠ¨ã€åˆ†æã€å½’ç±»ã€åˆ†ç±»ã€å¯¹æ¯”ã€æ¯”è¾ƒã€åˆ›é€ ã€æè¿°ã€å®šä¹‰ã€è¯„ä¼°ã€æå–ã€å‘ç°ã€ç”Ÿæˆã€è¯†åˆ«ã€åˆ—ä¸¾ã€æµ‹é‡ã€ç»„ç»‡ã€è§£æã€æŒ‘é€‰ã€é¢„æµ‹ã€æä¾›ã€æ’åºã€æ¨èã€è¿”å›ã€æ£€ç´¢ã€æ”¹å†™ã€é€‰æ‹©ã€å±•ç¤ºã€æ•´ç†ã€æ€»ç»“ã€ç¿»è¯‘ã€æ’°å†™ã€‚</p>
</blockquote>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="æ˜ç¡®æå‡ºéœ€æ±‚">æ˜ç¡®æå‡ºéœ€æ±‚<a href="#æ˜ç¡®æå‡ºéœ€æ±‚" class="hash-link" aria-label="æ˜ç¡®æå‡ºéœ€æ±‚çš„ç›´æ¥é“¾æ¥" title="æ˜ç¡®æå‡ºéœ€æ±‚çš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<p>è¯¦ç»†è¯´æ˜æœŸæœ›è¾“å‡ºã€‚ç®€çŸ­çš„æŒ‡ä»¤å¯èƒ½æ— æ³•å……åˆ†å¼•å¯¼å¤§è¯­è¨€æ¨¡å‹ï¼Œæˆ–è¿‡äºç¬¼ç»Ÿã€‚åœ¨æç¤ºä¸­æä¾›å…·ä½“ç»†èŠ‚ï¼ˆé€šè¿‡ç³»ç»Ÿæˆ–ä¸Šä¸‹æ–‡æç¤ºï¼‰æœ‰åŠ©äºæ¨¡å‹èšç„¦ç›¸å…³å†…å®¹ï¼Œæé«˜æ•´ä½“å‡†ç¡®æ€§ã€‚</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="ä¼˜å…ˆä½¿ç”¨æŒ‡ä»¤è€Œéçº¦æŸ">ä¼˜å…ˆä½¿ç”¨æŒ‡ä»¤è€Œéçº¦æŸ<a href="#ä¼˜å…ˆä½¿ç”¨æŒ‡ä»¤è€Œéçº¦æŸ" class="hash-link" aria-label="ä¼˜å…ˆä½¿ç”¨æŒ‡ä»¤è€Œéçº¦æŸçš„ç›´æ¥é“¾æ¥" title="ä¼˜å…ˆä½¿ç”¨æŒ‡ä»¤è€Œéçº¦æŸçš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<p>æç¤ºä¸­ä½¿ç”¨çš„æŒ‡ä»¤å’Œçº¦æŸç”¨äºå¼• å¯¼å¤§è¯­è¨€æ¨¡å‹çš„è¾“å‡ºã€‚</p>
<p>å°½å¯èƒ½ä½¿ç”¨æ­£å‘æŒ‡ä»¤ï¼šç”¨â€œåº”è¯¥åšä»€ä¹ˆâ€æ›¿ä»£â€œç¦æ­¢åšä»€ä¹ˆâ€ï¼Œè¿™èƒ½é¿å…æ··æ·†å¹¶æé«˜è¾“å‡ºå‡†ç¡®æ€§ã€‚</p>
<p>çº¦æŸæ¡ä»¶åœ¨ç‰¹å®šåœºæ™¯ä»å…·ä»·å€¼ï¼šå½“éœ€è¦é˜²æ­¢æ¨¡å‹ç”Ÿæˆæœ‰å®³/åè§å†…å®¹ï¼Œæˆ–è¦æ±‚ä¸¥æ ¼è¾“å‡ºæ ¼å¼æ—¶ã€‚</p>
<p>ä½œä¸ºæœ€ä½³å®è·µï¼Œåº”ä¼˜å…ˆå¤„ç†æŒ‡ä»¤ï¼Œæ˜ç¡®è¯´æ˜æ‚¨å¸Œæœ›æ¨¡å‹æ‰§è¡Œçš„æ“ä½œï¼Œä»…åœ¨å‡ºäºå®‰å…¨æ€§ã€æ¸…æ™°åº¦æˆ–ç‰¹å®šéœ€æ±‚æ—¶ä½¿ç”¨çº¦æŸæ¡ä»¶ã€‚é€šè¿‡å®éªŒä¸è¿­ä»£æµ‹è¯•ä¸åŒæŒ‡ä»¤å’Œçº¦æŸçš„ç»„åˆï¼Œä»¥æ‰¾åˆ°æœ€é€‚åˆæ‚¨ç‰¹å®šä»»åŠ¡çš„æ–¹æ¡ˆï¼Œå¹¶äºˆä»¥è®°å½•ã€‚</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="æ§åˆ¶æœ€å¤§ä»¤ç‰Œé•¿åº¦">æ§åˆ¶æœ€å¤§ä»¤ç‰Œé•¿åº¦<a href="#æ§åˆ¶æœ€å¤§ä»¤ç‰Œé•¿åº¦" class="hash-link" aria-label="æ§åˆ¶æœ€å¤§ä»¤ç‰Œé•¿åº¦çš„ç›´æ¥é“¾æ¥" title="æ§åˆ¶æœ€å¤§ä»¤ç‰Œé•¿åº¦çš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<p>è¦æ§åˆ¶ç”Ÿæˆå¼å¤§è¯­è¨€æ¨¡å‹(LLM)çš„å“åº”é•¿åº¦ï¼Œæ‚¨å¯ä»¥åœ¨é…ç½®ä¸­è®¾ç½®æœ€å¤§ä»¤ç‰Œé™åˆ¶ï¼Œæˆ–åœ¨æç¤ºè¯ä¸­æ˜ç¡®æŒ‡å®šæ‰€éœ€é•¿åº¦ã€‚ä¾‹å¦‚ï¼š</p>
<blockquote>
<p>&quot;Explain quantum physics in a tweet length message.&quot;</p>
</blockquote>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="åœ¨æç¤ºè¯ä¸­ä½¿ç”¨å˜é‡">åœ¨æç¤ºè¯ä¸­ä½¿ç”¨å˜é‡<a href="#åœ¨æç¤ºè¯ä¸­ä½¿ç”¨å˜é‡" class="hash-link" aria-label="åœ¨æç¤ºè¯ä¸­ä½¿ç”¨å˜é‡çš„ç›´æ¥é“¾æ¥" title="åœ¨æç¤ºè¯ä¸­ä½¿ç”¨å˜é‡çš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<p>ä¸ºäº†å®ç°æç¤ºè¯å¤ç”¨å¹¶å¢å¼ºåŠ¨æ€æ€§ï¼Œå¯åœ¨æç¤ºè¯ä¸­ä½¿ç”¨å˜é‡ï¼Œè¿™äº›å˜é‡å¯æ ¹æ®ä¸åŒè¾“å…¥è¿›è¡Œæ›¿æ¢ã€‚</p>
<p><img decoding="async" loading="lazy" src="https://fastly.jsdelivr.net/gh/bucketio/img18@main/2025/04/23/1745397189984-9bd0b762-1421-404a-bbbf-2636a357c048.png" alt="" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="å°è¯•ä¸åŒçš„è¾“å…¥æ ¼å¼ä¸å†™ä½œé£æ ¼">å°è¯•ä¸åŒçš„è¾“å…¥æ ¼å¼ä¸å†™ä½œé£æ ¼<a href="#å°è¯•ä¸åŒçš„è¾“å…¥æ ¼å¼ä¸å†™ä½œé£æ ¼" class="hash-link" aria-label="å°è¯•ä¸åŒçš„è¾“å…¥æ ¼å¼ä¸å†™ä½œé£æ ¼çš„ç›´æ¥é“¾æ¥" title="å°è¯•ä¸åŒçš„è¾“å…¥æ ¼å¼ä¸å†™ä½œé£æ ¼çš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<p>ä¸åŒæ¨¡å‹ã€é…ç½®ã€æç¤ºæ ¼å¼ã€æªè¾å’Œæäº¤æ–¹å¼ä¼šäº§ç”Ÿä¸åŒç»“æœã€‚å› æ­¤éœ€å¯¹æç¤ºå±æ€§è¿›è¡Œå®éªŒï¼Œå¦‚é£æ ¼ã€æªè¾åŠæç¤ºç±»å‹ï¼ˆé›¶æ ·æœ¬ã€å°‘æ ·æœ¬ã€ç³»ç»Ÿæç¤ºï¼‰ ã€‚</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="åˆ†ç±»ä»»åŠ¡çš„å°æ ·æœ¬æç¤ºä¸­éœ€æ··åˆä¸åŒç±»åˆ«">åˆ†ç±»ä»»åŠ¡çš„å°æ ·æœ¬æç¤ºä¸­ï¼Œéœ€æ··åˆä¸åŒç±»åˆ«<a href="#åˆ†ç±»ä»»åŠ¡çš„å°æ ·æœ¬æç¤ºä¸­éœ€æ··åˆä¸åŒç±»åˆ«" class="hash-link" aria-label="åˆ†ç±»ä»»åŠ¡çš„å°æ ·æœ¬æç¤ºä¸­ï¼Œéœ€æ··åˆä¸åŒç±»åˆ«çš„ç›´æ¥é“¾æ¥" title="åˆ†ç±»ä»»åŠ¡çš„å°æ ·æœ¬æç¤ºä¸­ï¼Œéœ€æ··åˆä¸åŒç±»åˆ«çš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<p>ä¸€èˆ¬è€Œè¨€ï¼Œå°æ ·æœ¬ç¤ºä¾‹çš„é¡ºåºå½±å“ä¸å¤§ã€‚ä½†åœ¨æ‰§è¡Œåˆ†ç±»ä»»åŠ¡æ—¶ï¼ŒåŠ¡å¿…åœ¨å°‘é‡ç¤ºä¾‹ä¸­æ··åˆå¯èƒ½çš„å“åº”ç±»åˆ«ã€‚è¿™æ˜¯å› ä¸ºå›ºå®šé¡ºåºå¯èƒ½å¯¼è‡´æ¨¡å‹å¯¹ç¤ºä¾‹é¡ºåºäº§ç”Ÿè¿‡æ‹Ÿåˆã€‚é€šè¿‡æ··åˆå“åº”ç±»åˆ«ï¼Œå¯ç¡®ä¿æ¨¡å‹å­¦ä¼šè¯†åˆ«å„ç±»åˆ«çš„å…³é”®ç‰¹å¾ï¼Œè€Œéç®€å•è®°å¿†ç¤ºä¾‹é¡ºåºã€‚è¿™ç§æ–¹æ³•èƒ½æå‡æ¨¡å‹åœ¨æœªè§æ•°æ®ä¸Šçš„é²æ£’æ€§å’Œæ³›åŒ–æ€§èƒ½ã€‚</p>
<p>ç»éªŒæ³•åˆ™å»ºè®®ä»6ä¸ªå°‘é‡ç¤ºä¾‹å¼€å§‹ï¼Œå¹¶ç”±æ­¤æµ‹è¯•å‡†ç¡®åº¦ã€‚</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="é€‚åº”æ¨¡å‹æ›´æ–°">é€‚åº”æ¨¡å‹æ›´æ–°<a href="#é€‚åº”æ¨¡å‹æ›´æ–°" class="hash-link" aria-label="é€‚åº”æ¨¡å‹æ›´æ–°çš„ç›´æ¥é“¾æ¥" title="é€‚åº”æ¨¡å‹æ›´æ–°çš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<p>ç´§è·Ÿæ¨¡å‹æ›´æ–°ï¼Œå°è¯•æ–°ç‰ˆæ¨¡å‹è°ƒæ•´æç¤ºè¯å……åˆ†åˆ©ç”¨æ–°ç‰¹æ€§ã€‚</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="å°è¯•ä¸åŒè¾“å‡ºæ ¼å¼">å°è¯•ä¸åŒè¾“å‡ºæ ¼å¼<a href="#å°è¯•ä¸åŒè¾“å‡ºæ ¼å¼" class="hash-link" aria-label="å°è¯•ä¸åŒè¾“å‡ºæ ¼å¼çš„ç›´æ¥é“¾æ¥" title="å°è¯•ä¸åŒè¾“å‡ºæ ¼å¼çš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<p>é™¤è¾“å…¥æ ¼å¼å¤–ï¼Œè¿˜å¯æ¢ç´¢è¾“å‡ºæ ¼å¼ã€‚å¯¹äºæ•°æ®æå–ã€ç­›é€‰ã€è§£æã€æ’åºã€åˆ†çº§æˆ–åˆ†ç±»ç­‰éåˆ›é€ æ€§ä»»åŠ¡ï¼Œå»ºè®®é‡‡ç”¨JSONæˆ–XMLç­‰ç»“æ„åŒ–æ ¼å¼è¿”å›ç»“æœã€‚</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="json-ä¿®å¤">JSON ä¿® å¤<a href="#json-ä¿®å¤" class="hash-link" aria-label="JSON ä¿®å¤çš„ç›´æ¥é“¾æ¥" title="JSON ä¿®å¤çš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<p>JSON æ ¼å¼æ ¡éªŒä¸¥æ ¼ï¼Œå¯ä»¥ä½¿ç”¨ PyPI çš„ json-repair æ™ºèƒ½ä¿®å¤ JSON æ ¼å¼ã€‚</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="ä½¿ç”¨-schema">ä½¿ç”¨ Schema<a href="#ä½¿ç”¨-schema" class="hash-link" aria-label="ä½¿ç”¨ Schemaçš„ç›´æ¥é“¾æ¥" title="ä½¿ç”¨ Schemaçš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<p>è¾“å…¥æ•°æ®ä¹Ÿå¯ä»¥ä½¿ç”¨ JSON æ ¼å¼é«˜æ•ˆçš„ç»„ç»‡æ•°æ®ã€‚</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="ä¸å…¶ä»–æç¤ºå·¥ç¨‹å¸ˆååŒå®éªŒ">ä¸å…¶ä»–æç¤ºå·¥ç¨‹å¸ˆååŒå®éªŒ<a href="#ä¸å…¶ä»–æç¤ºå·¥ç¨‹å¸ˆååŒå®éªŒ" class="hash-link" aria-label="ä¸å…¶ä»–æç¤ºå·¥ç¨‹å¸ˆååŒå®éªŒçš„ç›´æ¥é“¾æ¥" title="ä¸å…¶ä»–æç¤ºå·¥ç¨‹å¸ˆååŒå®éªŒçš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<p>å½“æ¯ä¸ªäººéƒ½éµå¾ªæœ¬ç« æ‰€è¿°çš„æœ€ä½³å®è·µæ—¶ï¼Œæ‚¨å°†è§‚å¯Ÿåˆ°ä¸åŒæç¤ºæ–¹æ¡ˆé—´çš„æ€§èƒ½å·®å¼‚ã€‚</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="æ€ç»´é“¾æœ€ä½³å®è·µ">æ€ç»´é“¾æœ€ä½³å®è·µ<a href="#æ€ç»´é“¾æœ€ä½³å®è·µ" class="hash-link" aria-label="æ€ç»´é“¾æœ€ä½³å®è·µçš„ç›´æ¥é“¾æ¥" title="æ€ç»´é“¾æœ€ä½³å®è·µçš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<p>è¿›è¡Œæ€ç»´é“¾æç¤ºæ—¶ï¼Œå¿…é¡»å°†ç­”æ¡ˆç½®äºæ¨ç†è¿‡ç¨‹ä¹‹åï¼Œå› ä¸ºæ¨ç†è¿‡ç¨‹çš„ç”Ÿæˆä¼šæ”¹å˜æ¨¡å‹é¢„æµ‹æœ€ç»ˆç­”æ¡ˆæ—¶æ‰€è·å¾—çš„æ ‡è®°ï¼ˆtokenï¼‰ã€‚</p>
<p>ä½¿ç”¨æ€ç»´é“¾ä¸è‡ªæ´½æ€§æ–¹æ³•æ—¶ï¼Œéœ€ç¡®ä¿èƒ½ä»æç¤ºä¸­åˆ†ç¦»å‡ºæœ€ç»ˆç­”æ¡ˆï¼Œä½¿å…¶ç‹¬ç«‹äºæ¨ç†è¿‡ç¨‹ã€‚</p>
<p>æ€ç»´é“¾æç¤ºçš„æ¸©åº¦å‚æ•°åº”è®¾ä¸º0ã€‚</p>
<p>æ€ç»´é“¾æç¤ºåŸºäºè´ªå©ªè§£ç æœºåˆ¶ï¼Œå³è¯­è¨€æ¨¡å‹æ ¹æ®æ¦‚ç‡æœ€é«˜ä¸­çš„ä¸‹ä¸€ä¸ªè¯ã€‚ä¸€èˆ¬è€Œè¨€ï¼Œå½“æ¶‰åŠæ¨ç†å¾—å‡ºæœ€ç»ˆç­”æ¡ˆæ—¶ï¼Œé€šå¸¸å­˜åœ¨å”¯ä¸€æ­£ç¡®ç­”æ¡ˆï¼Œå› æ­¤æ¸©åº¦å‚æ•°åº”å§‹ç»ˆè®¾ç½®ä¸º0ã€‚</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="è®°å½•ä¸åŒæç¤ºå°è¯•æ–¹æ¡ˆ">è®°å½•ä¸åŒæç¤ºå°è¯•æ–¹æ¡ˆ<a href="#è®°å½•ä¸åŒæç¤ºå°è¯•æ–¹æ¡ˆ" class="hash-link" aria-label="è®°å½•ä¸åŒæç¤ºå°è¯•æ–¹æ¡ˆçš„ç›´æ¥é“¾æ¥" title="è®°å½•ä¸åŒæç¤º å°è¯•æ–¹æ¡ˆçš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<p>ç»†è®°å½•æ¯æ¬¡æç¤ºå°è¯•çš„å®Œæ•´ç»†èŠ‚ï¼Œè¿™æ ·æ‰èƒ½é€æ­¥æ€»ç»“å‡ºå“ªäº›æ–¹æ³•æœ‰æ•ˆï¼Œå“ªäº›æ— æ•ˆã€‚</p>
<p>æç¤ºå·¥ç¨‹æ˜¯ä¸€ä¸ªè¿­ä»£è¿‡ç¨‹ã€‚è®¾è®¡å¹¶æµ‹è¯•ä¸åŒæç¤ºæ–¹æ¡ˆï¼Œåˆ†æè®°å½•ç»“æœï¼Œæ ¹æ®æ¨¡å‹è¡¨ç°ä¼˜åŒ–æç¤ºè¯ã€‚æŒç»­å®éªŒç›´è‡³è·å¾—ç†æƒ³è¾“å‡ºã€‚å½“æ›´æ¢æ¨¡å‹æˆ–è°ƒæ•´æ¨¡å‹é…ç½®æ—¶ï¼Œéœ€é‡æ–°ç”¨å…ˆå‰æç¤ºè¯è¿›è¡Œå®éªŒéªŒè¯ã€‚</p>
<p><img decoding="async" loading="lazy" src="https://fastly.jsdelivr.net/gh/bucketio/img18@main/2025/04/23/1745397833321-0027f4c9-b523-4ff8-8f3b-724c8d363e88.png" alt="" class="img_ev3q"></p>
<hr>
<div align="center"><p>æ¬¢è¿å…³æ³¨æˆ‘çš„å…¬ä¼—å·ï¼šå‰ç«¯ç”Ÿå­˜æŒ‡å—ï¼Œä¸€èµ·èŠèŠå‰ç«¯ã€AI å’Œç”Ÿæ´»ã€‚</p><img src="https://cloud-minapp-47803.cloud.ifanrusercontent.com/1tvAM68Cvrx3bfLR.jpg" style="width:180px"></div></div><footer class="row docusaurus-mt-lg"><div class="col"><b>æ ‡ç­¾ï¼š</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/ai">AI</a></li></ul></div></footer></article><article class="margin-bottom--xl"><header><h2 class="title_f1Hy"><a href="/blog/2025-04-23-google-promtps.md">è°·æ­Œæç¤ºè¯å·¥ç¨‹ - æ¨¡å‹åŸç†å’Œæç¤ºè¯æŠ€æœ¯</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2025-04-23T00:00:00.000Z">2025å¹´4æœˆ23æ—¥</time> Â· <!-- -->é˜…è¯»éœ€ 5 åˆ†é’Ÿ</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--12 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/sleepy-zone" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo authorImage_XqGP" src="https://avatars.githubusercontent.com/u/131369648?v=4" alt="SleepyZone"></a><div class="avatar__intro authorDetails_lV9A"><div class="avatar__name"><a href="https://github.com/sleepy-zone" target="_blank" rel="noopener noreferrer"><span class="authorName_yefp">SleepyZone</span></a></div><small class="authorTitle_nd0D" title="å‰ç«¯å¼€å‘ /   å¼€æºçˆ±å¥½è€…">å‰ç«¯å¼€å‘ / å¼€æºçˆ±å¥½è€…</small><div class="authorSocials_rSDt"></div></div></div></div></div></header><div class="markdown"><p><img decoding="async" loading="lazy" src="https://fastly.jsdelivr.net/gh/bucketio/img6@main/2025/04/23/1745392049583-b2db7b1e-2f2b-4565-8252-14f946e00719.png" alt="" class="img_ev3q"></p>
<p>è°·æ­Œå‰æ®µæ—¶é—´å‘å¸ƒäº†æç¤ºè¯å·¥ç¨‹ç™½çš®ä¹¦ï¼Œå·²ç»æœ‰å¾ˆå¤šåšä¸»æ¨èäº†ï¼Œæœ€è¿‘ç»ˆäºæœ‰æ—¶é—´é˜…è¯»ä¸€ä¸‹ã€‚ä»¥ä¸‹æ˜¯ç¬”è®°è®°å½•ã€‚</p>
<p>åŸæ–‡ï¼š<a href="https://drive.google.com/file/d/1AbaBYbEa_EbPelsT40-vj64L-2IwUJHy/view?pli=1" target="_blank" rel="noopener noreferrer">https://drive.google.com/file/d/1AbaBYbEa_EbPelsT40-vj64L-2IwUJHy/view?pli=1</a></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="æ¨¡å‹å·¥ä½œåŸç†">æ¨¡å‹å·¥ä½œåŸç†<a href="#æ¨¡å‹å·¥ä½œåŸç†" class="hash-link" aria-label="æ¨¡å‹å·¥ä½œåŸç†çš„ç›´æ¥é“¾æ¥" title="æ¨¡å‹å·¥ä½œåŸç†çš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<p>å¤§è¯­è¨€æ¨¡å‹çš„æœ¬è´¨æ˜¯<strong>é¢„æµ‹</strong>ã€‚æ¨¡å‹æ¥å—è¾“å…¥æ–‡æœ¬ï¼Œæ ¹æ®è®­ç»ƒæ•°æ®å¾ªç¯é¢„æµ‹åç»­çš„æ–‡æœ¬ã€‚æç¤ºè¯å°±æ˜¯åœ¨å¼•å¯¼æ¨¡å‹æ­£ç¡®çš„é¢„æµ‹ã€‚</p>
<p>å¦å¤–éœ€è¦äº†è§£æ¨¡å‹çš„è¾“å‡ºé…ç½®ï¼Œå¦‚æœä½ è°ƒç”¨è¿‡å¤§æ¨¡å‹çš„ API åº”è¯¥å¯¹è¿™äº›å‚æ•°æ¯”è¾ƒç†Ÿæ‚‰ã€‚</p>
<p><strong>Output length</strong>ï¼šè¾“å‡ºé•¿åº¦é™åˆ¶å¯¹äºå¤§æ¨¡å‹çš„æ€§èƒ½ï¼Œå“åº”æ—¶é—´å°¤ä¸ºé‡è¦ã€‚</p>
<p><strong>Sampling controls</strong>ï¼šæ§åˆ¶é¢„æµ‹ç»“æœ</p>
<p>Temperatureï¼Œè¶Šé«˜åˆ™è¾“å‡ºç»“æœè¶Šå‘æ•£ï¼Œè¶Šä½åˆ™ç»“æœæ›´å…·æœ‰ç¡®å®šæ€§ã€‚top-K å’Œ top-P å’Œ Temperature ç±»ä¼¼ï¼Œå€¼è¶Šé«˜ï¼Œåˆ™è¾“å‡ºç»“æœè¶Šå…·æœ‰åˆ›é€ æ€§å’Œå¤šæ ·æ€§ã€‚è¶Šé«˜ã€‚</p>
<p>æ–‡æ¡£ä¸­ç»™å‡ºäº†å‡ ä¸ªåœºæ™¯çš„é…ç½®æ ·ä¾‹ï¼š</p>
<ol>
<li>Temperature å€¼ 0.2ã€top-P å€¼ 0.95 å’Œ top-K å€¼ 30 çš„ç»„åˆèƒ½äº§ç”Ÿç›¸å¯¹è¿è´¯ä¸”é€‚åº¦åˆ›æ–°çš„ç»“æœã€‚</li>
<li>è‹¥è¿½æ±‚æ›´é«˜åˆ›é€ æ€§ï¼Œå¯ Temperature å€¼ 0.9ã€top-P å€¼ 0.99 å’Œ top-K å€¼40 çš„é…ç½®ã€‚</li>
<li>å¦‚éœ€æ›´ä¿å®ˆçš„è¾“å‡ºï¼Œå»ºè®®é‡‡ç”¨ Temperature å€¼ 0.1ã€top-P å€¼0.9 å’Œ top-Kå€¼ 20 çš„å‚æ•°ã€‚</li>
<li> å¯¹äºå­˜åœ¨å”¯ä¸€æ­£ç¡®ç­”æ¡ˆçš„ä»»åŠ¡ï¼ˆå¦‚æ•°å­¦é¢˜æ±‚è§£ï¼‰ ï¼Œåº”å°† Temperature å€¼è®¾ä¸º 0ã€‚</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="æç¤ºè¯æŠ€æœ¯">æç¤ºè¯æŠ€æœ¯<a href="#æç¤ºè¯æŠ€æœ¯" class="hash-link" aria-label="æç¤ºè¯æŠ€æœ¯çš„ç›´æ¥é“¾æ¥" title="æç¤ºè¯æŠ€æœ¯çš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="é›¶æ ·æœ¬zero-shot">é›¶æ ·æœ¬ï¼ˆzero shotï¼‰<a href="#é›¶æ ·æœ¬zero-shot" class="hash-link" aria-label="é›¶æ ·æœ¬ï¼ˆzero shotï¼‰çš„ç›´æ¥é“¾æ¥" title="é›¶æ ·æœ¬ï¼ˆzero shotï¼‰çš„ç›´æ¥é“¾æ¥">â€‹</a></h4>
<p>é›¶æ ·æœ¬ä»…æä¾›ä»»åŠ¡æè¿°å’Œä¾›å¤§è¯­è¨€æ¨¡å‹å¤„ç†çš„æ–‡æœ¬ã€‚ä¸è¿‡å¯ä»¥é€šè¿‡å¢åŠ å•ä¸ªç¤ºä¾‹ï¼ˆ<strong>å•æ ·æœ¬</strong>ï¼‰æˆ–è€…å¤šä¸ªç¤ºä¾‹ï¼ˆ<strong>å°‘æ ·æœ¬</strong>ï¼‰è®©æ¨¡å‹è¾“å‡ºæ›´ç¬¦åˆè¦æ±‚çš„å†…å®¹ã€‚</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="ç³»ç»Ÿæç¤ºsystem-prompting">ç³»ç»Ÿæç¤ºï¼ˆSystem Promptingï¼‰<a href="#ç³»ç»Ÿæç¤ºsystem-prompting" class="hash-link" aria-label="ç³»ç»Ÿæç¤ºï¼ˆSystem Promptingï¼‰çš„ç›´æ¥é“¾æ¥" title="ç³»ç»Ÿæç¤ºï¼ˆSystem Promptingï¼‰çš„ç›´æ¥é“¾æ¥">â€‹</a></h4>
<p>ç³»ç»Ÿæç¤ºè®¾å®šè¯­è¨€æ¨¡å‹çš„æ•´ä½“è¯­å¢ƒå’Œç›®çš„ï¼Œæ˜ç¡®æ¨¡å‹åº”æ‰§è¡Œçš„å®è§‚ä»»åŠ¡ï¼Œå¦‚è¯­è¨€ç¿»è¯‘ã€è¯„è®ºåˆ†ç±»ç­‰ã€‚</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="è§’è‰²æç¤ºrole-prompting">è§’è‰²æç¤ºï¼ˆRole promptingï¼‰<a href="#è§’è‰²æç¤ºrole-prompting" class="hash-link" aria-label="è§’è‰²æç¤ºï¼ˆRole promptingï¼‰çš„ç›´æ¥é“¾æ¥" title="è§’è‰²æç¤ºï¼ˆRole promptingï¼‰çš„ç›´æ¥é“¾æ¥">â€‹</a></h4>
<p>ç»™æ¨¡å‹åˆ†é…ç‰¹æ ¹æ®å®šè§’è‰²ï¼Œä½¿æ¨¡å‹èƒ½è§’è‰²å®šä½ç”Ÿæˆæ›´ç›¸å…³ã€ä¿¡æ¯é‡æ›´å¤§çš„è¾“å‡ºã€‚</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="æƒ…å¢ƒæç¤ºcontextual-prompting">æƒ…å¢ƒæç¤ºï¼ˆContextual promptingï¼‰<a href="#æƒ…å¢ƒæç¤ºcontextual-prompting" class="hash-link" aria-label="æƒ…å¢ƒæç¤ºï¼ˆContextual promptingï¼‰çš„ç›´æ¥é“¾æ¥" title="æƒ…å¢ƒæç¤ºï¼ˆContextual promptingï¼‰çš„ç›´æ¥é“¾æ¥">â€‹</a></h4>
<p>ç»™æ¨¡å‹æä¾›ä¸Šä¸‹æ–‡æç¤º ï¼Œæ¯”å¦‚ï¼š</p>
<blockquote>
<p>èƒŒæ™¯ï¼šæ‚¨æ­£åœ¨ä¸ºä¸€å®¶å…³äº80å¹´ä»£å¤å¤è¡—æœºæ¸¸æˆçš„åšå®¢æ’°ç¨¿ã€‚è¯·å»ºè®®3ä¸ªæ–‡ç« ä¸»é¢˜ï¼Œå¹¶é™„ä¸Šç®€è¦è¯´æ˜æ¯ç¯‡æ–‡ç« åº”åŒ…å«çš„å†…å®¹ã€‚</p>
</blockquote>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="å›é€€å¼æç¤ºstep-back-prompting">å›é€€å¼æç¤ºï¼ˆStep-back promptingï¼‰<a href="#å›é€€å¼æç¤ºstep-back-prompting" class="hash-link" aria-label="å›é€€å¼æç¤ºï¼ˆStep-back promptingï¼‰çš„ç›´æ¥é“¾æ¥" title="å›é€€å¼æç¤ºï¼ˆStep-back promptingï¼‰çš„ç›´æ¥é“¾æ¥">â€‹</a></h4>
<p>å›é€€å¼æç¤ºæ³•æ˜¯ä¸€ç§é€šè¿‡è®©å¤§è¯­è¨€æ¨¡å‹å…ˆæ€è€ƒä¸å½“å‰å…·ä½“ä»»åŠ¡ç›¸å…³çš„å®è§‚é—®é¢˜ï¼Œå†å°†å®è§‚é—®é¢˜çš„ç­”æ¡ˆä½œä¸ºåç»­å…·ä½“ä»»åŠ¡æç¤ºçš„è¾“å…¥ï¼Œä»è€Œæå‡æ¨¡å‹è¡¨ç°çš„æŠ€æœ¯ã€‚</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="æ€ç»´é“¾chain-of-thoughtcot">æ€ç»´é“¾ï¼ˆChain of Thoughtï¼ŒCoTï¼‰<a href="#æ€ç»´é“¾chain-of-thoughtcot" class="hash-link" aria-label="æ€ç»´é“¾ï¼ˆChain of Thoughtï¼ŒCoTï¼‰çš„ç›´æ¥é“¾æ¥" title="æ€ç»´é“¾ï¼ˆChain of Thoughtï¼ŒCoTï¼‰çš„ç›´æ¥é“¾æ¥">â€‹</a></h4>
<p>æ€ç»´é“¾ä¸€ç§é€šè¿‡ç”Ÿæˆä¸­é—´æ¨ç†æ­¥éª¤æ¥æå‡å¤§è¯­è¨€æ¨¡å‹æ¨ç†èƒ½åŠ›çš„æŠ€æœ¯ã€‚æ€ç»´é“¾ç‰¹åˆ«é€‚åˆä»£ç ç”Ÿæˆæ—¶ï¼Œåˆ†è§£éœ€æ±‚é€æ­¥è¾“å‡ºä»£ç çš„è¿‡ç¨‹ã€‚</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="æ€ç»´æ ‘tree-of-thoughtstot">æ€ç»´æ ‘ï¼ˆTree of Thoughtsï¼ŒToTï¼‰<a href="#æ€ç»´æ ‘tree-of-thoughtstot" class="hash-link" aria-label="æ€ç»´æ ‘ï¼ˆTree of Thoughtsï¼ŒToTï¼‰çš„ç›´æ¥é“¾æ¥" title="æ€ç»´æ ‘ï¼ˆTree of Thoughtsï¼ŒToTï¼‰çš„ç›´æ¥é“¾æ¥">â€‹</a></h4>
<p>æ€ç»´æ ‘å…è®¸å¤§è¯­è¨€æ¨¡å‹åŒæ—¶æ¢ç´¢å¤šæ¡ä¸åŒçš„æ¨ç†è·¯å¾„ï¼Œè€Œéä»…éµå¾ªå•ä¸€çº¿æ€§æ€ç»´é“¾ã€‚é€‚åˆæ¢ç´¢å¤æ‚ä»»åŠ¡ã€‚</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="æ¨ç†ä¸è¡ŒåŠ¨reactreason--act">æ¨ç†ä¸è¡ŒåŠ¨ï¼ˆReActï¼Œreason &amp; actï¼‰<a href="#æ¨ç†ä¸è¡ŒåŠ¨reactreason--act" class="hash-link" aria-label="æ¨ç†ä¸è¡ŒåŠ¨ï¼ˆReActï¼Œreason &amp; actï¼‰çš„ç›´æ¥é“¾æ¥" title="æ¨ç†ä¸è¡ŒåŠ¨ï¼ˆReActï¼Œreason &amp; actï¼‰çš„ç›´æ¥é“¾æ¥">â€‹</a></h4>
<p>å¤§æ¨¡å‹åŸºäºè‡ªç„¶è¯­è¨€æ¨ç†å’Œå¤–éƒ¨å·¥å…·ï¼ˆæœç´¢ã€ä»£ç è§£é‡Šå™¨ç­‰ï¼‰æ¥è§£å†³å¤æ‚ä»»åŠ¡ã€‚åªæ˜¯å®ç°æ™ºèƒ½ä½“ï¼ˆAgentï¼‰ç¬¬ä¸€æ­¥ã€‚è¿™éƒ¨åˆ†éœ€è¦æœ‰ç¼–å†™ä»£ç çš„èƒ½åŠ›ï¼Œæˆ–è€…å€ŸåŠ©å…¶ä»–æ™ºèƒ½ä½“æ„å»ºå·¥å…·ã€‚</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="å…¶ä»–">å…¶ä»–<a href="#å…¶ä»–" class="hash-link" aria-label="å…¶ä»–çš„ç›´æ¥é“¾æ¥" title="å…¶ä»–çš„ç›´æ¥é“¾æ¥">â€‹</a></h4>
<p>å¯ä»¥å€ŸåŠ©å¤§æ¨¡å‹ä¼˜åŒ–æç¤ºè¯ã€‚</p>
<p>æ–‡æ¡£è¿˜ä¸“é—¨æåˆ°äº†ä»£ç ç›¸å…³çš„æç¤ºï¼Œç¼–å†™è„šæœ¬ã€è§£é‡Šä»£ç ã€è°ƒè¯•ã€Reviewç­‰ç­‰ã€‚</p>
<hr>
<div align="center"><p>æ¬¢è¿å…³æ³¨æˆ‘çš„å…¬ä¼—å·ï¼šå‰ç«¯ç”Ÿå­˜æŒ‡å—ï¼Œä¸€èµ·èŠèŠå‰ç«¯ã€AI å’Œç”Ÿæ´»ã€‚</p><img src="https://cloud-minapp-47803.cloud.ifanrusercontent.com/1tvAM68Cvrx3bfLR.jpg" style="width:180px"></div></div><footer class="row docusaurus-mt-lg"><div class="col"><b>æ ‡ç­¾ï¼š</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/ai">AI</a></li></ul></div></footer></article><article class="margin-bottom--xl"><header><h2 class="title_f1Hy"><a href="/blog/2025-04-21-old-fe-1.md">ç›˜ç‚¹å‰ç«¯è¿˜åœ¨æ›´æ–°çš„è€é¡¹ç›®</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2025-04-21T00:00:00.000Z">2025å¹´4æœˆ21æ—¥</time> Â· <!-- -->é˜…è¯»éœ€ 4 åˆ†é’Ÿ</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--12 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/sleepy-zone" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo authorImage_XqGP" src="https://avatars.githubusercontent.com/u/131369648?v=4" alt="SleepyZone"></a><div class="avatar__intro authorDetails_lV9A"><div class="avatar__name"><a href="https://github.com/sleepy-zone" target="_blank" rel="noopener noreferrer"><span class="authorName_yefp">SleepyZone</span></a></div><small class="authorTitle_nd0D" title="å‰ç«¯å¼€å‘ / å¼€æºçˆ±å¥½è€…">å‰ç«¯å¼€å‘ / å¼€æºçˆ± å¥½è€…</small><div class="authorSocials_rSDt"></div></div></div></div></div></header><div class="markdown"><p>ä»Šå¤©ä¸èŠ AIï¼ŒèŠç‚¹å‰ç«¯ã€‚å†’ç€æš´éœ²å¹´é¾„çš„é£é™©èŠç‚¹å‰ç«¯é‡Œè¿˜åœ¨æ›´æ–°çš„è€é¡¹ç›®ã€‚</p>
<p>ï¼ˆå…¶å® Reactã€Vue è¿™äº›åº“ä¹Ÿç®—è€é¡¹ç›®äº†ï¼Œä¸è¿‡ä¸å†æˆ‘ä»¬è®¨è®ºä¹‹åˆ—ï¼Œä¸»è¦è®¨è®ºé‚£äº›æˆ‘ä»¬å¹³æ—¶åŸºæœ¬è§ä¸åˆ°ä½†ä¸€ç›´æ›´æ–°çš„é¡¹ç›®ï¼‰</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="jquery">jQuery<a href="#jquery" class="hash-link" aria-label="jQueryçš„ç›´æ¥é“¾æ¥" title="jQueryçš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<p>jQuery ç®—æ˜¯è€é¡¹ç›®é‡Œçš„ä»£è¡¨é‡Œï¼Œä»–çš„ <code>$</code> è¯­æ³•å¯ä»¥è¯´æ˜¯åˆ«å…·ä¸€æ ¼ï¼Œåœ¨é‚£ä¸ªéœ€è¦æµè§ˆå™¨å…¼å®¹çš„å¹´ä»£ç‹¬æ ‘ä¸€å¸œã€‚</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">ajax</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">url</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;/api/getWeather&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">data</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">zipcode</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">97201</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function-variable function" style="color:#d73a49">success</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">function</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"> </span><span class="token parameter">result</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">$</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;#weather-temp&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">html</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;&lt;strong&gt;&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> result </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;&lt;/strong&gt; degrees&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">var</span><span class="token plain"> hiddenBox </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">$</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;#banner-message&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">$</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;#button-container button&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">on</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;click&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">function</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"> </span><span class="token parameter">event</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  hiddenBox</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">show</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Github ä¸Šçœ‹äº†ä¸€ä¸‹ 2022 å¹´å°±å·²ç»å¼€å§‹ç€æ‰‹å‡†å¤‡ 4.0 ç‰ˆæœ¬äº†ï¼ˆ<a href="https://github.com/jquery/jquery/milestone/7%EF%BC%89%E3%80%82" target="_blank" rel="noopener noreferrer">https://github.com/jquery/jquery/milestone/7ï¼‰ã€‚</a></p>
<p><img decoding="async" loading="lazy" src="https://fastly.jsdelivr.net/gh/bucketio/img12@main/2025/04/21/1745215856167-0f66a243-84a9-4b9c-90ac-7ece5e2c38ad.png" alt="" class="img_ev3q"></p>
<p><a href="https://jquery.com/" target="_blank" rel="noopener noreferrer">å®˜ç½‘</a>è¡¨ç¤º 4.0 ç‰ˆæœ¬å³å°†å‘å¸ƒäº†ï¼š</p>
<blockquote>
<p>jQuery 4.0 is coming soon! Prepare by upgrading to the latest jQuery 3.x release. Learn more about our version support.</p>
</blockquote>
<p>å¦ä¸€ä¸ªä¸ä¹‹ç›¸ä¼¼çš„é¡¹ç›® <a href="https://zeptojs.com/" target="_blank" rel="noopener noreferrer">zepto.js</a> ä¸çŸ¥é“å¤§å®¶æœ‰æ²¡æœ‰å¬è¯´è¿‡ï¼Œä½œä¸ºå½“æ—¶åœ¨ mobile é¡¹ç›®ä¸Šçš„æ›¿ä»£å“ã€‚ç›®å‰çœ‹ Github å·²ç»ç•™åœ¨ 6 å¹´å‰äº†ã€‚</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="gulp">Gulp<a href="#gulp" class="hash-link" aria-label="Gulpçš„ç›´æ¥é“¾æ¥" title="Gulpçš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<p>åœ¨è¿˜æ²¡æœ‰ Webpack çš„å¹´ä»£ï¼Œ<a href="https://gulpjs.com/" target="_blank" rel="noopener noreferrer">Gulp</a> æ˜¯æˆ‘è®¤ä¸ºæœ€å¥½ç”¨çš„è‡ªåŠ¨åŒ–æ„å»ºå·¥å…·äº†ã€‚æµå¼æˆ–è€…å¹¶è¡Œçš„å°†æ„å»ºä»»åŠ¡ä¸²è”èµ·æ¥ï¼Œè€Œä¸”æ”¯æŒæ’ä»¶æ‰©å±•ã€‚</p>
<p><img decoding="async" loading="lazy" src="https://fastly.jsdelivr.net/gh/bucketio/img12@main/2025/04/21/1745216667840-037ba719-c87e-4de2-8baa-b86b07504351.png" alt="" class="img_ev3q"></p>
<p>å»å¹´ 3 æœˆï¼ˆ2024/3/29ï¼‰ï¼Œ<a href="https://medium.com/gulpjs/announcing-gulp-v5-c67d077dbdb7" target="_blank" rel="noopener noreferrer">Gulp 5 æ­£å¼å‘å¸ƒ</a>ã€‚</p>
<blockquote>
<p>Gulp 5 çš„å‘å¸ƒä¹‹è·¯æ¼«é•¿ï¼Œä½†æˆ‘ä»¬ç»ˆäºæ¥äº†ï¼æ­¤ç‰ˆæœ¬å‡èšäº† 60 å¤šä¸ªé¡¹ç›®å››å¹´çš„å¿ƒè¡€ã€‚å›¢é˜Ÿä¸€å…±è§£å†³äº† 200 å¤šä¸ªé—®é¢˜å’Œ Pull Requestã€‚ğŸ¤¯</p>
</blockquote>
<p>Gulp ä¹‹å‰è¿˜æœ‰ä¸€ä¸ªç±»ä¼¼çš„é¡¹ç›®ï¼š<a href="https://gruntjs.com/" target="_blank" rel="noopener noreferrer">Grunt</a>ï¼Œä¸è¿‡æœ€åæ›´æ–°æ—¶é—´åœç•™åœ¨äº† 2021 å¹´ã€‚</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="fabricjs">fabric.js<a href="#fabricjs" class="hash-link" aria-label="fabric.jsçš„ç›´æ¥é“¾æ¥" title="fabric.jsçš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<p><a href="https://fabricjs.com/docs/" target="_blank" rel="noopener noreferrer">fabric.js</a> æ˜¯ä¸€ä¸ª Canvas 2D æ“ä½œåº“ï¼ŒæŠŠæ“ä½œ Canvas å˜çš„å’Œæ“ä½œ JS Object ä¸€æ ·ç®€å•ã€‚</p>
<p>è™½ç„¶å¾ˆå¥½ç”¨ï¼Œä½†ä»£ç ä¾ç„¶æ˜¯ ES5 æ—¶ä»£ï¼Œä»£ç åº“é‡Œå¾ˆå¤š Object.prototypeï¼Œè¿˜æœ‰ä¸€äº› polyfill codeã€‚ä¸è¿‡ç»ˆäºå»å¹´å‘å¸ƒäº† v6 å¤§ç‰ˆæœ¬ï¼Œæ”¯æŒäº† TypeScriptã€‚</p>
<p><img decoding="async" loading="lazy" src="https://fastly.jsdelivr.net/gh/bucketio/img9@main/2025/04/21/1745217332670-feb3786f-71d6-4a97-a8b4-58f82f690f41.png" alt="" class="img_ev3q"></p>
<div class="language-ts codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ts codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> React</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> useEffect</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> useRef </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;react&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> fabric </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;fabric&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// v6</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> fabric </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;fabric&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// v5</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">export</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:#d73a49">FabricJSCanvas</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> canvasEl </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token generic-function function" style="color:#d73a49">useRef</span><span class="token generic-function generic class-name operator" style="color:#393A34">&lt;</span><span class="token generic-function generic class-name">HTMLCanvasElement</span><span class="token generic-function generic class-name operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">null</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">useEffect</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> options </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">...</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> canvas </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">fabric</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">Canvas</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">canvasEl</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">current</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> options</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// make the fabric.Canvas instance available to your app</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">updateCanvasContext</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">canvas</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token function" style="color:#d73a49">updateCanvasContext</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">null</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      canvas</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">dispose</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">canvas width</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;300&quot;</span><span class="token plain"> height</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;300&quot;</span><span class="token plain"> ref</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">canvasEl</span><span class="token punctuation" style="color:#393A34">}</span><span class="token operator" style="color:#393A34">/</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>æˆ‘çš„ <a href="https://github.com/sleepy-zone/fabritor-web" target="_blank" rel="noopener noreferrer">fabritor</a> å°±æ˜¯åŸºäº fabric.js æ„å»ºçš„ï¼Œåé¢ä¹Ÿè®¡åˆ’å‡çº§åˆ° 6.0 ç‰ˆæœ¬ã€‚</p>
<hr>
<p>ä»Šå¤©å…ˆæ›´æ–°åˆ°è¿™é‡Œï¼Œä½ è¿˜çŸ¥é“å“ªäº›è€é¡¹ç›®å·²ç»åœ¨åšæŒæ›´æ–°ï¼Ÿ</p>
<hr>
<div align="center"><p>æ¬¢è¿å…³æ³¨æˆ‘çš„å…¬ä¼—å·ï¼šå‰ç«¯ç”Ÿå­˜æŒ‡å—ï¼Œä¸€èµ·èŠèŠå‰ç«¯ã€AI å’Œç”Ÿæ´»ã€‚</p><img src="https://cloud-minapp-47803.cloud.ifanrusercontent.com/1tvAM68Cvrx3bfLR.jpg" style="width:180px"></div></div><footer class="row docusaurus-mt-lg"><div class="col"><b>æ ‡ç­¾ï¼š</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/frontend">frontend</a></li></ul></div></footer></article><article class="margin-bottom--xl"><header><h2 class="title_f1Hy"><a href="/blog/2025-04-14-github-no-vistit.md">ä» Github ä¸èƒ½è®¿é—®æƒ³åˆ°çš„</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2025-04-14T00:00:00.000Z">2025å¹´4æœˆ14æ—¥</time> Â· <!-- -->é˜…è¯»éœ€ 3 åˆ†é’Ÿ</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--12 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/sleepy-zone" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo authorImage_XqGP" src="https://avatars.githubusercontent.com/u/131369648?v=4" alt="SleepyZone"></a><div class="avatar__intro authorDetails_lV9A"><div class="avatar__name"><a href="https://github.com/sleepy-zone" target="_blank" rel="noopener noreferrer"><span class="authorName_yefp">SleepyZone</span></a></div><small class="authorTitle_nd0D" title="å‰ç«¯å¼€å‘ / å¼€æºçˆ±å¥½è€…">å‰ç«¯å¼€å‘ / å¼€æºçˆ±å¥½è€…</small><div class="authorSocials_rSDt"></div></div></div></div></div></header><div class="markdown"><p>ä¸Šå‘¨æœ«ä¸­å›½æœªç™»å½•ç”¨æˆ·æ— æ³•è®¿é—® Githubï¼Œç¬é—´åœ¨ç¤¾äº¤åª’ä½“å¼•èµ·è½©ç„¶å¤§æ³¢ã€‚</p>
<p><img decoding="async" loading="lazy" src="https://fastly.jsdelivr.net/gh/bucketio/img7@main/2025/04/14/1744620520993-54adfc65-507b-439a-924b-a5e91ee9353d.png" alt="" class="img_ev3q"></p>
<p>æœ‰äººç©æ¢—ğŸ˜‚ï¼š</p>
<p><img decoding="async" loading="lazy" src="https://fastly.jsdelivr.net/gh/bucketio/img12@main/2025/04/14/1744620550287-2096f2d6-3fbe-410b-aa43-c448dc927077.png" alt="" class="img_ev3q"></p>
<p>æœ‰äººç„¦è™‘ï¼Œè™½ç„¶ä¹‹å‰å·²ç»æœ‰åœ°æ–¹æ— æ³•æ­£å¸¸è®¿é—® Githubï¼Œä½†åŸå› å¿ƒçŸ¥è‚šæ˜ã€‚è¿™æ¬¡ç–‘ä¼¼ Github ä¸»åŠ¨å±è”½ä¸­å›½ IPï¼Œå’Œ OpenAI ç±»ä¼¼ï¼Œä¸å…è®©äººæ€€ç–‘ï¼Œéš¾é“æœ€è¿‘çš„å¤§å›½åšå¼ˆå¼€å§‹å½±å“ Githubï¼Ÿ</p>
<p>æœ‰äººè¡¨ç¤ºé—®é¢˜ä¸å¤§ï¼Œæ¯•ç«Ÿå“ªä¸ªç¨‹åºå‘˜ä¸ç”¨é­”æ³•ä¸Šç½‘ï¼Ÿ</p>
<p>æœ‰äººå¼€å§‹æƒ³é€€è·¯ï¼Œæ˜¯ä¸æ˜¯å¯ä»¥å¤‡ä»½å¼€æºé¡¹ç›®äº†ï¼Œä¸€æ—¦æ— æ³•è®¿é—®ï¼Œè€Œåˆæ²¡æœ‰å¤‡ä»½ï¼Œæƒ³æƒ³å°±å¿ƒç—›ã€‚</p>
<p>ä¸è¿‡æœ€å Github å‘å¸ƒå…¬å‘Šæ˜¯å› ä¸ºé…ç½®å˜æ›´å¯¼è‡´è¿™ä¸ªé—®é¢˜ï¼ˆ<a href="https://www.githubstatus.com/incidents/jfvgcls9swln%EF%BC%89%EF%BC%9A" target="_blank" rel="noopener noreferrer">https://www.githubstatus.com/incidents/jfvgcls9swlnï¼‰ï¼š</a></p>
<blockquote>
<p>ç”±äºé…ç½®å˜æ›´é€ æˆäº†æ„å¤–å½±å“ï¼Œæœªç™»å½•çš„ç”¨æˆ·ä»ä¸­å›½è®¿é—® GitHub.com æ—¶æš‚æ—¶æ— æ³•è®¿é—®ã€‚å·²ç™»å½•çš„ç”¨æˆ·ä»å¯ç»§ç»­ è®¿é—®ã€‚å½±å“äº 2025 å¹´ 4 æœˆ 12 æ—¥ 20:01 UTC å¼€å§‹ã€‚å½±å“å·²äº 2025 å¹´ 4 æœˆ 13 æ—¥ 14:55 UTC ç¼“è§£ã€‚å¯¼è‡´æ­¤å½±å“çš„é…ç½®æ›´æ”¹å·²è¢«æ’¤é”€ï¼Œç”¨æˆ·åœ¨å°è¯•è®¿é—® GitHub.com æ—¶åº”è¯¥ä¸ä¼šå†é‡åˆ°é—®é¢˜ã€‚</p>
</blockquote>
<p>ï¼ˆä¸å¾—ä¸æ„Ÿæ…¨è€å¤–æ˜¯æ¾å¼›ï¼Œæå›½å†… p0 æ•…éšœåŠ  325 èµ·æ­¥ğŸ˜­ï¼‰</p>
<hr>
<p>äº‹æƒ…å°±æ˜¯è¿™ä¹ˆä¸ªäº‹æƒ…ï¼Œçœ‹èµ·æ¥åƒä¸€åœºé—¹å‰§ï¼Œå›½å†…å¼€å‘è€…è®¨è®ºäº†åŠå¤©çŒœäº†åŠå¤©ï¼Œæœ€åä»¥ä¸€ä¸ªå…¬å‘Šç»“æŸã€‚</p>
<p>å…¶å®æˆ‘æƒ³è¯´çš„æ˜¯ï¼Œå›½å†…çš„å¼€å‘è€…è¿‡çš„ç¡®å®å¤ªè‹¦äº†ã€‚</p>
<p>æƒ³è·å¾—ä¿¡æ¯ï¼Œå…¨æ˜¯è‹±æ–‡æ–‡æ¡£ï¼Œè™½ç„¶ç°åœ¨ AI å¤§å¤§é™ä½äº†é˜…è¯»çš„é—¨æ§›ã€‚</p>
<p>è€Œ AI ï¼Œåƒ  OpenAIã€Anthropic éƒ½æ˜¯ä¸»åŠ¨å±è”½ä¸­å›½ IP çš„ï¼Œæ‰€ä»¥éœ€è¦æŒæ¡ä¸€å®šçš„ä¸Šç½‘æŠ€å·§ï¼Œèº²é¿ä¸¤è¾¹çš„ç½‘ç»œé™åˆ¶ã€‚</p>
<p>è€Œç°åœ¨å†…å¤–çš„ç¯å¢ƒåˆå……æ»¡äº†ä¸ç¡®å®šæ€§ã€‚ä¸è®ºæ˜¯æ‰“å·¥è¿˜æ˜¯ç‹¬ç«‹å¼€å‘éƒ½æ˜¯å›°éš¾é‡é‡ã€‚</p>
<p>æ‰€ä»¥ Github ä¸€ç‚¹ç‚¹çš„ç½‘ç»œæ³¢åŠ¨å°±å½±å“äº†åƒåƒä¸‡ä¸‡çš„å›½å†…å¼€å‘è€…ã€‚</p>
<p>å°±ç›®å‰æ¥çœ‹ï¼Œä¹Ÿå¾ˆéš¾å¯„å¸Œæœ›äºå›½å†…èƒ½å‡ºç° Github åŒçº§åˆ«çš„æœåŠ¡ï¼Œå‡ºç°äº†å¤§æ¦‚ç‡ä¹Ÿä¼šæœ‰å¾ˆå¤šå¥‡å¥‡æ€ªæ€ªçš„éªšæ“ä½œã€‚</p>
<p>ä»¥ä¸Šã€‚</p>
<hr>
<div align="center"><p>æ¬¢è¿å…³æ³¨æˆ‘çš„å…¬ä¼—å·ï¼šå‰ç«¯ç”Ÿå­˜æŒ‡å—ï¼Œä¸€èµ·èŠèŠå‰ç«¯ã€AI å’Œç”Ÿæ´»ã€‚</p><img src="https://cloud-minapp-47803.cloud.ifanrusercontent.com/1tvAM68Cvrx3bfLR.jpg" style="width:180px"></div></div><footer class="row docusaurus-mt-lg"><div class="col"><b>æ ‡ç­¾ï¼š</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/talk">talk</a></li></ul></div></footer></article><nav class="pagination-nav" aria-label="åšæ–‡åˆ—è¡¨åˆ†é¡µå¯¼èˆª"><a class="pagination-nav__link pagination-nav__link--next" href="/blog/page/2"><div class="pagination-nav__label">è¾ƒæ—§çš„åšæ–‡</div></a></nav></main></div></div></div></div>
</body>
</html>
<!doctype html>
<html lang="zh-Hans" dir="ltr" class="blog-wrapper blog-list-page plugin-blog plugin-id-default" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.7.0">
<title data-rh="true">Blog | 😴 Sleepy Zone</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://sleepy-zone.github.io/blog"><meta data-rh="true" property="og:locale" content="zh_Hans"><meta data-rh="true" name="docusaurus_locale" content="zh-Hans"><meta data-rh="true" name="docsearch:language" content="zh-Hans"><meta data-rh="true" property="og:title" content="Blog | 😴 Sleepy Zone"><meta data-rh="true" name="description" content="Blog"><meta data-rh="true" property="og:description" content="Blog"><meta data-rh="true" name="docusaurus_tag" content="blog_posts_list"><meta data-rh="true" name="docsearch:docusaurus_tag" content="blog_posts_list"><link data-rh="true" rel="icon" href="/img/logo.svg"><link data-rh="true" rel="canonical" href="https://sleepy-zone.github.io/blog"><link data-rh="true" rel="alternate" href="https://sleepy-zone.github.io/blog" hreflang="zh-Hans"><link data-rh="true" rel="alternate" href="https://sleepy-zone.github.io/blog" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"Blog","@id":"https://sleepy-zone.github.io/blog","mainEntityOfPage":"https://sleepy-zone.github.io/blog","headline":"Blog","description":"Blog","blogPost":[{"@type":"BlogPosting","@id":"https://sleepy-zone.github.io/blog/2025-04-24-google-promtps-2.md","mainEntityOfPage":"https://sleepy-zone.github.io/blog/2025-04-24-google-promtps-2.md","url":"https://sleepy-zone.github.io/blog/2025-04-24-google-promtps-2.md","headline":"谷歌提示词工程 - 最佳实践","name":"谷歌提示词工程 - 最佳实践","description":"接上文谷歌提示词工程 - 模型原理和提示词技术，讨论提示词的最佳实践。","datePublished":"2025-04-24T00:00:00.000Z","author":{"@type":"Person","name":"SleepyZone","description":"前端开发 / 开源爱好者","url":"https://github.com/sleepy-zone","image":"https://avatars.githubusercontent.com/u/131369648?v=4"},"keywords":[]},{"@type":"BlogPosting","@id":"https://sleepy-zone.github.io/blog/2025-04-23-google-promtps.md","mainEntityOfPage":"https://sleepy-zone.github.io/blog/2025-04-23-google-promtps.md","url":"https://sleepy-zone.github.io/blog/2025-04-23-google-promtps.md","headline":"谷歌提示词工程 - 模型原理和提示词技术","name":"谷歌提示词工程 - 模型原理和提示词技术","description":"谷歌前段时间发布了提示词工程白皮书，已经有很多博主推荐了，最近终于有时间阅读一下。以下是笔记记录。","datePublished":"2025-04-23T00:00:00.000Z","author":{"@type":"Person","name":"SleepyZone","description":"前端开发 / 开源爱好者","url":"https://github.com/sleepy-zone","image":"https://avatars.githubusercontent.com/u/131369648?v=4"},"keywords":[]},{"@type":"BlogPosting","@id":"https://sleepy-zone.github.io/blog/2025-04-21-old-fe-1.md","mainEntityOfPage":"https://sleepy-zone.github.io/blog/2025-04-21-old-fe-1.md","url":"https://sleepy-zone.github.io/blog/2025-04-21-old-fe-1.md","headline":"盘点前端还在更新的老项目","name":"盘点前端还在更新的老项目","description":"今天不聊 AI，聊点前端。冒着暴露年龄的风险聊点前端里还在更新的老项目。","datePublished":"2025-04-21T00:00:00.000Z","author":{"@type":"Person","name":"SleepyZone","description":"前端开发 / 开源爱好者","url":"https://github.com/sleepy-zone","image":"https://avatars.githubusercontent.com/u/131369648?v=4"},"keywords":[]},{"@type":"BlogPosting","@id":"https://sleepy-zone.github.io/blog/2025-04-14-github-no-vistit.md","mainEntityOfPage":"https://sleepy-zone.github.io/blog/2025-04-14-github-no-vistit.md","url":"https://sleepy-zone.github.io/blog/2025-04-14-github-no-vistit.md","headline":"从 Github 不能访问想到的","name":"从 Github 不能访问想到的","description":"上周末中国未登录用户无法访问 Github，瞬间在社交媒体引起轩然大波。","datePublished":"2025-04-14T00:00:00.000Z","author":{"@type":"Person","name":"SleepyZone","description":"前端开发 / 开源爱好者","url":"https://github.com/sleepy-zone","image":"https://avatars.githubusercontent.com/u/131369648?v=4"},"keywords":[]},{"@type":"BlogPosting","@id":"https://sleepy-zone.github.io/blog/2025-04-10-what-is-agent.md","mainEntityOfPage":"https://sleepy-zone.github.io/blog/2025-04-10-what-is-agent.md","url":"https://sleepy-zone.github.io/blog/2025-04-10-what-is-agent.md","headline":"什么是 Agent","name":"什么是 Agent","description":"https://weaviate.io/blog/what-are-agentic-workflows","datePublished":"2025-04-10T00:00:00.000Z","author":{"@type":"Person","name":"SleepyZone","description":"前端开发 / 开源爱好者","url":"https://github.com/sleepy-zone","image":"https://avatars.githubusercontent.com/u/131369648?v=4"},"keywords":[]},{"@type":"BlogPosting","@id":"https://sleepy-zone.github.io/blog/2025-04-07-deepsite.md","mainEntityOfPage":"https://sleepy-zone.github.io/blog/2025-04-07-deepsite.md","url":"https://sleepy-zone.github.io/blog/2025-04-07-deepsite.md","headline":"DeepSite：基于 DeepSeek 的生码应用","name":"DeepSite：基于 DeepSeek 的生码应用","description":"试用一下","datePublished":"2025-04-07T00:00:00.000Z","author":{"@type":"Person","name":"SleepyZone","description":"前端开发 / 开源爱好者","url":"https://github.com/sleepy-zone","image":"https://avatars.githubusercontent.com/u/131369648?v=4"},"keywords":[]},{"@type":"BlogPosting","@id":"https://sleepy-zone.github.io/blog/2025-04-06-recent-ai-1.md","mainEntityOfPage":"https://sleepy-zone.github.io/blog/2025-04-06-recent-ai-1.md","url":"https://sleepy-zone.github.io/blog/2025-04-06-recent-ai-1.md","headline":"最近几件关于 AI 的事情","name":"最近几件关于 AI 的事情","description":"AI 公司貌似喜欢在中国的节假日搞动作，清明节短短三天假期就有很多猛料。","datePublished":"2025-04-06T00:00:00.000Z","author":{"@type":"Person","name":"SleepyZone","description":"前端开发 / 开源爱好者","url":"https://github.com/sleepy-zone","image":"https://avatars.githubusercontent.com/u/131369648?v=4"},"keywords":[]},{"@type":"BlogPosting","@id":"https://sleepy-zone.github.io/blog/2025-03-28-mcp.md","mainEntityOfPage":"https://sleepy-zone.github.io/blog/2025-03-28-mcp.md","url":"https://sleepy-zone.github.io/blog/2025-03-28-mcp.md","headline":"MCP - AI 和真实世界的桥梁","name":"MCP - AI 和真实世界的桥梁","description":"在上篇文章 动手开发一个 MCP Server 中讲了怎么开发一个 MCP Server，本文简单聊聊我对 MCP 的看法。","datePublished":"2025-03-28T00:00:00.000Z","author":{"@type":"Person","name":"SleepyZone","description":"前端开发 / 开源爱好者","url":"https://github.com/sleepy-zone","image":"https://avatars.githubusercontent.com/u/131369648?v=4"},"keywords":[]},{"@type":"BlogPosting","@id":"https://sleepy-zone.github.io/blog/2025-03-26-dev-mcp-server.md","mainEntityOfPage":"https://sleepy-zone.github.io/blog/2025-03-26-dev-mcp-server.md","url":"https://sleepy-zone.github.io/blog/2025-03-26-dev-mcp-server.md","headline":"动手开发一个 MCP Server","name":"动手开发一个 MCP Server","description":"https://blog.bytebytego.com/p/ep154-what-is-mcp","datePublished":"2025-03-26T00:00:00.000Z","author":{"@type":"Person","name":"SleepyZone","description":"前端开发 / 开源爱好者","url":"https://github.com/sleepy-zone","image":"https://avatars.githubusercontent.com/u/131369648?v=4"},"keywords":[]},{"@type":"BlogPosting","@id":"https://sleepy-zone.github.io/blog/2025-03-21-woocs","mainEntityOfPage":"https://sleepy-zone.github.io/blog/2025-03-21-woocs","url":"https://sleepy-zone.github.io/blog/2025-03-21-woocs","headline":"woocs，基于 doocs/md 的微信 Markdown 编辑器桌面应用","name":"woocs，基于 doocs/md 的微信 Markdown 编辑器桌面应用","description":"前两天推荐了一款微信 Markdown 编辑器：doocs/md，并在文章末尾预告：正在基于该项目开发微信 Markdown 编辑器桌面应用。今天他来了 - woocs，基于 doocs/md 的微信 Markdown 编辑器桌面应用，正式发布了！","datePublished":"2025-03-21T00:00:00.000Z","author":{"@type":"Person","name":"SleepyZone","description":"前端开发 / 开源爱好者","url":"https://github.com/sleepy-zone","image":"https://avatars.githubusercontent.com/u/131369648?v=4"},"keywords":[]}]}</script><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="😴 Sleepy Zone RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="😴 Sleepy Zone Atom Feed">





<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&amp;display=swap">
<script>!function(t,e,n,a,c,r,s){t[n]=t[n]||function(){(t[n].q=t[n].q||[]).push(arguments)},(r=e.createElement(a)).async=1,r.src="https://www.clarity.ms/tag/r1wmvdsf4a",(s=e.getElementsByTagName(a)[0]).parentNode.insertBefore(r,s)}(window,document,"clarity","script")</script><link rel="stylesheet" href="/assets/css/styles.92edd152.css">
<script src="/assets/js/runtime~main.2c44250c.js" defer="defer"></script>
<script src="/assets/js/main.e32ef115.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="跳到主要内容"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">跳到主要内容</a></div><nav aria-label="主导航" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="切换导航栏" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="Sleepy Zone Site Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logo.svg" alt="Sleepy Zone Site Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Sleepy Zone</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/blog">🔥博客</a><a class="navbar__item navbar__link" href="/thoughts">💡想法</a><a class="navbar__item navbar__link" href="/weekly/2025-04-23">📚不周刊</a></div><div class="navbar__items navbar__items--right"><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_re4s thin-scrollbar" aria-label="最近博文导航"><div class="sidebarItemTitle_pO2u margin-bottom--md">All posts</div><div role="group"><h3 class="yearGroupHeading_rMGB">2025</h3><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2025-04-24-google-promtps-2.md">谷歌提示词工程 - 最佳实践</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2025-04-23-google-promtps.md">谷歌提示词工  程 - 模型原理和提示词技术</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2025-04-21-old-fe-1.md">盘点前端还在更新的老项目</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2025-04-14-github-no-vistit.md">从 Github 不能访问想到的</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2025-04-10-what-is-agent.md">什么是 Agent</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2025-04-07-deepsite.md">DeepSite：基于 DeepSeek 的生码应用</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2025-04-06-recent-ai-1.md">最近几件关于 AI 的事情</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2025-03-28-mcp.md">MCP - AI 和真实世界的桥梁</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2025-03-26-dev-mcp-server.md">动手开发一个 MCP Server</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2025-03-21-woocs">woocs，基于 doocs/md 的微信 Markdown 编辑器桌面应用</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2025-03-20-vibe-coding">聊聊 vibe coding</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2025-03-19-doocs-md">【开源推荐】高度简洁的微信 Markdown 编辑器</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2025-03-17-ai-fomo">AI 浪潮下的 FOMO 情绪</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2025-03-10-D2">D2 终端技术大会之旅</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2025-02-25-2025-ai-first">2025 年或许是中国的 AI 元年</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2025-02-19-we-are-destroying-software">【好文推荐】我们正在摧毁软件</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/ai-replace-fe">AI 可以取代前端吗</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/my-2024">迟来的 2024 总结</a></li></ul></div><div role="group"><h3 class="yearGroupHeading_rMGB">2024</h3><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/antd-meetup">Ant Design Meetup 之行</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/sketch-plugin-upload">Sketch 插件实现图层导出图片并上传</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/ui-diff-in-out">国内外组件库的一些差异</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/thinking-recently">对近期一些事情的看法</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/shijing">我读了读诗经</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/gradient-in-fe">聊聊前端里的渐变</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/fabritor-2024-1">fabritor @ 2024 的一些更新</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2023-summary">2023 总结</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/welcome">Welcome</a></li></ul></div></nav></aside><main class="col col--7"><article class="margin-bottom--xl"><header><h2 class="title_f1Hy"><a href="/blog/2025-04-24-google-promtps-2.md">谷歌提示词工程 - 最佳实践</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2025-04-24T00:00:00.000Z">2025年4月24日</time> · <!-- -->阅读需 7 分钟</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--12 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/sleepy-zone" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo authorImage_XqGP" src="https://avatars.githubusercontent.com/u/131369648?v=4" alt="SleepyZone"></a><div class="avatar__intro authorDetails_lV9A"><div class="avatar__name"><a href="https://github.com/sleepy-zone" target="_blank" rel="noopener noreferrer"><span class="authorName_yefp">SleepyZone</span></a></div><small class="authorTitle_nd0D" title="前端开发 / 开源爱好者">前端开发 / 开源爱好者</small><div class="authorSocials_rSDt"></div></div></div></div></div></header><div class="markdown"><p>接上文<a href="/blog/2025-04-23-google-promtps.md">谷歌提示词工程 - 模型原理和提示词技术</a>，讨论提示词的最佳实践。</p>
<p><img decoding="async" loading="lazy" src="https://fastly.jsdelivr.net/gh/bucketio/img6@main/2025/04/23/1745392049583-b2db7b1e-2f2b-4565-8252-14f946e00719.png" alt="" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="提供示例">提供示例<a href="#提供示例" class="hash-link" aria-label="提供示例的直接链接" title="提供示例的直接链接">​</a></h3>
<p>正如上文提示词技术提到的单样本、少样本那样，在提示中提供样例十分重要。这样模型就能在示例的参考下输出更加准确的内容。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="简约设计">简约设计<a href="#简约设计" class="hash-link" aria-label="简约设计的直接链接" title="简约设计的直接链接">​</a></h3>
<p>基本原则是：若你自己都觉得困惑，模型很可能也会困惑。避免使用复杂语言，且不要提供无关信息。</p>
<p>尝试使用描述动作的动词。以下是一组示例：</p>
<blockquote>
<p>行动、分析、归类、分类、对比、比较、创造、描述、定义、评估、提取、发现、生成、识别、列举、测量、组织、解析、挑选、预测、提供、排序、推荐、返回、检索、改写、选择、展示、整理、总结、翻译、撰写。</p>
</blockquote>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="明确提出需求">明确提出需求<a href="#明确提出需求" class="hash-link" aria-label="明确提出需求的直接链接" title="明确提出需求的直接链接">​</a></h3>
<p>详细说明期望输出。简短的指令可能无法充分引导大语言模型，或过于笼统。在提示中提供具体细节（通过系统或上下文提示）有助于模型聚焦相关内容，提高整体准确性。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="优先使用指令而非约束">优先使用指令而非约束<a href="#优先使用指令而非约束" class="hash-link" aria-label="优先使用指令而非约束的直接链接" title="优先使用指令而非约束的直接链接">​</a></h3>
<p>提示中使用的指令和约束用于引导大语言模型的输出。</p>
<p>尽可能使用正向指令：用“应该做什么”替代“禁止做什么”，这能避免混淆并提高输出准确性。</p>
<p>约束条件在特定场景仍具价值：当需要防止模型生成有害/偏见内容，或要求严格输出格式时。</p>
<p>作为最佳实践，应优先处理指令，明确说明您希望模型执行的操作，仅在出于安全性、清晰度或特定需求时使用约束条件。通过实验与迭代测试不同指令和约束的组合，以找到最适合您特定任务的方案，并予以记录。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="控制最大令牌长度">控制最大令牌长度<a href="#控制最大令牌长度" class="hash-link" aria-label="控制最大令牌长度的直接链接" title="控制最大令牌长度的直接链接">​</a></h3>
<p>要控制生成式大语言模型(LLM)的响应长度，您可以在配置中设置最大令牌限制，或在提示词中明确指定所需长度。例如：</p>
<blockquote>
<p>&quot;Explain quantum physics in a tweet length message.&quot;</p>
</blockquote>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="在提示词中使用变量">在提示词中使用变量<a href="#在提示词中使用变量" class="hash-link" aria-label="在提示词中使用变量的直接链接" title="在提示词中使用变量的直接链接">​</a></h3>
<p>为了实现提示词复用并增强动态性，可在提示词中使用变量，这些变量可根据不同输入进行替换。</p>
<p><img decoding="async" loading="lazy" src="https://fastly.jsdelivr.net/gh/bucketio/img18@main/2025/04/23/1745397189984-9bd0b762-1421-404a-bbbf-2636a357c048.png" alt="" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="尝试不同的输入格式与写作风格">尝试不同的输入格式与写作风格<a href="#尝试不同的输入格式与写作风格" class="hash-link" aria-label="尝试不同的输入格式与写作风格的直接链接" title="尝试不同的输入格式与写作风格的直接链接">​</a></h3>
<p>不同模型、配置、提示格式、措辞和提交方式会产生不同结果。因此需对提示属性进行实验，如风格、措辞及提示类型（零样本、少样本、系统提示） 。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="分类任务的小样本提示中需混合不同类别">分类任务的小样本提示中，需混合不同类别<a href="#分类任务的小样本提示中需混合不同类别" class="hash-link" aria-label="分类任务的小样本提示中，需混合不同类别的直接链接" title="分类任务的小样本提示中，需混合不同类别的直接链接">​</a></h3>
<p>一般而言，小样本示例的顺序影响不大。但在执行分类任务时，务必在少量示例中混合可能的响应类别。这是因为固定顺序可能导致模型对示例顺序产生过拟合。通过混合响应类别，可确保模型学会识别各类别的关键特征，而非简单记忆示例顺序。这种方法能提升模型在未见数据上的鲁棒性和泛化性能。</p>
<p>经验法则建议从6个少量示例开始，并由此测试准确度。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="适应模型更新">适应模型更新<a href="# 适应模型更新" class="hash-link" aria-label="适应模型更新的直接链接" title="适应模型更新的直接链接">​</a></h3>
<p>紧跟模型更新，尝试新版模型调整提示词充分利用新特性。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="尝试不同输出格式">尝试不同输出格式<a href="#尝试不同输出格式" class="hash-link" aria-label="尝试不同输出格式的直接链接" title="尝试不同输出格式的直接链接">​</a></h3>
<p>除输入格式外，还可探索输出格式。对于数据提取、筛选、解析、排序、分级或分类等非创造性任务，建议采用JSON或XML等结构化格式返回结果。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="json-修复">JSON 修复<a href="#json-修复" class="hash-link" aria-label="JSON 修复的直接链接" title="JSON 修复的直接链接">​</a></h3>
<p>JSON 格式校验严格，可以使用 PyPI 的 json-repair 智能修复 JSON 格式。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="使用-schema">使用 Schema<a href="#使用-schema" class="hash-link" aria-label="使用 Schema的直接链接" title="使用 Schema的直接链接">​</a></h3>
<p>输入数据也可以使用 JSON 格式高效的组织数据。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="与其他提示工程师协同实验">与其他提示工程师协同实验<a href="#与其他提示工程师协同实验" class="hash-link" aria-label="与其他提示工程师协同实验的直接链接" title="与其他提示工程师协同实验的直接链接">​</a></h3>
<p>当每个人都遵循本章所述的最佳实践时，您将观察到不同提示方案间的性能差异。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="思维链最佳实践">思维链最佳实践<a href="#思维链最佳实践" class="hash-link" aria-label="思维链最佳实践的直接链接" title="思维链最佳实践的直接链接">​</a></h3>
<p>进行思维链提示时，必须将答案置于推理过程之后，因为推理过程的生成会改变模型预测最终答案时所获得的标记（token）。</p>
<p>使用思维链与自洽性方法时，需确保能从提示中分离出最终答案，使其独立于推理过程。</p>
<p>思维链提示的温度参数应设为0。</p>
<p>思维链提示基于贪婪解码机制，即语言模型根据概率最高中的下一个词。一般而言，当涉及推理得出最终答案时，通常存在唯一正确答案，因此温度参数应始终设置为0。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="记录不同提示尝试方案">记录不同提示尝试方案<a href="#记录不同提示尝试方案" class="hash-link" aria-label="记录不同提示尝试方案的直接链接" title="记录不同提示尝试方案的直接链接">​</a></h3>
<p>细记录每次提示尝试的完整细节，这样才能逐步总结出哪些方法有效，哪些无效。</p>
<p>提示工程是一个迭代过程。设计并测试不同提示方案，分析记录结果，根据模型表现优化提示词。持续实验直至获得理想输出。当更换模型或调整模型配置时，需重新用先前提示词进行实验验证。</p>
<p><img decoding="async" loading="lazy" src="https://fastly.jsdelivr.net/gh/bucketio/img18@main/2025/04/23/1745397833321-0027f4c9-b523-4ff8-8f3b-724c8d363e88.png" alt="" class="img_ev3q"></p>
<hr>
<div align="center"><p>欢迎关注我的公众号：前端生存指南，一起聊聊前端、AI 和生活。</p><img src="https://cloud-minapp-47803.cloud.ifanrusercontent.com/1tvAM68Cvrx3bfLR.jpg" style="width:180px"></div></div><footer class="row docusaurus-mt-lg"><div class="col"><b>标签：</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/ai">AI</a></li></ul></div></footer></article><article class="margin-bottom--xl"><header><h2 class="title_f1Hy"><a href="/blog/2025-04-23-google-promtps.md">谷歌提示词工程 - 模型原理和提示词技术</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2025-04-23T00:00:00.000Z">2025年4月23日</time> · <!-- -->阅读需 5 分钟</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--12 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/sleepy-zone" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo authorImage_XqGP" src="https://avatars.githubusercontent.com/u/131369648?v=4" alt="SleepyZone"></a><div class="avatar__intro authorDetails_lV9A"><div class="avatar__name"><a href="https://github.com/sleepy-zone" target="_blank" rel="noopener noreferrer"><span class="authorName_yefp">SleepyZone</span></a></div><small class="authorTitle_nd0D" title="前端开发 / 开源爱好者">前端开发 / 开源爱好者</small><div class="authorSocials_rSDt"></div></div></div></div></div></header><div class="markdown"><p><img decoding="async" loading="lazy" src="https://fastly.jsdelivr.net/gh/bucketio/img6@main/2025/04/23/1745392049583-b2db7b1e-2f2b-4565-8252-14f946e00719.png" alt="" class="img_ev3q"></p>
<p>谷歌前段时间发布了提示词工程白皮书，已经有很多博主推荐了，最近终于有时间阅读一下。以下是笔记记录。</p>
<p>原文：<a href="https://drive.google.com/file/d/1AbaBYbEa_EbPelsT40-vj64L-2IwUJHy/view?pli=1" target="_blank" rel="noopener noreferrer">https://drive.google.com/file/d/1AbaBYbEa_EbPelsT40-vj64L-2IwUJHy/view?pli=1</a></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="模型工作原理">模型工作原理<a href="#模型工作原理" class="hash-link" aria-label="模型工作原理的直接链接" title="模型工作原理的直接链接">​</a></h3>
<p>大语言模型的本质是<strong>预测</strong>。模型接受输入文本，根据训练数据循环预测后续的文本。提示词就是在引导模型正确的预测。</p>
<p>另外需要了解模型的输出配置，如果你调用过大模型的 API 应该对这些参数比较熟悉。</p>
<p><strong>Output length</strong>：输出长度限制对于大模型的性能，响应时间尤为重要。</p>
<p><strong>Sampling controls</strong>：控制预测结果</p>
<p>Temperature，越高则输出结果越发散，越低则结果更具有确定性。top-K 和 top-P 和 Temperature 类似，值越高，则输出结果越具有创造性和多样性。越高。</p>
<p>文档中给出了几个场景的配置样例：</p>
<ol>
<li>Temperature 值 0.2、top-P 值 0.95 和 top-K 值 30 的组合能产生相对连贯且适度创新的结果。</li>
<li>若追求更高创造性，可 Temperature 值 0.9、top-P 值 0.99 和 top-K 值40 的配置。</li>
<li>如需更保守的输出，建议采用 Temperature 值 0.1、top-P 值0.9 和 top-K值 20 的参数。</li>
<li>对于存在唯一正确答案的任务（如数学题求解） ，应将 Temperature 值设为 0。</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="提示词技术">提示词技术<a href="#提示词技术" class="hash-link" aria-label="提示词技术的直接链接" title="提示词技术的直接链接">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="零样本zero-shot">零样本（zero shot）<a href="#零样本zero-shot" class="hash-link" aria-label="零样本（zero shot）的直接链接" title="零样本（zero shot）的直接链接">​</a></h4>
<p>零样本仅提供任务描述和供大语言模型处理的文本。不过可以通过增加单个示例（<strong>单样本</strong>）或者多个示例（<strong>少样本</strong>）让模型输出更符合要求的内容。</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="系统提示system-prompting">系统提示（System Prompting）<a href="#系统提示system-prompting" class="hash-link" aria-label="系统提示（System Prompting）的直接链接" title="系统提示（System Prompting）的直接链接">​</a></h4>
<p>系统提示设定语言模型的整体语境和目的，明确模型应执行的宏观任务，如语言翻译、评论分类等。</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="角色提示role-prompting">角色提示（Role prompting）<a href="#角色提示role-prompting" class="hash-link" aria-label="角色提示（Role prompting）的直接链接" title="角色提示（Role prompting）的直接链接">​</a></h4>
<p>给模型分配特根据定角色，使模型能角色定位生成更相关、信息量更大的输出。</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="情境提示contextual-prompting">情境提示（Contextual prompting）<a href="#情境提示contextual-prompting" class="hash-link" aria-label="情境提示（Contextual prompting）的直接链接" title="情境提示（Contextual prompting）的直接链接">​</a></h4>
<p>给模型提供上下文提示，比如：</p>
<blockquote>
<p>背景：您正在为一家关于80年代复古街机游戏的博客撰稿。请建议3个文章主题，并附上简要说明每篇文章应包含的内容。</p>
</blockquote>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="回退式提示step-back-prompting">回退式提示（Step-back prompting）<a href="#回退式提示step-back-prompting" class="hash-link" aria-label="回退式提示（Step-back prompting）的直接链接" title="回退式提示（Step-back prompting）的直接链接">​</a></h4>
<p>回退式提示法是一种通过让大语言模型先思考与当前具体任务相关的宏观问题，再将宏观问题的答案作为后续具体任务提示的输入，从而提升模型表现的技术。</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="思维链chain-of-thoughtcot">思维链（Chain of Thought，CoT）<a href="#思维链chain-of-thoughtcot" class="hash-link" aria-label="思维链（Chain of Thought，CoT）的直接链接" title="思维链（Chain of Thought，CoT）的直接链接">​</a></h4>
<p>思维链一种通过生成中间推理步骤来提升大语言模型推理能力的技术。思维链特别适合代码生成时，分解需求逐步输出代码的过程。</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="思维树tree-of-thoughtstot">思维树（Tree of Thoughts，ToT）<a href="#思维树tree-of-thoughtstot" class="hash-link" aria-label="思维树（Tree of Thoughts，ToT）的直接链接" title="思维树（Tree of Thoughts，ToT）的直接链接">​</a></h4>
<p>思维树允许大语言模型同时探索多条不同的推理路径，而非仅遵循单一线性思维链。适合探索复杂任务。</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="推理与行动reactreason--act">推理与行动（ReAct，reason &amp; act）<a href="#推理与行动reactreason--act" class="hash-link" aria-label="推理与行动（ReAct，reason &amp; act）的直接链接" title="推理与行动（ReAct，reason &amp; act）的直接链接">​</a></h4>
<p>大模型基于自然语言推理和外部工具（搜索、代码解释器等）来解决复杂任务。只是实现智能体（Agent）第一步。这部分需要有编写代码的能力，或者借助其他智能体构建工具。</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="其他">其他<a href="#其他" class="hash-link" aria-label="其他的直接链接" title="其他的直接链接">​</a></h4>
<p>可以借助大模型优化提示词。</p>
<p>文档还专门提到了代码相关的提示，编写脚本、解释代码、调试、Review等等。</p>
<hr>
<div align="center"><p>欢迎关注我的公众号：前端生存指南，一起聊聊前端、AI 和生活。</p><img src="https://cloud-minapp-47803.cloud.ifanrusercontent.com/1tvAM68Cvrx3bfLR.jpg" style="width:180px"></div></div><footer class="row docusaurus-mt-lg"><div class="col"><b>标签：</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/ai">AI</a></li></ul></div></footer></article><article class="margin-bottom--xl"><header><h2 class="title_f1Hy"><a href="/blog/2025-04-21-old-fe-1.md">盘点前端还在更新的老项目</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2025-04-21T00:00:00.000Z">2025年4月21日</time> · <!-- -->阅读需 4 分钟</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--12 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/sleepy-zone" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo authorImage_XqGP" src="https://avatars.githubusercontent.com/u/131369648?v=4" alt="SleepyZone"></a><div class="avatar__intro authorDetails_lV9A"><div class="avatar__name"><a href="https://github.com/sleepy-zone" target="_blank" rel="noopener noreferrer"><span class="authorName_yefp">SleepyZone</span></a></div><small class="authorTitle_nd0D" title="前端开发 / 开源爱好者">前端开发 / 开源爱好者</small><div class="authorSocials_rSDt"></div></div></div></div></div></header><div class="markdown"><p>今天不聊 AI，聊点前端。冒着暴露年龄的风险聊点前端里还在更新的老项目。</p>
<p>（其实 React、Vue 这些库也算老项目了，不过不再我们讨论之列，主要讨论那些我们平时基本见不到但一直更新的项目）</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="jquery">jQuery<a href="#jquery" class="hash-link" aria-label="jQuery的直接链接" title="jQuery的直接链接">​</a></h3>
<p>jQuery 算是老项目里的代表里，他的 <code>$</code> 语法可以说是别具一格，在那个需要浏览器兼容的年代独树一帜。</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">ajax</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">url</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;/api/getWeather&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">data</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">zipcode</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">97201</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function-variable function" style="color:#d73a49">success</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">function</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"> </span><span class="token parameter">result</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">$</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;#weather-temp&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">html</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;&lt;strong&gt;&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> result </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;&lt;/strong&gt; degrees&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">var</span><span class="token plain"> hiddenBox </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">$</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;#banner-message&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">$</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;#button-container button&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">on</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;click&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">function</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"> </span><span class="token parameter">event</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  hiddenBox</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">show</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Github 上看了一下 2022 年就已经开始着手准备 4.0 版本了（<a href="https://github.com/jquery/jquery/milestone/7%EF%BC%89%E3%80%82" target="_blank" rel="noopener noreferrer">https://github.com/jquery/jquery/milestone/7）。</a></p>
<p><img decoding="async" loading="lazy" src="https://fastly.jsdelivr.net/gh/bucketio/img12@main/2025/04/21/1745215856167-0f66a243-84a9-4b9c-90ac-7ece5e2c38ad.png" alt="" class="img_ev3q"></p>
<p><a href="https://jquery.com/" target="_blank" rel="noopener noreferrer">官网</a>表示 4.0 版本即将发布了：</p>
<blockquote>
<p>jQuery 4.0 is coming soon! Prepare by upgrading to the latest jQuery 3.x release. Learn more about our version support.</p>
</blockquote>
<p>另一个与之相似的项目 <a href="https://zeptojs.com/" target="_blank" rel="noopener noreferrer">zepto.js</a> 不知道大家有没有听说过，作为当时在 mobile 项目上的替代品。目前看 Github 已经留在 6 年前了。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="gulp">Gulp<a href="#gulp" class="hash-link" aria-label="Gulp的直接链接" title="Gulp的直接链接">​</a></h3>
<p>在还没有 Webpack 的年代，<a href="https://gulpjs.com/" target="_blank" rel="noopener noreferrer">Gulp</a> 是我认为最好用的自动化构建工具了。流式或者并行的将构建任务串联起来，而且支持插件扩展。</p>
<p><img decoding="async" loading="lazy" src="https://fastly.jsdelivr.net/gh/bucketio/img12@main/2025/04/21/1745216667840-037ba719-c87e-4de2-8baa-b86b07504351.png" alt="" class="img_ev3q"></p>
<p>去年 3 月（2024/3/29），<a href="https://medium.com/gulpjs/announcing-gulp-v5-c67d077dbdb7" target="_blank" rel="noopener noreferrer">Gulp 5 正式发布</a>。</p>
<blockquote>
<p>Gulp 5 的发布之路漫长，但我们终于来了！此版本凝聚了 60 多个项目四年的心血。团队一共解决了 200 多个问题和 Pull Request。🤯</p>
</blockquote>
<p>Gulp 之前还有一个类似的项目：<a href="https://gruntjs.com/" target="_blank" rel="noopener noreferrer">Grunt</a>，不过最后更新时间停留在了 2021 年。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="fabricjs">fabric.js<a href="#fabricjs" class="hash-link" aria-label="fabric.js的直接链接" title="fabric.js的直接链接">​</a></h3>
<p><a href="https://fabricjs.com/docs/" target="_blank" rel="noopener noreferrer">fabric.js</a> 是一个 Canvas 2D 操作库，把操作 Canvas 变的和操作 JS Object 一样简单。</p>
<p>虽然很好用，但代码依然是 ES5 时代，代码库里很多 Object.prototype，还有一些 polyfill code。不过终于去年发布了 v6 大版本，支持了 TypeScript。</p>
<p><img decoding="async" loading="lazy" src="https://fastly.jsdelivr.net/gh/bucketio/img9@main/2025/04/21/1745217332670-feb3786f-71d6-4a97-a8b4-58f82f690f41.png" alt="" class="img_ev3q"></p>
<div class="language-ts codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ts codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> React</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> useEffect</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> useRef </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;react&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> fabric </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;fabric&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// v6</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> fabric </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;fabric&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// v5</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">export</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:#d73a49">FabricJSCanvas</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> canvasEl </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token generic-function function" style="color:#d73a49">useRef</span><span class="token generic-function generic class-name operator" style="color:#393A34">&lt;</span><span class="token generic-function generic class-name">HTMLCanvasElement</span><span class="token generic-function generic class-name operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">null</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">useEffect</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> options </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">...</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> canvas </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">fabric</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">Canvas</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">canvasEl</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">current</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> options</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// make the fabric.Canvas instance available to your app</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">updateCanvasContext</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">canvas</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token function" style="color:#d73a49">updateCanvasContext</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">null</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      canvas</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">dispose</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">canvas width</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;300&quot;</span><span class="token plain"> height</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;300&quot;</span><span class="token plain"> ref</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">canvasEl</span><span class="token punctuation" style="color:#393A34">}</span><span class="token operator" style="color:#393A34">/</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>我的 <a href="https://github.com/sleepy-zone/fabritor-web" target="_blank" rel="noopener noreferrer">fabritor</a> 就是基于 fabric.js 构建的，后面也计划升级到 6.0 版本。</p>
<hr>
<p>今天先更新到这里，你还知道哪些老项目已经在坚持更新？</p>
<hr>
<div align="center"><p>欢迎关注我的公众号：前端生存指南，一起聊聊前端、AI 和生活。</p><img src="https://cloud-minapp-47803.cloud.ifanrusercontent.com/1tvAM68Cvrx3bfLR.jpg" style="width:180px"></div></div><footer class="row docusaurus-mt-lg"><div class="col"><b>标签：</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/frontend">frontend</a></li></ul></div></footer></article><article class="margin-bottom--xl"><header><h2 class="title_f1Hy"><a href="/blog/2025-04-14-github-no-vistit.md">从 Github 不能访问想到的</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2025-04-14T00:00:00.000Z">2025年4月14日</time> · <!-- -->阅读需 3 分钟</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--12 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/sleepy-zone" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo authorImage_XqGP" src="https://avatars.githubusercontent.com/u/131369648?v=4" alt="SleepyZone"></a><div class="avatar__intro authorDetails_lV9A"><div class="avatar__name"><a href="https://github.com/sleepy-zone" target="_blank" rel="noopener noreferrer"><span class="authorName_yefp">SleepyZone</span></a></div><small class="authorTitle_nd0D" title="前端开发 / 开源爱好者">前端开发 / 开源爱好者</small><div class="authorSocials_rSDt"></div></div></div></div></div></header><div class="markdown"><p>上周末中国未登录用户无法访问 Github，瞬间在社交媒体引起轩然大波。</p>
<p><img decoding="async" loading="lazy" src="https://fastly.jsdelivr.net/gh/bucketio/img7@main/2025/04/14/1744620520993-54adfc65-507b-439a-924b-a5e91ee9353d.png" alt="" class="img_ev3q"></p>
<p>有人玩梗😂：</p>
<p><img decoding="async" loading="lazy" src="https://fastly.jsdelivr.net/gh/bucketio/img12@main/2025/04/14/1744620550287-2096f2d6-3fbe-410b-aa43-c448dc927077.png" alt="" class="img_ev3q"></p>
<p>有人焦虑，虽然之前已经有地方无法正常访问 Github，但原因心知肚明。这次疑  似 Github 主动屏蔽中国 IP，和 OpenAI 类似，不免让人怀疑，难道最近的大国博弈开始影响 Github？</p>
<p>有人表示问题不大，毕竟哪个程序员不用魔法上网？</p>
<p>有人开始想退路，是不是可以备份开源项目了，一旦无法访问，而又没有备份，想想就心痛。</p>
<p>不过最后 Github 发布公告是因为配置变更导致这个问题（<a href="https://www.githubstatus.com/incidents/jfvgcls9swln%EF%BC%89%EF%BC%9A" target="_blank" rel="noopener noreferrer">https://www.githubstatus.com/incidents/jfvgcls9swln）：</a></p>
<blockquote>
<p>由于配置变更造成了意外影响，未登录的用户从中国访问 GitHub.com 时暂时无法访问。已登录的用户仍可继续访问。影响于 2025 年 4 月 12 日 20:01 UTC 开始。影响已于 2025 年 4 月 13 日 14:55 UTC 缓解。导致此影响的配置更改已被撤销，用户在尝试访问 GitHub.com 时应该不会再遇到问题。</p>
</blockquote>
<p>（不得不感慨老外是松弛，搁国内 p0 故障加 325 起步😭）</p>
<hr>
<p>事情就是这么个事情，看起来像一场闹剧，国内开发者讨论了半天猜了半天，最后以一个公告结束。</p>
<p>其实我想说的是，国内的开发者过的确实太苦了。</p>
<p>想获得信息，全是英文文档，虽然现在 AI 大大降低了阅读的门槛。</p>
<p>而 AI ，像  OpenAI、Anthropic 都是主动屏蔽中国 IP 的，所以需要掌握一定的上网技巧，躲避两边的网络限制。</p>
<p>而现在内外的环境又充满了不确定性。不论是打工还是独立开发都是困难重重。</p>
<p>所以 Github 一点点的网络波动就影响了千千万万的国内开发者。</p>
<p>就目前来看，也很难寄希望于国内能出现 Github 同级别的服务，出现了大概率也会有很多奇奇怪怪的骚操作。</p>
<p>以上。</p>
<hr>
<div align="center"><p>欢迎关注我的公众号：前端生存指南，一起聊聊前端、AI 和生活。</p><img src="https://cloud-minapp-47803.cloud.ifanrusercontent.com/1tvAM68Cvrx3bfLR.jpg" style="width:180px"></div></div><footer class="row docusaurus-mt-lg"><div class="col"><b>标签：</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/talk">talk</a></li></ul></div></footer></article><article class="margin-bottom--xl"><header><h2 class="title_f1Hy"><a href="/blog/2025-04-10-what-is-agent.md">什么是 Agent</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2025-04-10T00:00:00.000Z">2025年4月10日</time> · <!-- -->阅读需 6 分钟</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--12 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/sleepy-zone" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo authorImage_XqGP" src="https://avatars.githubusercontent.com/u/131369648?v=4" alt="SleepyZone"></a><div class="avatar__intro authorDetails_lV9A"><div class="avatar__name"><a href="https://github.com/sleepy-zone" target="_blank" rel="noopener noreferrer"><span class="authorName_yefp">SleepyZone</span></a></div><small class="authorTitle_nd0D" title="前端开发 / 开源爱好者">前端开发 / 开源爱好者</small><div class="authorSocials_rSDt"></div></div></div></div></div></header><div class="markdown"><p><img decoding="async" loading="lazy" src="https://fastly.jsdelivr.net/gh/bucketio/img19@main/2025/04/08/1744079884466-358dff04-5fa3-4083-a002-984f7c38faab.png" alt="https://weaviate.io/blog/what-are-agentic-workflows" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="火爆的-agent">火爆的 Agent<a href="#火爆的-agent" class="hash-link" aria-label="火爆的 Agent的直接链接" title="火爆的 Agent的直接链接">​</a></h3>
<p>AI Agent 应该是 AI 出现后讨论最多的一个词了，因为他代表着 AI 应用的最高层次了，从上次 Manus 的火爆就可见一斑。AI 给 人的感觉无所不能又高深莫测，普通人又充满好奇但只能敬而远之，那是到底什么才是 AI Agent？</p>
<p>通常很多文章在讲解 AI Agent 时又会引入很多新的概念和名词，这就让 AI Agent 的概念更加难以理解。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="我的理解">我的理解<a href="#我的理解" class="hash-link" aria-label="我的理解的直接链接" title="我的理解的直接链接">​</a></h3>
<p>我们可以换个角度看，AI Agent 的最终形态就是可以和人一样处理任务，那如果直接把 Agent 看做人类，一切就变得非常容易理解。</p>
<p>想象一下，作为前端，我要完成一个后台管理页面的需求，我是怎么做的：</p>
<ul>
<li>首先我有了一定的知识储备，了解基本的前端知识和一些框架，比如 React。</li>
<li>因为是公司内部项目，所以我还需要去了解内部的组件库。</li>
<li>分析需求，确定组件划分。</li>
<li>开始编码，遇到问题需要联网查阅资料。</li>
<li>测试阶段，排查问题，修复问题。</li>
</ul>
<p>此时，如果需要 AI 完成这个事情，同样也是按照上述步骤：</p>
<ul>
<li>目前大模型都是基于已有数据进行预训练，那么模型已经具备了前端知识和框架。</li>
<li>但模型无法知晓公司内部组件库，所以先让他进行学习。这就是 RAG。</li>
</ul>
<blockquote>
<p>检索增强生成（RAG）旨在通过检索和整合外部知识来增强大语言模型生成
文本的准确性和丰富性，其是一个集成了外部知识库、信息检索器、大语言模型等
多个功能模块的系统。RAG 利用信息检索、深度学习等多种技术为大语言模型在
生成过程中引入最新的、特定领域的知识，从而克服传统大语言模型的局限性，提
供更加精准和可靠的生成内容。（引用自：<a href="https://github.com/ZJU-LLMs/Foundations-of-LLMs%EF%BC%89" target="_blank" rel="noopener noreferrer">https://github.com/ZJU-LLMs/Foundations-of-LLMs）</a></p>
</blockquote>
<ul>
<li>AI 根据需求（Prompt），基于学习的知识进行拆分组件、编写代码（规划步骤 WorkFlow）。</li>
<li>遇到问题，联网排查资料（使用 Tool）</li>
<li>测试阶段，遇到问题，进行修复。（基于上下文记忆 Memery）。</li>
</ul>
<p>可以看出 AI Agent 做事情的方式就是在无限的接近于人类的做事方式：有知识储备，有规步骤规划，有工作流，有工具，最终输出结果。而整个流程中，AI Agent 作为一个完备的系统（没错，AI Agent 是一个系统），内部各部分有条不紊的工作。这一点和人类也一样，人类是一个完美的系统！</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="总结">总结<a href="#总结" class="hash-link" aria-label="总结的直接链接" title="总结的直接链接">​</a></h3>
<p><strong>最后我们总结一下什么是 Agent：</strong></p>
<ol>
<li>首先是基于大模型的，这是基础。</li>
<li>感知外部环境：和用户、外部知识、工具甚至是其他 Agent 交互。</li>
<li>规划和决策：任务管理、任务分配、多步骤工作。</li>
<li>记忆和改进：理解上下文。</li>
<li>结合以上几点：<strong>AI Agent 是一个可以理解上下文，通过感知外部环境变化，对任务进行分析、规划并最终进行决策的系统。</strong></li>
</ol>
<p>目前已经有很多细分领域的 Agent 了，比如大火的 Cursor，生成代码建议、代码生成、询问人类意见，通过更多的案例学习，后续的编码 Agent 会变的更加智能。</p>
<p><img decoding="async" loading="lazy" src="https://fastly.jsdelivr.net/gh/bucketio/img10@main/2025/04/08/1744082199745-c25ab9f1-182f-4f10-9046-250043f1a8de.png" alt="" class="img_ev3q"></p>
<hr>
<p>本文只是个人对 AI Agent 的简单理解，对于详细的定义概念和分类，还是要参考资料和专业书籍，推荐文章 <a href="https://weaviate.io/blog/what-are-agentic-workflows%E3%80%82%E5%8F%A6%E5%A4%96%E5%A6%82%E6%9E%9C%E6%83%B3%E8%A6%81%E5%8A%A8%E6%89%8B%E5%AE%9E%E8%B7%B5%EF%BC%8C%E5%8F%AF%E4%BB%A5%E7%9C%8B%E4%B8%80%E4%B8%8B%E5%BE%AE%E8%BD%AF%E7%9A%84" target="_blank" rel="noopener noreferrer">https://weaviate.io/blog/what-are-agentic-workflows。另外如果想要动手实践，可以看一下微软的</a> AI Agent 课程：<a href="https://microsoft.github.io/ai-agents-for-beginners/%E3%80%82" target="_blank" rel="noopener noreferrer">https://microsoft.github.io/ai-agents-for-beginners/。</a></p>
<hr>
<div align="center"><p>欢迎关注我的公众号：前端生存指南，一起聊聊前端、AI 和生活。</p><img src="https://cloud-minapp-47803.cloud.ifanrusercontent.com/1tvAM68Cvrx3bfLR.jpg" style="width:180px"></div></div><footer class="row docusaurus-mt-lg"><div class="col"><b>标签：</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/ai">AI</a></li></ul></div></footer></article><article class="margin-bottom--xl"><header><h2 class="title_f1Hy"><a href="/blog/2025-04-07-deepsite.md">DeepSite：基于 DeepSeek 的生码应用</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2025-04-07T00:00:00.000Z">2025年4月7日</time> · <!-- -->阅读需 3 分钟</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--12 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/sleepy-zone" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo authorImage_XqGP" src="https://avatars.githubusercontent.com/u/131369648?v=4" alt="SleepyZone"></a><div class="avatar__intro authorDetails_lV9A"><div class="avatar__name"><a href="https://github.com/sleepy-zone" target="_blank" rel="noopener noreferrer"><span class="authorName_yefp">SleepyZone</span></a></div><small class="authorTitle_nd0D" title="前端开发 / 开源爱好者">前端开发 / 开源爱好者</small><div class="authorSocials_rSDt"></div></div></div></div></div></header><div class="markdown"><p><img decoding="async" loading="lazy" src="https://fastly.jsdelivr.net/gh/bucketio/img2@main/2025/04/03/1743689667074-2a6cb109-602f-4f30-a651-d22c7a38d4d7.png" alt="" class="img_ev3q"></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="试用一下">试用一下<a href="#试用一下" class="hash-link" aria-label="试用一下的直接链接" title="试用一下的直接链接">​</a></h2>
<p>最近看到很多人都在聊一个 DeepSite 的应用，应用部署在 huggingface：<a href="/[https://huggingface.co/spaces/enzostvs/deepsite">https://huggingface.co/spaces/enzostvs/deepsite</a>，功能很简单直接：<strong>基于 DeepSeek 一键生成纯 html 应用并且可以发布至 huggingface space</strong>。</p>
<p>我试了一下，让 DeepSite 生成一个炫酷的个人博客首页。</p>
<p>整体效果很不错，页面完整，效果炫酷，我已经部署到我的 space ：<a href="https://huggingface.co/spaces/sleepy-zone/sleepyspace" target="_blank" rel="noopener noreferrer">https://huggingface.co/spaces/sleepy-zone/sleepyspace</a>：</p>
<p><img decoding="async" loading="lazy" src="https://fastly.jsdelivr.net/gh/bucketio/img14@main/2025/04/03/1743689804286-948a8e55-46f1-4596-87a7-ac36674adf94.png" alt="" class="img_ev3q"></p>
<p><img decoding="async" loading="lazy" src="https://fastly.jsdelivr.net/gh/bucketio/img10@main/2025/04/03/1743689839587-712dad61-7489-4ed7-94b5-69d25a98560f.png" alt="" class="img_ev3q"></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="看看代码">看看代码<a href="#看看代码" class="hash-link" aria-label="看看代码的直接链接" title="看看代码的直接链接">​</a></h2>
<p>代码位于：<a href="https://huggingface.co/spaces/enzostvs/deepsite/tree/main" target="_blank" rel="noopener noreferrer">https://huggingface.co/spaces/enzostvs/deepsite/tree/main</a>。</p>
<p>DeepSeek 生码的逻辑位于 <code>server.js</code>：</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> chatCompletion </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> client</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">chatCompletionStream</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token literal-property property" style="color:#36acaa">model</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">MODEL_ID</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token literal-property property" style="color:#36acaa">provider</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> selectedProvider</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">id</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token literal-property property" style="color:#36acaa">messages</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token literal-property property" style="color:#36acaa">role</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;system&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token literal-property property" style="color:#36acaa">content</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token template-string string" style="color:#e3116c">ONLY USE HTML, CSS AND JAVASCRIPT. If you want to use ICON make sure to import the library first. Try to create the best UI possible by using only HTML, CSS and JAVASCRIPT. Use as much as you can TailwindCSS for the CSS, if you can&#x27;t do something with TailwindCSS, then use custom CSS (make sure to import &lt;script src=&quot;https://cdn.tailwindcss.com&quot;&gt;&lt;/script&gt; in the head). Also, try to ellaborate as much as you can, to create something unique. ALWAYS GIVE THE RESPONSE INTO A SINGLE HTML FILE</span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token spread operator" style="color:#393A34">...</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">previousPrompt</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token operator" style="color:#393A34">?</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token literal-property property" style="color:#36acaa">role</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;user&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token literal-property property" style="color:#36acaa">content</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> previousPrompt</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token spread operator" style="color:#393A34">...</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">html</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token operator" style="color:#393A34">?</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token literal-property property" style="color:#36acaa">role</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;assistant&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token literal-property property" style="color:#36acaa">content</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token template-string string" style="color:#e3116c">The current code is: </span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">${</span><span class="token template-string interpolation">html</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">}</span><span class="token template-string string" style="color:#e3116c">.</span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token literal-property property" style="color:#36acaa">role</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;user&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token literal-property property" style="color:#36acaa">content</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> prompt</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token spread operator" style="color:#393A34">...</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">selectedProvider</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">id</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">!==</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;sambanova&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token operator" style="color:#393A34">?</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token literal-property property" style="color:#36acaa">max_tokens</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> selectedProvider</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">max_tokens</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>prompt 也很简洁：仅使用 HTML、CSS 和 JavaScript。如果您想使用图标，请确保首先导入库。尽量仅使用 HTML、CSS 和 JavaScript 创建最好的 UI。尽可能多地使用 TailwindCSS 进行样式设计，如果无法使用 TailwindCSS 完成某些样式，则使用自定义 CSS（确保在中导入 <script src="https://cdn.tailwindcss.com"></script>）。此外，尽量详细 elaboration，以创建一些独特的东西。始终将响应提供为单个 HTML 文件。</p>
<p>其他都是前端代码，目前看自己部署一个成本也不是很高。喜欢折腾的朋友可以玩一下看。</p>
<hr>
<p><strong>最后感叹一下，现在模型的能力突飞猛进。而模型能力跟上之后，应用的创意和交互体验就显得尤为重要。</strong></p>
<hr>
<div align="center"><p>欢迎关注我的公众号：前端生存指南，一起聊聊前端、AI 和生活。</p><img src="https://cloud-minapp-47803.cloud.ifanrusercontent.com/1tvAM68Cvrx3bfLR.jpg" style="width:180px"></div></div><footer class="row docusaurus-mt-lg"><div class="col"><b>标签：</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/ai">AI</a></li></ul></div></footer></article><article class="margin-bottom--xl"><header><h2 class="title_f1Hy"><a href="/blog/2025-04-06-recent-ai-1.md">最近几件关于 AI 的事情</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2025-04-06T00:00:00.000Z">2025年4月6日</time> · <!-- -->阅读需 3 分钟</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--12 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/sleepy-zone" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo authorImage_XqGP" src="https://avatars.githubusercontent.com/u/131369648?v=4" alt="SleepyZone"></a><div class="avatar__intro authorDetails_lV9A"><div class="avatar__name"><a href="https://github.com/sleepy-zone" target="_blank" rel="noopener noreferrer"><span class="authorName_yefp">SleepyZone</span></a></div><small class="authorTitle_nd0D" title="前端开发 / 开源爱好者">前端开发 / 开源爱好者</small><div class="authorSocials_rSDt"></div></div></div></div></div></header><div class="markdown"><p>AI 公司貌似喜欢在中国的节假日搞动作，清明节短短三天假期就有很多猛料。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="github-官方-mcp-server-发布">Github 官方 MCP Server 发布<a href="#github-官方-mcp-server-发布" class="hash-link" aria-label="Github 官方 MCP Server 发布的直接链接" title="Github 官方 MCP Server 发布的直接链接">​</a></h3>
<p>github 博客链接：<a href="https://github.blog/changelog/2025-04-04-github-mcp-server-public-preview/" target="_blank" rel="noopener noreferrer">https://github.blog/changelog/2025-04-04-github-mcp-server-public-preview/</a></p>
<p>官方仓库：<a href="https://github.com/github/github-mcp-server" target="_blank" rel="noopener noreferrer">https://github.com/github/github-mcp-server</a></p>
<blockquote>
<p>今天，我们发布了一款新的开源官方本地 GitHub MCP 服务器。我们与 Anthropic 合作，用 Go 重写了他们的参考服务器，并提高了其可用性。新服务器包含旧服务器的 100% 功能，此外还能够自定义工具描述、支持代码扫描，并新增了 get_me 函数，该函数可改善自然语言用户体验，例如询问“显示我的私人存储库”。</p>
</blockquote>
<p>今天又看到一则消息，后面的模型将不再支持 Tool。还是那句话，持续看好 MCP！</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="meta-llama-4-发布">Meta Llama 4 发布<a href="#meta-llama-4-发布" class="hash-link" aria-label="Meta Llama 4 发布的直接链接" title="Meta Llama 4 发布的直接链接">​</a></h3>
<p>Meta Llama 4 发布，号称最强模型。</p>
<p><img decoding="async" loading="lazy" src="https://fastly.jsdelivr.net/gh/bucketio/img15@main/2025/04/07/1744010657941-7ee3dfba-f310-4066-990d-d17e243cb690.png" alt="" class="img_ev3q"></p>
<p><img decoding="async" loading="lazy" src="https://fastly.jsdelivr.net/gh/bucketio/img9@main/2025/04/07/1744010677516-35f65be4-fccb-4cb0-99db-bf589f3f2e6f.png" alt="" class="img_ev3q"></p>
<p>不过社区评价看起来好像不怎么好，虽然有超大的上下文窗口，但体验一般，知乎的讨论也是一边倒的看衰：<a href="https://www.zhihu.com/question/1892067881098903620" target="_blank" rel="noopener noreferrer">https://www.zhihu.com/question/1892067881098903620</a></p>
<p>另外，Qwen、DeepSeek R2 据说也快发布了，还是期待国内的模型吧。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="openrouter-发布-quasar-alpha">OpenRouter 发布 Quasar Alpha<a href="#openrouter-发布-quasar-alpha" class="hash-link" aria-label="OpenRouter 发布 Quasar Alpha的直接链接" title="OpenRouter 发布 Quasar Alpha的直接链接">​</a></h3>
<p>OpenRouter（<a href="https://openrouter.ai/%EF%BC%89%EF%BC%8C%E6%98%AF%E4%B8%80%E4%B8%AA%E6%A8%A1%E5%9E%8B%E6%9C%8D%E5%8A%A1%E5%95%86%EF%BC%8C%E4%BB%96%E4%BB%AC%E4%B9%9F%E5%8F%91%E5%B8%83%E4%BA%86%E8%87%AA%E5%AE%B6%E6%A8%A1%E5%9E%8B%EF%BC%8C%E4%B8%8A%E4%B8%8B%E6%96%87%E8%BE%BE%E5%88%B0" target="_blank" rel="noopener noreferrer">https://openrouter.ai/），是一个模型服务商，他们也发布了自家模型，上下文达到</a> 1m，特别适合代码，并且免费！</p>
<blockquote>
<p>This is a cloaked model provided to the community to gather feedback. It’s a powerful, all-purpose model supporting long-context tasks, including code generation. All prompts and completions for this model are logged by the provider as well as OpenRouter.</p>
</blockquote>
<blockquote>
<p>这是提供给社区以收集反馈的隐藏模型。这是一个功能强大的通用模型，支持长上下文任务，包括代码生成。此模型的所有提示和完成都由提供商和 OpenRouter 记录。</p>
</blockquote>
<hr>
<div align="center"><p>欢迎关注我的公众号：前端生存指南，一起聊聊前端、AI 和生活。</p><img src="https://cloud-minapp-47803.cloud.ifanrusercontent.com/1tvAM68Cvrx3bfLR.jpg" style="width:180px"></div></div><footer class="row docusaurus-mt-lg"><div class="col"><b>标签：</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/ai">AI</a></li></ul></div></footer></article><article class="margin-bottom--xl"><header><h2 class="title_f1Hy"><a href="/blog/2025-03-28-mcp.md">MCP - AI 和真实世界的桥梁</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2025-03-28T00:00:00.000Z">2025年3月28日</time> · <!-- -->阅读需 4 分钟</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--12 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/sleepy-zone" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo authorImage_XqGP" src="https://avatars.githubusercontent.com/u/131369648?v=4" alt="SleepyZone"></a><div class="avatar__intro authorDetails_lV9A"><div class="avatar__name"><a href="https://github.com/sleepy-zone" target="_blank" rel="noopener noreferrer"><span class="authorName_yefp">SleepyZone</span></a></div><small class="authorTitle_nd0D" title="前端开发 / 开源爱好者">前端开发 / 开源爱好者</small><div class="authorSocials_rSDt"></div></div></div></div></div></header><div class="markdown"><p><img decoding="async" loading="lazy" src="https://fastly.jsdelivr.net/gh/bucketio/img2@main/2025/03/28/1743149448198-f539c9a9-db7e-48c8-a8a4-8791aab4309b.png" alt="" class="img_ev3q"></p>
<p>在上篇文章 <a href="https://mp.weixin.qq.com/s/EedUriN_nMWIoZgJAZP6dQ" target="_blank" rel="noopener noreferrer">动手开发一个 MCP Server</a> 中讲了怎么开发一个 MCP Server，本文简单聊聊我对 MCP 的看法。</p>
<p>一直以来，我认为大模型工具的最终形态就是一个<strong>输入框</strong>。用户的任何需求，不论是写文章查资料写代码，还是旅游攻略订酒店，都只需求在输入框内输入需求，AI 会自动找到合适的工具去解决问题并最后进行反馈。</p>
<p>听起来非常的 <strong>Agent</strong>。</p>
<p>AI 擅长自然语言理解，擅长知识输出，擅长内容总结，而自动找到合适的工具，这是一个很大的挑战。</p>
<p>当前 AI 能自动找到合适的工具的前提是我们需要给 AI 提供足够多的工具，而大多数时候我们只能依赖使用的 AI App，比如 App 提供了联网功能，我们才可以使用联网搜索，但当我们希望使用一个操作本地文件的工具，只能等待 AI App 内置，或者自行开发；当我们因为工作环境切换，使用新的 AI app 时，一切可能都变了，要么没有对应的工具，要么不兼容，只能从头开始适配。</p>
<p>MCP 的出现很好的解决了这个问题，他将 AI 和外部数据如何交互进行了约定，保证一个符合 MCP 协议的工具是处处可用的。正因为如此，目前几乎能想到的服务都进行了 MCP 化，甚至高德百度地图都推出了 MCP Server。</p>
<p>对于用户来说，不必为了某个工具局限于某个 AI App 或者 Agent，有了 MCP 用户通过自由的组合 MCP Server 来创建独属于自己的 Agent，一切变得可插拔和模块化，给了用户极大的自由。另外，对于各种各样的外部服务，也不必再去想如何开发 Agent，而是暴露通用的 MCP Server 即可。</p>
<p>不过目前 MCP 并非完美，配置和使用成本对于普通用户来说并不低，并且如果要定制自己的 MCP Server 还需要有开发能力。在社交媒体能看到很多人表示“没有配置成功过”，也表示不如其他的 AI 功能效果来的快。</p>
<p>但我依旧非常看好 MCP，我认为这是 AI 能  力扩展上的一个正确而可行的路线，真正可以让 AI 接触到真实世界，从而更好的为人类服务。</p>
<hr>
<div align="center"><p>欢迎关注我的公众号：前端生存指南，一起聊聊前端、AI 和生活。</p><img src="https://cloud-minapp-47803.cloud.ifanrusercontent.com/1tvAM68Cvrx3bfLR.jpg" style="width:180px"></div></div><footer class="row docusaurus-mt-lg"><div class="col"><b>标签：</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/ai">AI</a></li></ul></div></footer></article><article class="margin-bottom--xl"><header><h2 class="title_f1Hy"><a href="/blog/2025-03-26-dev-mcp-server.md">动手开发一个 MCP Server</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2025-03-26T00:00:00.000Z">2025年3月26日</time> · <!-- -->阅读需 5 分钟</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--12 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/sleepy-zone" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo authorImage_XqGP" src="https://avatars.githubusercontent.com/u/131369648?v=4" alt="SleepyZone"></a><div class="avatar__intro authorDetails_lV9A"><div class="avatar__name"><a href="https://github.com/sleepy-zone" target="_blank" rel="noopener noreferrer"><span class="authorName_yefp">SleepyZone</span></a></div><small class="authorTitle_nd0D" title="前端开发 / 开源爱好者">前端开发 / 开源爱好者</small><div class="authorSocials_rSDt"></div></div></div></div></div></header><div class="markdown"><p><img decoding="async" loading="lazy" src="https://substackcdn.com/image/fetch/w_1456,c_limit,f_webp,q_auto:good,fl_lossy/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F840e868d-2c83-4b1b-a881-df1da6c6e332_1309x1536.gif" alt="https://blog.bytebytego.com/p/ep154-what-is-mcp" class="img_ev3q"></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="mcp-简介">MCP 简介<a href="#mcp-简介" class="hash-link" aria-label="MCP 简介的直接链接" title="MCP 简介的直接链接">​</a></h2>
<p>MCP，Model Context Protocol，模型上下文协议，是由 Anthropic （Claude 系列模型公司）提出的一种 AI 和外部数据（本地文件、远程 API、数据库以及其他所有你能想到的）交互的协议，以此来增强 AI 的能力。</p>
<p>MCP 遵循客户端-服务器模型，包含 3 个关键组件：</p>
<ol>
<li>Host，AI App，比如我们使用的 Claude App、ChatWise 等。</li>
<li>MCP Client，一般会由 AI App 集成，负责和 MCP Server 通信。</li>
<li>MCP Server，连接外部数据，并将数据返回给 MCP Client。这样 AI App 就可以获取外部数据了。</li>
</ol>
<p>如果你之前了解过 Function Call 或者 Tool（后面两者统一称为 Tool），应该对 MCP 这个概念会感到很熟悉，同样都是扩展 AI 的能力，但 Tool 需要在每个 AI 应用内单独集成无法复用，而 MCP 可以看做是一个更通用的 Tool，不论你使用哪个 AI App，只要 AI App 内置 MCP Client，就可以使用 MCP 市场的 Server。</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="动手开发">动手开发<a href="#动手开发" class="hash-link" aria-label="动手开发的直接链接" title="动手开发的直接链接">​</a></h2>
<p>一般来说，AI App 会集成 MCP Client，所以对于使用 AI App 的我们来说，我们唯一需要做的是定制 MCP Server，使我们的工具更加强大。</p>
<p>接下来我们要开发一个获取 Pixabay（<a href="https://pixabay.com/%EF%BC%89%E5%9B%BE%E7%89%87%E7%9A%84" target="_blank" rel="noopener noreferrer">https://pixabay.com/）图片的</a> MCP server。简单起见，我们直接使用 JavaScript。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="开发">开发<a href="#开发" class="hash-link" aria-label="开发的直接链接" title="开发的直接链接">​</a></h3>
<p>首先，创建项目：</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># Create a new directory for our project</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mkdir pixabay-mcp-server</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cd pixabay-mcp-server</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Initialize a new npm project</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">npm init -y</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Install dependencies</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">npm install @modelcontextprotocol/sdk zod</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Create our files</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">touch index.js</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>更新一下 package.json，这里设置一下 bin 和文件权限，其实 node 写 MCP Server 和写命令行工具差不多。</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;type&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;module&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;bin&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;pixabay&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;index.js&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;scripts&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;build&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot; chmod 755 index.js&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;files&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;index.js&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>下面开始编写逻辑代码。 <code>@modelcontextprotocol/sdk</code> 这个包来辅助我们编写 MCP Server。</p>
<p>首先定义 server：</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword module" style="color:#00009f">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:#393A34">{</span><span class="token imports"> </span><span class="token imports maybe-class-name">McpServer</span><span class="token imports"> </span><span class="token imports punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;@modelcontextprotocol/sdk/server/mcp.js&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword module" style="color:#00009f">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:#393A34">{</span><span class="token imports"> </span><span class="token imports maybe-class-name">StdioServerTransport</span><span class="token imports"> </span><span class="token imports punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;@modelcontextprotocol/sdk/server/stdio.js&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword module" style="color:#00009f">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:#393A34">{</span><span class="token imports"> z </span><span class="token imports punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;zod&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> baseUrl </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;https://pixabay.com/api/&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> server </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">McpServer</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">name</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;pixabay-mcp-server&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">version</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;1.0.0&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// 插入 tool 代码</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">async</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">startServer</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> transport </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">StdioServerTransport</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#00009f">await</span><span class="token plain"> server</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">connect</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">transport</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">startServer</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>下面定义 server 内的 tool（server 由一个个的 tool 组成）。</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">server</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">tool</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string" style="color:#e3116c">&#x27;image-search&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">query</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> z</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">string</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">type</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> z</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">string</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">async</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> query</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> type </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;all&#x27;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#00009f">try</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> requestUrl </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">${</span><span class="token template-string interpolation">baseUrl</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">}</span><span class="token template-string string" style="color:#e3116c">?key=</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">${</span><span class="token template-string interpolation">process</span><span class="token template-string interpolation punctuation" style="color:#393A34">.</span><span class="token template-string interpolation property-access">env</span><span class="token template-string interpolation punctuation" style="color:#393A34">.</span><span class="token template-string interpolation constant" style="color:#36acaa">PIXABAY_KEY</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">}</span><span class="token template-string string" style="color:#e3116c">&amp;q=</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">${</span><span class="token template-string interpolation">query</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">}</span><span class="token template-string string" style="color:#e3116c">&amp;image_type=</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">${</span><span class="token template-string interpolation">type</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">}</span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> response </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#00009f">await</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">fetch</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">requestUrl</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> json </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#00009f">await</span><span class="token plain"> response</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">json</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token literal-property property" style="color:#36acaa">content</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token literal-property property" style="color:#36acaa">type</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;text&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token literal-property property" style="color:#36acaa">text</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token known-class-name class-name">JSON</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">stringify</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token literal-property property" style="color:#36acaa">images</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> json</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">hits</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">||</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token literal-property property" style="color:#36acaa">total_results</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> json</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">total</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            query</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword null nil" style="color:#00009f">null</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#00009f">catch</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">e</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token literal-property property" style="color:#36acaa">content</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token literal-property property" style="color:#36acaa">type</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;text&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token literal-property property" style="color:#36acaa">text</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token template-string string" style="color:#e3116c">Error: </span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">${</span><span class="token template-string interpolation">e</span><span class="token template-string interpolation punctuation" style="color:#393A34">.</span><span class="token template-string interpolation property-access">message</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">}</span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token literal-property property" style="color:#36acaa">isError</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="调试">调试<a href="#调试" class="hash-link" aria-label="调试的直接链接" title="调试的直接链接">​</a></h3>
<p>官方提供了一个测试工具，<a href="https://github.com/modelcontextprotocol/inspector%EF%BC%8C%E5%8F%AF%E4%BB%A5%E6%89%A7%E8%A1%8C%E4%B8%8B%E9%9D%A2%E7%9A%84%E5%91%BD%E4%BB%A4%E6%B5%8B%E8%AF%95%EF%BC%9A" target="_blank" rel="noopener noreferrer">https://github.com/modelcontextprotocol/inspector，可以执行下面的命令测试：</a></p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">npx @modelcontextprotocol/inspector node index.js</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>访问 <a href="http://localhost:5173" target="_blank" rel="noopener noreferrer">http://localhost:5173</a> 调试。如下图，我们可以看到连接成功后，列举出我们定义的 tool，并且可以解析出 tool 需要的参数，我们输入参数后，点击 run tool 获取到数据，就说明成功了！</p>
<p><img decoding="async" loading="lazy" src="https://fastly.jsdelivr.net/gh/bucketio/img14@main/2025/03/26/1742958541480-37dc5ca2-8787-4f00-8bb3-b7854342c2af.png" alt="" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="发布">发布<a href="#发布" class="hash-link" aria-label="发布的直接链接" title="发布的直接链接">​</a></h3>
<p>调试成功后，将上述代码发布到 npm，后面就可以在你喜欢的 AI App 使用你的 MCP sever 了，比如你的包的名字就叫 <code>pixabay-mcp-server</code>，这里以 Cursor 或者 Cline 为例配置：</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;mcpServers&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;pixabay-mcp-server&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;command&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;npx&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;args&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">&quot;-y&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">&quot;pixabay-mcp-server&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;env&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token property" style="color:#36acaa">&quot;PIXABAY&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;xxxxx&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>当我们向 AI 提出问题 <code>search cat photos</code>，AI 会识别到需要调用我们的工具，并且准确识别到需要提供的参数：</p>
<p><img decoding="async" loading="lazy" src="https://fastly.jsdelivr.net/gh/bucketio/img18@main/2025/03/26/1742959168926-840fc544-282b-449f-9c1b-3c0fc963b2cb.png" alt="" class="img_ev3q"></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="后面">后面<a href="#后面" class="hash-link" aria-label="后面的直接链接" title="后面的直接链接">​</a></h2>
<p>使用 Node.js 写一个 MCP Server 还是很简单的，可以通过官方文档了解更多：<a href="https://modelcontextprotocol.io/quickstart/server%E3%80%82" target="_blank" rel="noopener noreferrer">https://modelcontextprotocol.io/quickstart/server。</a></p>
<p>MCP Server 大大扩展了我们使用 AI 的边界，下一篇文章简单聊聊我对 MCP 的一点看法。</p>
<hr>
<div align="center"><p>欢迎关注我的公众号：前端生存指南，一起聊聊前端、AI 和生活。</p><img src="https://cloud-minapp-47803.cloud.ifanrusercontent.com/1tvAM68Cvrx3bfLR.jpg" style="width:180px"></div></div><footer class="row docusaurus-mt-lg"><div class="col"><b>标签：</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/ai">AI</a></li></ul></div></footer></article><article class="margin-bottom--xl"><header><h2 class="title_f1Hy"><a href="/blog/2025-03-21-woocs">woocs，基于 doocs/md 的微信 Markdown 编辑器桌面应用</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2025-03-21T00:00:00.000Z">2025年3月21日</time> · <!-- -->阅读需 4 分钟</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--12 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/sleepy-zone" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo authorImage_XqGP" src="https://avatars.githubusercontent.com/u/131369648?v=4" alt="SleepyZone"></a><div class="avatar__intro authorDetails_lV9A"><div class="avatar__name"><a href="https://github.com/sleepy-zone" target="_blank" rel="noopener noreferrer"><span class="authorName_yefp">SleepyZone</span></a></div><small class="authorTitle_nd0D" title="前端开发 / 开源爱好者">前端开发 / 开源爱好者</small><div class="authorSocials_rSDt"></div></div></div></div></div></header><div class="markdown"><p>前两天推荐了一款微信 Markdown 编辑器：doocs/md，并在文章末尾预告：正在基于该项目开发微信 Markdown 编辑器桌面应用。今天他来了 - <strong>woocs</strong>，基于 doocs/md 的微信 Markdown 编辑器桌面应用，正式发布了！</p>
<p>项目地址：<a href="https://github.com/sleepy-zone/woocs%E3%80%82" target="_blank" rel="noopener noreferrer">https://github.com/sleepy-zone/woocs。</a></p>
<p>官网地址：<a href="https://sleepy-zone.github.io/woocs-home/" target="_blank" rel="noopener noreferrer">https://sleepy-zone.github.io/woocs-home/</a></p>
<p><img decoding="async" loading="lazy" src="https://fastly.jsdelivr.net/gh/bucketio/img1@main/2025/03/21/1742532066065-adbefcb7-01b4-421e-b466-0ec01e0e7e86.png" alt="woocs home page" class="img_ev3q"></p>
<p>（上面截图是我用 vibe coding 的方式快速上线的官网 😁）</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="关于-woocs">关于 woocs<a href="#关于-woocs" class="hash-link" aria-label="关于 woocs的直接链接" title="关于 woocs的直接链接">​</a></h2>
<p>初次使用 doocs/md 十分惊艳，但作为编辑器，我还是更喜欢使用桌面应用，喜欢将编辑的文本存储在个人目录而不是浏览器的 localStorage 中，这样我即可以将文章存在本地，由于我使用的是 Mac，我还可以将文稿目录设置为 iCloud 同步，在我的其他设备上继续查看和编辑。</p>
<p>很快我基于 electron-vite 就将 doocs/md 封装成为了一个桌面应用，这得益于两者都是 vite 的构建，两者源码、构建配置出奇的契合，关于技术细节不在这里赘述。</p>
<p>woocs 项目主要在保留 doocs/md 原功能的前提下，对其进行了桌面化适配：</p>
<ul>
<li>本地内容管理，从 <code>localStorage</code> 移动至 <code>${用户文档目录}/woocs</code></li>
<li>将新建、设置、导入导出、关于等操作移动至菜单栏，并对常用操作增加快捷键</li>
<li>将原菜单栏和设置的重复项合并至设置面板内</li>
<li>新增工具栏，将格式、上传、表格、内容管理、新建等移动至工具栏</li>
</ul>
<p><img decoding="async" loading="lazy" src="https://fastly.jsdelivr.net/gh/bucketio/img4@main/2025/03/21/1742532797887-f80380ba-86a7-46ca-9922-c4704055706b.png" alt="" class="img_ev3q"></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="写在后面">写在后面<a href="#写在后面" class="hash-link" aria-label="写在后面的直接链接" title="写在后面的直接链接">​</a></h2>
<p>本来 woocs 只是作为自己用的一个工具在开发，前两天晚上转了一位博主推荐 doocs/md 的推，并预告了一下自己正在开发基于 doocs/md 的微信 Markdown 编辑器桌面应用，没想到得到巨大的关注。截止目前已经有 2.4w 的曝光，并带来了 40+ 的关注，甚至有手快的小伙伴已经自己打包使用并提交了 pr，这种自己顺手做的事情能帮助很多人的感觉真的很不错。</p>
<p>再次感谢 doocs/md、electron-vite 等优秀的开源项目，因为开源才有了 woocs。最后希望大家用的开心写的开心，如果你也喜欢 woocs，请给个 star 吧😊。</p>
<hr>
<div align="center"><p>欢迎关注我的公众号：前端生存指南，一起聊聊前端、AI 和生活。</p><img src="https://cloud-minapp-47803.cloud.ifanrusercontent.com/1tvAM68Cvrx3bfLR.jpg" style="width:180px"></div></div><footer class="row docusaurus-mt-lg"><div class="col"><b>标签：</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/open-source">OpenSource</a></li></ul></div></footer></article><nav class="pagination-nav" aria-label="博文列表分页导航"><a class="pagination-nav__link pagination-nav__link--next" href="/blog/page/2"><div class="pagination-nav__label">较旧的博文</div></a></nav></main></div></div></div></div>
</body>
</html>